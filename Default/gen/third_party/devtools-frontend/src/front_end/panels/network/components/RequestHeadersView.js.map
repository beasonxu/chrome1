{"version":3,"file":"RequestHeadersView.js","sourceRoot":"","sources":["../../../../../../../../../../third_party/devtools-frontend/src/front_end/panels/network/components/RequestHeadersView.ts"],"names":[],"mappings":"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","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as Common from '../../../core/common/common.js';\nimport * as Host from '../../../core/host/host.js';\nimport * as i18n from '../../../core/i18n/i18n.js';\nimport * as Platform from '../../../core/platform/platform.js';\nimport * as Root from '../../../core/root/root.js';\nimport * as SDK from '../../../core/sdk/sdk.js';\nimport * as Protocol from '../../../generated/protocol.js';\nimport * as IssuesManager from '../../../models/issues_manager/issues_manager.js';\nimport * as Persistence from '../../../models/persistence/persistence.js';\nimport * as Workspace from '../../../models/workspace/workspace.js';\nimport * as NetworkForward from '../../../panels/network/forward/forward.js';\nimport * as ClientVariations from '../../../third_party/chromium/client-variations/client-variations.js';\nimport * as Buttons from '../../../ui/components/buttons/buttons.js';\nimport * as ComponentHelpers from '../../../ui/components/helpers/helpers.js';\nimport * as IconButton from '../../../ui/components/icon_button/icon_button.js';\nimport * as Input from '../../../ui/components/input/input.js';\nimport * as UI from '../../../ui/legacy/legacy.js';\nimport * as LitHtml from '../../../ui/lit-html/lit-html.js';\nimport * as Sources from '../../sources/sources.js';\n\nimport requestHeadersViewStyles from './RequestHeadersView.css.js';\n\nconst RAW_HEADER_CUTOFF = 3000;\nconst {render, html} = LitHtml;\n\nconst UIStrings = {\n  /**\n  *@description Comment used in decoded X-Client-Data HTTP header output in Headers View of the Network panel\n  */\n  activeClientExperimentVariation: 'Active `client experiment variation IDs`.',\n  /**\n  *@description Comment used in decoded X-Client-Data HTTP header output in Headers View of the Network panel\n  */\n  activeClientExperimentVariationIds: 'Active `client experiment variation IDs` that trigger server-side behavior.',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  chooseThisOptionIfTheResourceAnd:\n      'Choose this option if the resource and the document are served from the same site.',\n  /**\n  *@description Text in Headers View of the Network panel for X-Client-Data HTTP headers\n  */\n  decoded: 'Decoded:',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromDiskCache: '(from disk cache)',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromMemoryCache: '(from memory cache)',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromPrefetchCache: '(from prefetch cache)',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromServiceWorker: '(from `service worker`)',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromSignedexchange: '(from signed-exchange)',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  fromWebBundle: '(from Web Bundle)',\n  /**\n  *@description Section header for a list of the main aspects of a http request\n  */\n  general: 'General',\n  /**\n  *@description Label for a link from the network panel's headers view to the file in which\n  * header overrides are defined in the sources panel.\n  */\n  headerOverrides: 'Header overrides',\n  /**\n  *@description Text that is usually a hyperlink to more documentation\n  */\n  learnMore: 'Learn more',\n  /**\n  *@description Text for a link to the issues panel\n  */\n  learnMoreInTheIssuesTab: 'Learn more in the issues tab',\n  /**\n  *@description Label for a checkbox to switch between raw and parsed headers\n  */\n  raw: 'Raw',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  onlyChooseThisOptionIfAn:\n      'Only choose this option if an arbitrary website including this resource does not impose a security risk.',\n  /**\n  *@description Message to explain lack of raw headers for a particular network request\n  */\n  provisionalHeadersAreShownDisableCache: 'Provisional headers are shown. Disable cache to see full headers.',\n  /**\n  *@description Tooltip to explain lack of raw headers for a particular network request\n  */\n  onlyProvisionalHeadersAre:\n      'Only provisional headers are available because this request was not sent over the network and instead was served from a local cache, which doesnâ€™t store the original request headers. Disable cache to see full request headers.',\n  /**\n  *@description Message to explain lack of raw headers for a particular network request\n  */\n  provisionalHeadersAreShown: 'Provisional headers are shown.',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  referrerPolicy: 'Referrer Policy',\n  /**\n  *@description Text in Network Log View Columns of the Network panel\n  */\n  remoteAddress: 'Remote Address',\n  /**\n  *@description Text in Request Headers View of the Network panel\n  */\n  requestHeaders: 'Request Headers',\n  /**\n  *@description The HTTP method of a request\n  */\n  requestMethod: 'Request Method',\n  /**\n  *@description The URL of a request\n  */\n  requestUrl: 'Request URL',\n  /**\n  *@description A context menu item in the Network Log View Columns of the Network panel\n  */\n  responseHeaders: 'Response Headers',\n  /**\n  *@description Text to show more content\n  */\n  showMore: 'Show more',\n  /**\n  *@description HTTP response code\n  */\n  statusCode: 'Status Code',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  thisDocumentWasBlockedFrom:\n      'This document was blocked from loading in an `iframe` with a `sandbox` attribute because this document specified a cross-origin opener policy.',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  toEmbedThisFrameInYourDocument:\n      'To embed this frame in your document, the response needs to enable the cross-origin embedder policy by specifying the following response header:',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  toUseThisResourceFromADifferent:\n      'To use this resource from a different origin, the server needs to specify a cross-origin resource policy in the response headers:',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  toUseThisResourceFromADifferentOrigin:\n      'To use this resource from a different origin, the server may relax the cross-origin resource policy response header:',\n  /**\n  *@description Text in Headers View of the Network panel\n  */\n  toUseThisResourceFromADifferentSite:\n      'To use this resource from a different site, the server may relax the cross-origin resource policy response header:',\n};\nconst str_ = i18n.i18n.registerUIStrings('panels/network/components/RequestHeadersView.ts', UIStrings);\nconst i18nString = i18n.i18n.getLocalizedString.bind(undefined, str_);\nconst i18nLazyString = i18n.i18n.getLazilyComputedLocalizedString.bind(undefined, str_);\n\nexport class RequestHeadersView extends UI.Widget.VBox {\n  readonly #headersView = new RequestHeadersComponent();\n  readonly #request: SDK.NetworkRequest.NetworkRequest;\n\n  constructor(request: SDK.NetworkRequest.NetworkRequest) {\n    super();\n    this.#request = request;\n    this.contentElement.appendChild(this.#headersView);\n  }\n\n  wasShown(): void {\n    this.#request.addEventListener(SDK.NetworkRequest.Events.RemoteAddressChanged, this.#refreshHeadersView, this);\n    this.#request.addEventListener(SDK.NetworkRequest.Events.FinishedLoading, this.#refreshHeadersView, this);\n    this.#request.addEventListener(SDK.NetworkRequest.Events.RequestHeadersChanged, this.#refreshHeadersView, this);\n    this.#request.addEventListener(SDK.NetworkRequest.Events.ResponseHeadersChanged, this.#refreshHeadersView, this);\n    this.#refreshHeadersView();\n  }\n\n  willHide(): void {\n    this.#request.removeEventListener(SDK.NetworkRequest.Events.RemoteAddressChanged, this.#refreshHeadersView, this);\n    this.#request.removeEventListener(SDK.NetworkRequest.Events.FinishedLoading, this.#refreshHeadersView, this);\n    this.#request.removeEventListener(SDK.NetworkRequest.Events.RequestHeadersChanged, this.#refreshHeadersView, this);\n    this.#request.removeEventListener(SDK.NetworkRequest.Events.ResponseHeadersChanged, this.#refreshHeadersView, this);\n  }\n\n  #refreshHeadersView(): void {\n    this.#headersView.data = {\n      request: this.#request,\n    };\n  }\n\n  revealHeader(section: NetworkForward.UIRequestLocation.UIHeaderSection, header?: string): void {\n    this.#headersView.data = {\n      request: this.#request,\n      toReveal: {section, header: header},\n    };\n  }\n}\n\nexport interface RequestHeadersComponentData {\n  request: SDK.NetworkRequest.NetworkRequest;\n  toReveal?: {section: NetworkForward.UIRequestLocation.UIHeaderSection, header?: string};\n}\n\nexport class RequestHeadersComponent extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-request-headers`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #request?: Readonly<SDK.NetworkRequest.NetworkRequest>;\n  #showResponseHeadersText = false;\n  #showRequestHeadersText = false;\n  #showResponseHeadersTextFull = false;\n  #showRequestHeadersTextFull = false;\n  #toReveal?: {section: NetworkForward.UIRequestLocation.UIHeaderSection, header?: string} = undefined;\n  readonly #workspace = Workspace.Workspace.WorkspaceImpl.instance();\n\n  set data(data: RequestHeadersComponentData) {\n    this.#request = data.request;\n    this.#toReveal = data.toReveal;\n    this.#render();\n  }\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [requestHeadersViewStyles];\n    this.#workspace.addEventListener(\n        Workspace.Workspace.Events.UISourceCodeAdded, this.#uiSourceCodeAddedOrRemoved, this);\n    this.#workspace.addEventListener(\n        Workspace.Workspace.Events.UISourceCodeRemoved, this.#uiSourceCodeAddedOrRemoved, this);\n  }\n\n  disconnectedCallback(): void {\n    this.#workspace.removeEventListener(\n        Workspace.Workspace.Events.UISourceCodeAdded, this.#uiSourceCodeAddedOrRemoved, this);\n    this.#workspace.removeEventListener(\n        Workspace.Workspace.Events.UISourceCodeRemoved, this.#uiSourceCodeAddedOrRemoved, this);\n  }\n\n  #uiSourceCodeAddedOrRemoved(event: Common.EventTarget.EventTargetEvent<Workspace.UISourceCode.UISourceCode>): void {\n    if (this.#getHeaderOverridesFileUrl() === event.data.url()) {\n      this.#render();\n    }\n  }\n\n  #render(): void {\n    if (!this.#request) {\n      return;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      ${this.#renderGeneralSection()}\n      ${this.#renderResponseHeaders()}\n      ${this.#renderRequestHeaders()}\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n\n  #renderResponseHeaders(): LitHtml.LitTemplate {\n    if (!this.#request) {\n      return LitHtml.nothing;\n    }\n\n    const headersWithIssues = [];\n    if (this.#request.wasBlocked()) {\n      const headerWithIssues =\n          BlockedReasonDetails.get((this.#request.blockedReason() as Protocol.Network.BlockedReason));\n      if (headerWithIssues) {\n        headersWithIssues.push(headerWithIssues);\n      }\n    }\n\n    function mergeHeadersWithIssues(\n        headers: SDK.NetworkRequest.NameValue[], headersWithIssues: HeaderDescriptor[]): HeaderDescriptor[] {\n      let i = 0, j = 0;\n      const result: HeaderDescriptor[] = [];\n      while (i < headers.length && j < headersWithIssues.length) {\n        if (headers[i].name < headersWithIssues[j].name) {\n          result.push({...headers[i++], headerNotSet: false});\n        } else if (headers[i].name > headersWithIssues[j].name) {\n          result.push({...headersWithIssues[j++], headerNotSet: true});\n        } else {\n          result.push({...headersWithIssues[j++], ...headers[i++], headerNotSet: false});\n        }\n      }\n      while (i < headers.length) {\n        result.push({...headers[i++], headerNotSet: false});\n      }\n      while (j < headersWithIssues.length) {\n        result.push({...headersWithIssues[j++], headerNotSet: true});\n      }\n      return result;\n    }\n\n    const mergedHeaders = mergeHeadersWithIssues(this.#request.sortedResponseHeaders.slice(), headersWithIssues);\n\n    const blockedResponseCookies = this.#request.blockedResponseCookies();\n    const blockedCookieLineToReasons = new Map<string, Protocol.Network.SetCookieBlockedReason[]>(\n        blockedResponseCookies?.map(c => [c.cookieLine, c.blockedReasons]));\n    for (const header of mergedHeaders) {\n      if (header.name.toLowerCase() === 'set-cookie' && header.value) {\n        const matchingBlockedReasons = blockedCookieLineToReasons.get(header.value.toString());\n        if (matchingBlockedReasons) {\n          header.setCookieBlockedReasons = matchingBlockedReasons;\n        }\n      }\n    }\n\n    const toggleShowRaw = (): void => {\n      this.#showResponseHeadersText = !this.#showResponseHeadersText;\n      this.#render();\n    };\n\n    if (!mergedHeaders.length) {\n      return LitHtml.nothing;\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <${Category.litTagName}\n        @togglerawevent=${toggleShowRaw}\n        .data=${{\n          name: 'responseHeaders',\n          title: i18nString(UIStrings.responseHeaders),\n          headerCount: this.#request.sortedResponseHeaders.length,\n          checked: this.#request.responseHeadersText ? this.#showResponseHeadersText : undefined,\n          additionalContent: this.#renderHeaderOverridesLink(),\n          forceOpen: this.#toReveal?.section === NetworkForward.UIRequestLocation.UIHeaderSection.Response,\n        } as CategoryData}\n        aria-label=${i18nString(UIStrings.responseHeaders)}\n      >\n        ${this.#showResponseHeadersText ?\n            this.#renderRawHeaders(this.#request.responseHeadersText, true) : html`\n          ${mergedHeaders.map(header => this.#renderHeader(header, NetworkForward.UIRequestLocation.UIHeaderSection.Response))}\n        `}\n      </${Category.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #renderHeaderOverridesLink(): LitHtml.LitTemplate {\n    const overrideable = Root.Runtime.experiments.isEnabled(Root.Runtime.ExperimentName.HEADER_OVERRIDES);\n    if (!overrideable || !this.#workspace.uiSourceCodeForURL(this.#getHeaderOverridesFileUrl())) {\n      return LitHtml.nothing;\n    }\n\n    const overridesSetting: Common.Settings.Setting<boolean> =\n        Common.Settings.Settings.instance().moduleSetting('persistenceNetworkOverridesEnabled');\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    const fileIcon = overridesSetting.get() ? html`\n      <${IconButton.Icon.Icon.litTagName} class=\"inline-icon purple-dot\" .data=${{\n          iconName: 'file-sync_icon',\n          width: '11px',\n          height: '13px',\n        } as IconButton.Icon.IconData}>\n      </${IconButton.Icon.Icon.litTagName}>` : html`\n      <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n          iconName: 'file_icon',\n          color: 'var(--color-text-primary)',\n          width: '12px',\n          height: '12px',\n        } as IconButton.Icon.IconData}>\n      </${IconButton.Icon.Icon.litTagName}>`;\n    // clang-format on\n\n    const revealHeadersFile = (event: Event): void => {\n      event.preventDefault();\n      const uiSourceCode = this.#workspace.uiSourceCodeForURL(this.#getHeaderOverridesFileUrl());\n      if (uiSourceCode) {\n        Sources.SourcesPanel.SourcesPanel.instance().showUISourceCode(uiSourceCode);\n      }\n    };\n\n    return html`\n      <x-link @click=${revealHeadersFile} class=\"link devtools-link\">\n        ${fileIcon}${i18nString(UIStrings.headerOverrides)}\n      </x-link>\n    `;\n  }\n\n  #getHeaderOverridesFileUrl(): Platform.DevToolsPath.UrlString {\n    if (!this.#request) {\n      return Platform.DevToolsPath.EmptyUrlString;\n    }\n    const fileUrl = Persistence.NetworkPersistenceManager.NetworkPersistenceManager.instance().fileUrlFromNetworkUrl(\n        this.#request.url(), /* ignoreInactive */ true);\n    return fileUrl.substring(0, fileUrl.lastIndexOf('/')) + '/' +\n        Persistence.NetworkPersistenceManager.HEADERS_FILENAME as Platform.DevToolsPath.UrlString;\n  }\n\n  #renderRequestHeaders(): LitHtml.LitTemplate {\n    if (!this.#request) {\n      return LitHtml.nothing;\n    }\n\n    const headers = this.#request.requestHeaders().slice();\n    headers.sort(function(a, b) {\n      return Platform.StringUtilities.compare(a.name.toLowerCase(), b.name.toLowerCase());\n    });\n    const requestHeadersText = this.#request.requestHeadersText();\n    if (!headers.length && requestHeadersText !== undefined) {\n      return LitHtml.nothing;\n    }\n\n    const toggleShowRaw = (): void => {\n      this.#showRequestHeadersText = !this.#showRequestHeadersText;\n      this.#render();\n    };\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <${Category.litTagName}\n        @togglerawevent=${toggleShowRaw}\n        .data=${{\n          name: 'requestHeaders',\n          title: i18nString(UIStrings.requestHeaders),\n          headerCount: this.#request.requestHeaders().length,\n          checked: requestHeadersText? this.#showRequestHeadersText : undefined,\n          forceOpen: this.#toReveal?.section === NetworkForward.UIRequestLocation.UIHeaderSection.Request,\n        } as CategoryData}\n        aria-label=${i18nString(UIStrings.requestHeaders)}\n      >\n        ${(this.#showRequestHeadersText && requestHeadersText) ?\n            this.#renderRawHeaders(requestHeadersText, false) : html`\n          ${this.#maybeRenderProvisionalHeadersWarning()}\n          ${headers.map(header => this.#renderHeader({...header, headerNotSet: false}, NetworkForward.UIRequestLocation.UIHeaderSection.Request))}\n        `}\n      </${Category.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderProvisionalHeadersWarning(): LitHtml.LitTemplate {\n    if (!this.#request || this.#request.requestHeadersText() !== undefined) {\n      return LitHtml.nothing;\n    }\n\n    let cautionText;\n    let cautionTitle = '';\n    if (this.#request.cachedInMemory() || this.#request.cached()) {\n      cautionText = i18nString(UIStrings.provisionalHeadersAreShownDisableCache);\n      cautionTitle = i18nString(UIStrings.onlyProvisionalHeadersAre);\n    } else {\n      cautionText = i18nString(UIStrings.provisionalHeadersAreShown);\n    }\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <div class=\"call-to-action\">\n        <div class=\"call-to-action-body\">\n          <div class=\"explanation\" title=${cautionTitle}>\n            <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n                iconName: 'clear-warning_icon',\n                width: '12px',\n                height: '12px',\n              } as IconButton.Icon.IconData}>\n            </${IconButton.Icon.Icon.litTagName}>\n            ${cautionText} <x-link href=\"https://developer.chrome.com/docs/devtools/network/reference/#provisional-headers\" class=\"link\">${i18nString(UIStrings.learnMore)}</x-link>\n          </div>\n        </div>\n      </div>\n    `;\n    // clang-format on\n  }\n\n  #renderHeader(header: HeaderDescriptor, section: NetworkForward.UIRequestLocation.UIHeaderSection):\n      LitHtml.TemplateResult {\n    const isHighlighted =\n        section === this.#toReveal?.section && header.name.toUpperCase() === this.#toReveal?.header?.toUpperCase();\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <div class=\"row ${isHighlighted ? 'header-highlight' : ''}\">\n        <div class=\"header-name\">\n          ${header.headerNotSet ?\n            html`<div class=\"header-badge header-badge-text\">${i18n.i18n.lockedString('not-set')}</div>` :\n            LitHtml.nothing\n          }${header.name}:\n        </div>\n        <div\n          class=\"header-value ${header.headerValueIncorrect ? 'header-warning' : ''}\"\n          @copy=${():void => Host.userMetrics.actionTaken(Host.UserMetrics.Action.NetworkPanelCopyValue)}\n        >\n          ${header.value?.toString() || ''}\n          ${this.#maybeRenderHeaderValueSuffix(header)}\n        </div>\n      </div>\n      ${this.#maybeRenderBlockedDetails(header.blockedDetails)}\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderHeaderValueSuffix(header: HeaderDescriptor): LitHtml.LitTemplate {\n    const headerId = header.name.toLowerCase();\n\n    if (headerId === 'set-cookie' && header.setCookieBlockedReasons) {\n      const titleText =\n          header.setCookieBlockedReasons.map(SDK.NetworkRequest.setCookieBlockedReasonToUiString).join('\\n');\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      return html`\n        <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" title=${titleText} .data=${{\n            iconName: 'clear-warning_icon',\n            width: '12px',\n            height: '12px',\n          } as IconButton.Icon.IconData}>\n        </${IconButton.Icon.Icon.litTagName}>\n      `;\n      // clang-format on\n    }\n\n    if (headerId === 'x-client-data') {\n      const data = ClientVariations.parseClientVariations(header.value?.toString() || '');\n      const output = ClientVariations.formatClientVariations(\n          data, i18nString(UIStrings.activeClientExperimentVariation),\n          i18nString(UIStrings.activeClientExperimentVariationIds));\n      return html`\n        <div>${i18nString(UIStrings.decoded)}</div>\n        <code>${output}</code>\n      `;\n    }\n\n    return LitHtml.nothing;\n  }\n\n  #maybeRenderBlockedDetails(blockedDetails?: BlockedDetailsDescriptor): LitHtml.LitTemplate {\n    if (!blockedDetails) {\n      return LitHtml.nothing;\n    }\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <div class=\"call-to-action\">\n        <div class=\"call-to-action-body\">\n          <div class=\"explanation\">${blockedDetails.explanation()}</div>\n          ${blockedDetails.examples.map(example => html`\n            <div class=\"example\">\n              <code>${example.codeSnippet}</code>\n              ${example.comment ? html`\n                <span class=\"comment\">${example.comment()}</span>\n              ` : ''}\n            </div>\n          `)}\n          ${this.#maybeRenderBlockedDetailsLink(blockedDetails)}\n        </div>\n      </div>\n    `;\n    // clang-format on\n  }\n\n  #maybeRenderBlockedDetailsLink(blockedDetails?: BlockedDetailsDescriptor): LitHtml.LitTemplate {\n    if (this.#request && IssuesManager.RelatedIssue.hasIssueOfCategory(this.#request, IssuesManager.Issue.IssueCategory.CrossOriginEmbedderPolicy)) {\n      const followLink = (): void => {\n        Host.userMetrics.issuesPanelOpenedFrom(Host.UserMetrics.IssueOpener.LearnMoreLinkCOEP);\n        if (this.#request) {\n          void IssuesManager.RelatedIssue.reveal(\n              this.#request, IssuesManager.Issue.IssueCategory.CrossOriginEmbedderPolicy);\n        }\n      };\n      return html`\n        <div class=\"devtools-link\" @click=${followLink}>\n          <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n            iconName: 'issue-exclamation-icon',\n            color: 'var(--issue-color-yellow)',\n            width: '16px',\n            height: '16px',\n            } as IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}>\n          ${i18nString(UIStrings.learnMoreInTheIssuesTab)}\n        </div>\n      `;\n    }\n    if (blockedDetails?.link) {\n      // Disabled until https://crbug.com/1079231 is fixed.\n      // clang-format off\n      return html`\n        <x-link href=${blockedDetails.link.url} class=\"link\">\n          <${IconButton.Icon.Icon.litTagName} class=\"inline-icon\" .data=${{\n            iconName: 'link_icon',\n            color: 'var(--color-link)',\n            width: '16px',\n            height: '16px',\n          } as IconButton.Icon.IconData}>\n          </${IconButton.Icon.Icon.litTagName}\n          >${i18nString(UIStrings.learnMore)}\n        </x-link>\n      `;\n      // clang-format on\n    }\n    return LitHtml.nothing;\n  }\n\n  #renderRawHeaders(rawHeadersText: string, forResponseHeaders: boolean): LitHtml.TemplateResult {\n    const trimmed = rawHeadersText.trim();\n    const showFull = forResponseHeaders ? this.#showResponseHeadersTextFull : this.#showRequestHeadersTextFull;\n    const isShortened = !showFull && trimmed.length > RAW_HEADER_CUTOFF;\n\n    const showMore = ():void => {\n      if (forResponseHeaders) {\n        this.#showResponseHeadersTextFull = true;\n      } else {\n        this.#showRequestHeadersTextFull = true;\n      }\n      this.#render();\n    };\n\n    const onContextMenuOpen = (event: Event): void => {\n      const showFull = forResponseHeaders ? this.#showResponseHeadersTextFull : this.#showRequestHeadersTextFull;\n      if (!showFull) {\n        const contextMenu = new UI.ContextMenu.ContextMenu(event);\n        const section = contextMenu.newSection();\n        section.appendItem(i18nString(UIStrings.showMore), showMore);\n        void contextMenu.show();\n      }\n    };\n\n    const addContextMenuListener = (el: Element):void => {\n      if (isShortened) {\n        el.addEventListener('contextmenu', onContextMenuOpen);\n      }\n    };\n\n    return html`\n      <div class=\"row raw-headers-row\" on-render=${ComponentHelpers.Directives.nodeRenderedCallback(addContextMenuListener)}>\n        <div class=\"raw-headers\">${isShortened ? trimmed.substring(0, RAW_HEADER_CUTOFF) : trimmed}</div>\n        ${isShortened ? html`\n          <${Buttons.Button.Button.litTagName}\n            .size=${Buttons.Button.Size.SMALL}\n            .variant=${Buttons.Button.Variant.SECONDARY}\n            @click=${showMore}\n          >${i18nString(UIStrings.showMore)}</${Buttons.Button.Button.litTagName}>\n        ` : LitHtml.nothing}\n      </div>\n    `;\n  }\n\n  #renderGeneralSection(): LitHtml.LitTemplate {\n    if (!this.#request) {\n      return LitHtml.nothing;\n    }\n\n    const statusClasses = [];\n    if (this.#request.statusCode < 300 || this.#request.statusCode === 304) {\n      statusClasses.push('green-circle');\n    } else if (this.#request.statusCode < 400) {\n      statusClasses.push('yellow-circle');\n    } else {\n      statusClasses.push('red-circle');\n    }\n\n    let statusText = this.#request.statusCode + ' ' + this.#request.statusText;\n    if (this.#request.cachedInMemory()) {\n      statusText += ' ' + i18nString(UIStrings.fromMemoryCache);\n      statusClasses.push('status-with-comment');\n    } else if (this.#request.fetchedViaServiceWorker) {\n      statusText += ' ' + i18nString(UIStrings.fromServiceWorker);\n      statusClasses.push('status-with-comment');\n    } else if (this.#request.redirectSourceSignedExchangeInfoHasNoErrors()) {\n      statusText += ' ' + i18nString(UIStrings.fromSignedexchange);\n      statusClasses.push('status-with-comment');\n    } else if (this.#request.webBundleInnerRequestInfo()) {\n      statusText += ' ' + i18nString(UIStrings.fromWebBundle);\n      statusClasses.push('status-with-comment');\n    } else if (this.#request.fromPrefetchCache()) {\n      statusText += ' ' + i18nString(UIStrings.fromPrefetchCache);\n      statusClasses.push('status-with-comment');\n    } else if (this.#request.cached()) {\n      statusText += ' ' + i18nString(UIStrings.fromDiskCache);\n      statusClasses.push('status-with-comment');\n    }\n\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    return html`\n      <${Category.litTagName}\n        .data=${{\n          name: 'general',\n          title: i18nString(UIStrings.general),\n          forceOpen: this.#toReveal?.section === NetworkForward.UIRequestLocation.UIHeaderSection.General,\n        } as CategoryData}\n        aria-label=${i18nString(UIStrings.general)}\n      >\n        ${this.#renderGeneralRow(i18nString(UIStrings.requestUrl), this.#request.url())}\n        ${this.#request.statusCode? this.#renderGeneralRow(i18nString(UIStrings.requestMethod), this.#request.requestMethod) : LitHtml.nothing}\n        ${this.#request.statusCode? this.#renderGeneralRow(i18nString(UIStrings.statusCode), statusText, statusClasses) : LitHtml.nothing}\n        ${this.#request.remoteAddress()? this.#renderGeneralRow(i18nString(UIStrings.remoteAddress), this.#request.remoteAddress()) : LitHtml.nothing}\n        ${this.#request.referrerPolicy()? this.#renderGeneralRow(i18nString(UIStrings.referrerPolicy), String(this.#request.referrerPolicy())) : LitHtml.nothing}\n      </${Category.litTagName}>\n    `;\n    // clang-format on\n  }\n\n  #renderGeneralRow(name: Common.UIString.LocalizedString, value: string, classNames?: string[]): LitHtml.LitTemplate {\n    const isHighlighted = this.#toReveal?.section === NetworkForward.UIRequestLocation.UIHeaderSection.General &&\n        name.toUpperCase() === this.#toReveal?.header?.toUpperCase();\n    return html`\n      <div class=\"row ${isHighlighted ? 'header-highlight' : ''}\">\n        <div class=\"header-name\">${name}:</div>\n        <div\n          class=\"header-value ${classNames?.join(' ')}\"\n          @copy=${(): void => Host.userMetrics.actionTaken(Host.UserMetrics.Action.NetworkPanelCopyValue)}\n        >${value}</div>\n      </div>\n    `;\n  }\n}\n\nexport class ToggleRawHeadersEvent extends Event {\n  static readonly eventName = 'togglerawevent';\n\n  constructor() {\n    super(ToggleRawHeadersEvent.eventName, {});\n  }\n}\n\nexport interface CategoryData {\n  name: string;\n  title: Common.UIString.LocalizedString;\n  headerCount?: number;\n  checked?: boolean;\n  additionalContent?: LitHtml.LitTemplate;\n  forceOpen?: boolean;\n}\n\nexport class Category extends HTMLElement {\n  static readonly litTagName = LitHtml.literal`devtools-request-headers-category`;\n  readonly #shadow = this.attachShadow({mode: 'open'});\n  #expandedSetting?: Common.Settings.Setting<boolean>;\n  #title: Common.UIString.LocalizedString = Common.UIString.LocalizedEmptyString;\n  #headerCount?: number = undefined;\n  #checked: boolean|undefined = undefined;\n  #additionalContent: LitHtml.LitTemplate|undefined = undefined;\n  #forceOpen: boolean|undefined = undefined;\n\n  connectedCallback(): void {\n    this.#shadow.adoptedStyleSheets = [requestHeadersViewStyles, Input.checkboxStyles];\n  }\n\n  set data(data: CategoryData) {\n    this.#title = data.title;\n    this.#expandedSetting =\n        Common.Settings.Settings.instance().createSetting('request-info-' + data.name + '-category-expanded', true);\n    this.#headerCount = data.headerCount;\n    this.#checked = data.checked;\n    this.#additionalContent = data.additionalContent;\n    this.#forceOpen = data.forceOpen;\n    this.#render();\n  }\n\n  #onCheckboxToggle(): void {\n    this.dispatchEvent(new ToggleRawHeadersEvent());\n  }\n\n  #render(): void {\n    const isOpen = (this.#expandedSetting ? this.#expandedSetting.get() : true) || this.#forceOpen;\n    // Disabled until https://crbug.com/1079231 is fixed.\n    // clang-format off\n    render(html`\n      <details ?open=${isOpen} @toggle=${this.#onToggle}>\n        <summary class=\"header\" @keydown=${this.#onSummaryKeyDown}>\n          <div class=\"header-grid-container\">\n            <div>\n              ${this.#title}${this.#headerCount ?\n                html`<span class=\"header-count\"> (${this.#headerCount})</span>` :\n                LitHtml.nothing\n              }\n            </div>\n            <div class=\"hide-when-closed\">\n              ${this.#checked !== undefined ? html`\n                <label><input type=\"checkbox\" .checked=${this.#checked} @change=${this.#onCheckboxToggle} />${i18nString(UIStrings.raw)}</label>\n              ` : LitHtml.nothing}\n            </div>\n            <div class=\"hide-when-closed\">${this.#additionalContent}</div>\n        </summary>\n        <slot></slot>\n      </details>\n    `, this.#shadow, {host: this});\n    // clang-format on\n  }\n\n  #onSummaryKeyDown(event: KeyboardEvent): void {\n    if (!event.target) {\n      return;\n    }\n    const summaryElement = event.target as HTMLElement;\n    const detailsElement = summaryElement.parentElement as HTMLDetailsElement;\n    if (!detailsElement) {\n      throw new Error('<details> element is not found for a <summary> element');\n    }\n    switch (event.key) {\n      case 'ArrowLeft':\n        detailsElement.open = false;\n        break;\n      case 'ArrowRight':\n        detailsElement.open = true;\n        break;\n    }\n  }\n\n  #onToggle(event: Event): void {\n    this.#expandedSetting?.set((event.target as HTMLDetailsElement).open);\n  }\n}\n\nComponentHelpers.CustomElements.defineComponent('devtools-request-headers', RequestHeadersComponent);\nComponentHelpers.CustomElements.defineComponent('devtools-request-headers-category', Category);\n\ndeclare global {\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  interface HTMLElementTagNameMap {\n    'devtools-request-headers': RequestHeadersComponent;\n    'devtools-request-headers-category': Category;\n  }\n}\n\ninterface BlockedDetailsDescriptor {\n  explanation: () => string;\n  examples: Array<{\n    codeSnippet: string,\n    comment?: (() => string),\n  }>;\n  link: {\n    url: string,\n  }|null;\n}\n\ninterface HeaderDescriptor {\n  name: string;\n  value: Object|null;\n  headerValueIncorrect?: boolean|null;\n  blockedDetails?: BlockedDetailsDescriptor;\n  headerNotSet: boolean|null;\n  setCookieBlockedReasons?: Protocol.Network.SetCookieBlockedReason[];\n}\n\nconst BlockedReasonDetails = new Map<Protocol.Network.BlockedReason, HeaderDescriptor>([\n  [\n    Protocol.Network.BlockedReason.CoepFrameResourceNeedsCoepHeader,\n    {\n      name: 'cross-origin-embedder-policy',\n      value: null,\n      headerValueIncorrect: null,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toEmbedThisFrameInYourDocument),\n        examples: [{codeSnippet: 'Cross-Origin-Embedder-Policy: require-corp', comment: undefined}],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n      headerNotSet: null,\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameOriginAfterDefaultedToSameOriginByCoep,\n    {\n      name: 'cross-origin-resource-policy',\n      value: null,\n      headerValueIncorrect: null,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferent),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: same-site',\n            comment: i18nLazyString(UIStrings.chooseThisOptionIfTheResourceAnd),\n          },\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n      headerNotSet: null,\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CoopSandboxedIframeCannotNavigateToCoopPage,\n    {\n      name: 'cross-origin-opener-policy',\n      value: null,\n      headerValueIncorrect: false,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.thisDocumentWasBlockedFrom),\n        examples: [],\n        link: {url: 'https://web.dev/coop-coep/'},\n      },\n      headerNotSet: null,\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameSite,\n    {\n      name: 'cross-origin-resource-policy',\n      value: null,\n      headerValueIncorrect: true,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferentSite),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: null,\n      },\n      headerNotSet: null,\n    },\n  ],\n  [\n    Protocol.Network.BlockedReason.CorpNotSameOrigin,\n    {\n      name: 'cross-origin-resource-policy',\n      value: null,\n      headerValueIncorrect: true,\n      blockedDetails: {\n        explanation: i18nLazyString(UIStrings.toUseThisResourceFromADifferentOrigin),\n        examples: [\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: same-site',\n            comment: i18nLazyString(UIStrings.chooseThisOptionIfTheResourceAnd),\n          },\n          {\n            codeSnippet: 'Cross-Origin-Resource-Policy: cross-origin',\n            comment: i18nLazyString(UIStrings.onlyChooseThisOptionIfAn),\n          },\n        ],\n        link: null,\n      },\n      headerNotSet: null,\n    },\n  ],\n]);\n"]}