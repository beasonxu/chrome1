import*as e from"../../core/common/common.js";import*as s from"../../core/host/host.js";import*as t from"../../core/i18n/i18n.js";import*as i from"../../third_party/marked/marked.js";import*as r from"../../core/root/root.js";import*as n from"../../core/sdk/sdk.js";import*as o from"../bindings/bindings.js";import*as a from"../text_utils/text_utils.js";import*as u from"../workspace/workspace.js";const l={improvements:"Improvements",pageErrors:"Page Errors",breakingChanges:"Breaking Changes",pageErrorIssue:"A page error issue: the page is not working correctly",breakingChangeIssue:"A breaking change issue: the page may stop working in an upcoming version of Chrome",improvementIssue:"An improvement issue: there is an opportunity to improve the page"},d=t.i18n.registerUIStrings("models/issues_manager/Issue.ts",l),c=t.i18n.getLocalizedString.bind(void 0,d);var g,h;!function(e){e.CrossOriginEmbedderPolicy="CrossOriginEmbedderPolicy",e.Generic="Generic",e.MixedContent="MixedContent",e.Cookie="Cookie",e.HeavyAd="HeavyAd",e.ContentSecurityPolicy="ContentSecurityPolicy",e.TrustedWebActivity="TrustedWebActivity",e.LowTextContrast="LowTextContrast",e.Cors="Cors",e.AttributionReporting="AttributionReporting",e.QuirksMode="QuirksMode",e.Other="Other"}(g||(g={})),function(e){e.PageError="PageError",e.BreakingChange="BreakingChange",e.Improvement="Improvement"}(h||(h={}));class p{#e;#s;issueId=void 0;#t;constructor(e,t=null,i){this.#e="object"==typeof e?e.code:e,this.#s=t,this.issueId=i,s.userMetrics.issueCreated("string"==typeof e?e:e.umaCode),this.#t=!1}code(){return this.#e}getBlockedByResponseDetails(){return[]}cookies(){return[]}rawCookieLines(){return[]}elements(){return[]}requests(){return[]}sources(){return[]}isAssociatedWithRequestId(e){for(const s of this.requests())if(s.requestId===e)return!0;return!1}model(){return this.#s}isCausedByThirdParty(){return!1}getIssueId(){return this.issueId}isHidden(){return this.#t}setHidden(e){this.#t=e}}function m(e){if(e)return{url:e.url,scriptId:e.scriptId,lineNumber:e.lineNumber,columnNumber:0===e.columnNumber?void 0:e.columnNumber-1}}var f=Object.freeze({__proto__:null,get IssueCategory(){return g},get IssueKind(){return h},getIssueKindName:function(e){switch(e){case h.BreakingChange:return c(l.breakingChanges);case h.Improvement:return c(l.improvements);case h.PageError:return c(l.pageErrors)}},getIssueKindDescription:function(e){switch(e){case h.PageError:return c(l.pageErrorIssue);case h.BreakingChange:return c(l.breakingChangeIssue);case h.Improvement:return c(l.improvementIssue)}},unionIssueKind:function(e,s){return e===h.PageError||s===h.PageError?h.PageError:e===h.BreakingChange||s===h.BreakingChange?h.BreakingChange:h.Improvement},getShowThirdPartyIssuesSetting:function(){return e.Settings.Settings.instance().createSetting("showThirdPartyIssues",!1)},Issue:p,toZeroBasedLocation:m});const I={link:"https://tools.ietf.org/id/draft-ietf-httpbis-header-structure-15.html#rfc.section.4.2.2",linkTitle:"Structured Headers RFC"};class C extends p{issueDetails;constructor(e,s){super(function(e){switch(e.violationType){case"PermissionPolicyDisabled":return"AttributionReportingIssue::PermissionPolicyDisabled";case"UntrustworthyReportingOrigin":return"AttributionReportingIssue::UntrustworthyReportingOrigin";case"InsecureContext":return"AttributionReportingIssue::InsecureContext";case"InvalidHeader":return"AttributionReportingIssue::InvalidRegisterSourceHeader";case"InvalidRegisterTriggerHeader":return"AttributionReportingIssue::InvalidRegisterTriggerHeader";case"InvalidEligibleHeader":return"AttributionReportingIssue::InvalidEligibleHeader";case"TooManyConcurrentRequests":return"AttributionReportingIssue::TooManyConcurrentRequests";case"SourceAndTriggerHeaders":return"AttributionReportingIssue::SourceAndTriggerHeaders";case"SourceIgnored":return"AttributionReportingIssue::SourceIgnored";case"TriggerIgnored":return"AttributionReportingIssue::TriggerIgnored";default:return"AttributionReportingIssue::Unknown"}}(e),s),this.issueDetails=e}getCategory(){return g.AttributionReporting}getDescription(){switch(this.code()){case"AttributionReportingIssue::PermissionPolicyDisabled":return{file:"arPermissionPolicyDisabled.md",links:[]};case"AttributionReportingIssue::UntrustworthyReportingOrigin":return{file:"arUntrustworthyReportingOrigin.md",links:[]};case"AttributionReportingIssue::InsecureContext":return{file:"arInsecureContext.md",links:[]};case"AttributionReportingIssue::InvalidRegisterSourceHeader":return{file:"arInvalidRegisterSourceHeader.md",links:[]};case"AttributionReportingIssue::InvalidRegisterTriggerHeader":return{file:"arInvalidRegisterTriggerHeader.md",links:[]};case"AttributionReportingIssue::InvalidEligibleHeader":return{file:"arInvalidEligibleHeader.md",links:[I]};case"AttributionReportingIssue::TooManyConcurrentRequests":return{file:"arTooManyConcurrentRequests.md",links:[]};case"AttributionReportingIssue::SourceAndTriggerHeaders":return{file:"arSourceAndTriggerHeaders.md",links:[]};case"AttributionReportingIssue::SourceIgnored":return{file:"arSourceIgnored.md",links:[I]};case"AttributionReportingIssue::TriggerIgnored":return{file:"arTriggerIgnored.md",links:[I]};case"AttributionReportingIssue::Unknown":return null}}primaryKey(){return JSON.stringify(this.issueDetails)}getKind(){return h.PageError}static fromInspectorIssue(e,s){const{attributionReportingIssueDetails:t}=s.details;return t?[new C(t,e)]:(console.warn("Attribution Reporting issue without details received."),[])}}var k=Object.freeze({__proto__:null,AttributionReportingIssue:C});function S(e){const s=new Map;e.substitutions?.forEach(((e,t)=>{s.set(t,e())}));return{file:e.file,links:e.links.map((function(e){return{link:e.link,linkTitle:e.linkTitle()}})),substitutions:s}}async function v(e){try{return(await fetch(e.toString())).text()}catch(s){throw new Error(`Markdown file ${e.toString()} not found. Make sure it is correctly listed in the relevant BUILD.gn files.`)}}async function y(e){return v(new URL(`descriptions/${e}`,import.meta.url))}function w(e,s){const t=i.Marked.lexer(e),r=A(t);if(!r)throw new Error("Markdown issue descriptions must start with a heading");return{title:r,markdown:t.slice(1),links:s.links}}const b=/\{(PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*)\}/g,P=/PLACEHOLDER_[a-zA-Z][a-zA-Z0-9]*/;function T(e,s){const t=new Set(s?s.keys():[]);!function(e){const s=[...e].filter((e=>!P.test(e)));if(s.length>0)throw new Error(`Invalid placeholders provided in the substitutions map: ${s}`)}(t);const i=e.replace(b,((e,i)=>{const r=s?s.get(i):void 0;if(!r)throw new Error(`No replacment provided for placeholder '${i}'.`);return t.delete(i),r}));if(t.size>0)throw new Error(`Unused replacements provided: ${[...t]}`);return i}function A(e){return 0===e.length||"heading"!==e[0].type||1!==e[0].depth?null:e[0].text}async function D(e){const s=await y(e.file);return A(i.Marked.lexer(s))}var R=Object.freeze({__proto__:null,resolveLazyDescription:S,getFileContent:v,getMarkdownFileContent:y,createIssueDescriptionFromMarkdown:async function(e){return w(T(await y(e.file),e.substitutions),e)},createIssueDescriptionFromRawMarkdown:w,substitutePlaceholders:T,findTitleFromMarkdownAst:A,getIssueTitleFromMarkdownDescription:D});const x={clientHintsInfrastructure:"Client Hints Infrastructure"},M=t.i18n.registerUIStrings("models/issues_manager/ClientHintIssue.ts",x),E=t.i18n.getLazilyComputedLocalizedString.bind(void 0,M);class L extends p{issueDetails;constructor(e,s){super({code:"ClientHintIssue",umaCode:["ClientHintIssue",e.clientHintIssueReason].join("::")},s),this.issueDetails=e}getCategory(){return g.Other}details(){return this.issueDetails}getDescription(){const e=O.get(this.issueDetails.clientHintIssueReason);return e?S(e):null}sources(){return[this.issueDetails.sourceCodeLocation]}primaryKey(){return JSON.stringify(this.issueDetails)}getKind(){return h.BreakingChange}static fromInspectorIssue(e,s){const t=s.details.clientHintIssueDetails;return t?[new L(t,e)]:(console.warn("Client Hint issue without details received."),[])}}const O=new Map([["MetaTagAllowListInvalidOrigin",{file:"clientHintMetaTagAllowListInvalidOrigin.md",links:[{link:"https://wicg.github.io/client-hints-infrastructure/",linkTitle:E(x.clientHintsInfrastructure)}]}],["MetaTagModifiedHTML",{file:"clientHintMetaTagModifiedHTML.md",links:[{link:"https://wicg.github.io/client-hints-infrastructure/",linkTitle:E(x.clientHintsInfrastructure)}]}]]);var N=Object.freeze({__proto__:null,ClientHintIssue:L});const H={contentSecurityPolicySource:"Content Security Policy - Source Allowlists",contentSecurityPolicyInlineCode:"Content Security Policy - Inline Code",contentSecurityPolicyEval:"Content Security Policy - Eval",trustedTypesFixViolations:"Trusted Types - Fix violations",trustedTypesPolicyViolation:"Trusted Types - Policy violation"},F=t.i18n.registerUIStrings("models/issues_manager/ContentSecurityPolicyIssue.ts",H),W=t.i18n.getLazilyComputedLocalizedString.bind(void 0,F);class _ extends p{#i;constructor(e,s,t){super(["ContentSecurityPolicyIssue",e.contentSecurityPolicyViolationType].join("::"),s,t),this.#i=e}getCategory(){return g.ContentSecurityPolicy}primaryKey(){return JSON.stringify(this.#i,["blockedURL","contentSecurityPolicyViolationType","violatedDirective","isReportOnly","sourceCodeLocation","url","lineNumber","columnNumber","violatingNodeId"])}getDescription(){const e=J.get(this.#i.contentSecurityPolicyViolationType);return e?S(e):null}details(){return this.#i}getKind(){return this.#i.isReportOnly?h.Improvement:h.PageError}static fromInspectorIssue(e,s){const t=s.details.contentSecurityPolicyIssueDetails;return t?[new _(t,e,s.issueId)]:(console.warn("Content security policy issue without details received."),[])}}const B={file:"cspURLViolation.md",links:[{link:"https://developers.google.com/web/fundamentals/security/csp#source_allowlists",linkTitle:W(H.contentSecurityPolicySource)}]},q={file:"cspInlineViolation.md",links:[{link:"https://developers.google.com/web/fundamentals/security/csp#inline_code_is_considered_harmful",linkTitle:W(H.contentSecurityPolicyInlineCode)}]},U={file:"cspEvalViolation.md",links:[{link:"https://developers.google.com/web/fundamentals/security/csp#eval_too",linkTitle:W(H.contentSecurityPolicyEval)}]},z={file:"cspTrustedTypesSinkViolation.md",links:[{link:"https://web.dev/trusted-types/#fix-the-violations",linkTitle:W(H.trustedTypesFixViolations)}]},j={file:"cspTrustedTypesPolicyViolation.md",links:[{link:"https://web.dev/trusted-types/",linkTitle:W(H.trustedTypesPolicyViolation)}]},V=["ContentSecurityPolicyIssue","kURLViolation"].join("::"),K=["ContentSecurityPolicyIssue","kInlineViolation"].join("::"),$=["ContentSecurityPolicyIssue","kEvalViolation"].join("::"),Q=["ContentSecurityPolicyIssue","kTrustedTypesSinkViolation"].join("::"),G=["ContentSecurityPolicyIssue","kTrustedTypesPolicyViolation"].join("::"),J=new Map([["kURLViolation",B],["kInlineViolation",q],["kEvalViolation",U],["kTrustedTypesSinkViolation",z],["kTrustedTypesPolicyViolation",j]]);var Y=Object.freeze({__proto__:null,ContentSecurityPolicyIssue:_,urlViolationCode:V,inlineViolationCode:K,evalViolationCode:$,trustedTypesSinkViolationCode:Q,trustedTypesPolicyViolationCode:G});let X=null;class Z{#r=new WeakMap;#n=new WeakMap;constructor(){n.TargetManager.TargetManager.instance().observeModels(n.ResourceTreeModel.ResourceTreeModel,this)}static instance({forceNew:e}={forceNew:!1}){return X&&!e||(X=new Z),X}async modelAdded(e){this.#r.set(e,e.addEventListener(n.ResourceTreeModel.Events.Load,this.#o,this)),this.#n.set(e,e.addEventListener(n.ResourceTreeModel.Events.FrameAdded,this.#a,this))}modelRemoved(s){const t=this.#r.get(s);t&&e.EventTarget.removeEventListeners([t]);const i=this.#n.get(s);i&&e.EventTarget.removeEventListeners([i])}#u(e){r.Runtime.experiments.isEnabled("contrastIssues")&&e.target().auditsAgent().invoke_checkContrast({})}#o(e){const{resourceTreeModel:s}=e.data;this.#u(s)}async#a(e){if(!r.Runtime.experiments.isEnabled("contrastIssues"))return;const s=e.data;if(!s.isMainFrame())return;const t=await s.resourceTreeModel().target().runtimeAgent().invoke_evaluate({expression:"document.readyState",returnByValue:!0});t.result&&"complete"===t.result.value&&this.#u(s.resourceTreeModel())}}var ee=Object.freeze({__proto__:null,ContrastCheckTrigger:Z});const se={samesiteCookiesExplained:"SameSite cookies explained",howSchemefulSamesiteWorks:"How Schemeful Same-Site Works",aSecure:"a secure",anInsecure:"an insecure",firstPartySetsExplained:"`First-Party Sets` and the `SameParty` attribute"},te=t.i18n.registerUIStrings("models/issues_manager/CookieIssue.ts",se),ie=t.i18n.getLazilyComputedLocalizedString.bind(void 0,te);class re extends p{#i;constructor(e,s,t){super(e,t),this.#i=s}#l(){if(this.#i.cookie){const{domain:e,path:s,name:t}=this.#i.cookie;return`${e};${s};${t}`}return this.#i.rawCookieLine??"no-cookie-info"}primaryKey(){const e=this.#i.request?this.#i.request.requestId:"no-request";return`${this.code()}-(${this.#l()})-(${e})`}static createIssuesFromCookieIssueDetails(e,s){const t=[];if(e.cookieExclusionReasons&&e.cookieExclusionReasons.length>0){for(const i of e.cookieExclusionReasons){const r=re.codeForCookieIssueDetails(i,e.cookieWarningReasons,e.operation,e.cookieUrl);r&&t.push(new re(r,e,s))}return t}if(e.cookieWarningReasons)for(const i of e.cookieWarningReasons){const r=re.codeForCookieIssueDetails(i,[],e.operation,e.cookieUrl);r&&t.push(new re(r,e,s))}return t}static codeForCookieIssueDetails(e,s,t,i){const r=i&&(i.startsWith("https://")||i.startsWith("wss://"))?"Secure":"Insecure";if("ExcludeSameSiteStrict"===e||"ExcludeSameSiteLax"===e||"ExcludeSameSiteUnspecifiedTreatedAsLax"===e){if(s&&s.length>0){if(s.includes("WarnSameSiteStrictLaxDowngradeStrict"))return["CookieIssue","ExcludeNavigationContextDowngrade",r].join("::");if(s.includes("WarnSameSiteStrictCrossDowngradeStrict")||s.includes("WarnSameSiteStrictCrossDowngradeLax")||s.includes("WarnSameSiteLaxCrossDowngradeStrict")||s.includes("WarnSameSiteLaxCrossDowngradeLax"))return["CookieIssue","ExcludeContextDowngrade",t,r].join("::")}return"ExcludeSameSiteUnspecifiedTreatedAsLax"===e?["CookieIssue",e,t].join("::"):null}return"WarnSameSiteStrictLaxDowngradeStrict"===e?["CookieIssue",e,r].join("::"):"WarnSameSiteStrictCrossDowngradeStrict"===e||"WarnSameSiteStrictCrossDowngradeLax"===e||"WarnSameSiteLaxCrossDowngradeLax"===e||"WarnSameSiteLaxCrossDowngradeStrict"===e?["CookieIssue","WarnCrossDowngrade",t,r].join("::"):["CookieIssue",e,t].join("::")}cookies(){return this.#i.cookie?[this.#i.cookie]:[]}rawCookieLines(){return this.#i.rawCookieLine?[this.#i.rawCookieLine]:[]}requests(){return this.#i.request?[this.#i.request]:[]}getCategory(){return g.Cookie}getDescription(){const e=Ae.get(this.code());return e?S(e):null}isCausedByThirdParty(){return ne(n.FrameManager.FrameManager.instance().getTopFrame(),this.#i.cookieUrl)}getKind(){return this.#i.cookieExclusionReasons?.length>0?h.PageError:h.BreakingChange}static fromInspectorIssue(e,s){const t=s.details.cookieIssueDetails;return t?re.createIssuesFromCookieIssueDetails(t,e):(console.warn("Cookie issue without details received."),[])}}function ne(s,t){if(!s)return!0;if(!t||""===s.domainAndRegistry())return!1;const i=e.ParsedURL.ParsedURL.fromString(t);return!!i&&!function(e,s){if(e.length<=s.length)return e===s;if(!e.endsWith(s))return!1;return e.substr(0,e.length-s.length).endsWith(".")}(i.domain(),s.domainAndRegistry())}const oe={file:"SameSiteUnspecifiedTreatedAsLaxRead.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},ae={file:"SameSiteUnspecifiedTreatedAsLaxSet.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},ue={file:"SameSiteUnspecifiedLaxAllowUnsafeRead.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},le={file:"SameSiteUnspecifiedLaxAllowUnsafeSet.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},de={file:"SameSiteNoneInsecureErrorRead.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},ce={file:"SameSiteNoneInsecureErrorSet.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},ge={file:"SameSiteNoneInsecureWarnRead.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},he={file:"SameSiteNoneInsecureWarnSet.md",links:[{link:"https://web.dev/samesite-cookies-explained/",linkTitle:ie(se.samesiteCookiesExplained)}]},pe=[{link:"https://web.dev/schemeful-samesite/",linkTitle:ie(se.howSchemefulSamesiteWorks)}];function me({isDestinationSecure:e,isOriginSecure:s}){return new Map([["PLACEHOLDER_destination",()=>e?"a secure":"an insecure"],["PLACEHOLDER_origin",()=>s?"a secure":"an insecure"]])}function fe(e){return{file:"SameSiteWarnStrictLaxDowngradeStrict.md",substitutions:me({isDestinationSecure:e,isOriginSecure:!e}),links:pe}}function Ie(e){return{file:"SameSiteExcludeNavigationContextDowngrade.md",substitutions:me({isDestinationSecure:e,isOriginSecure:!e}),links:pe}}function Ce(e){return{file:"SameSiteWarnCrossDowngradeRead.md",substitutions:me({isDestinationSecure:e,isOriginSecure:!e}),links:pe}}function ke(e){return{file:"SameSiteExcludeContextDowngradeRead.md",substitutions:me({isDestinationSecure:e,isOriginSecure:!e}),links:pe}}function Se(e){return{file:"SameSiteWarnCrossDowngradeSet.md",substitutions:me({isDestinationSecure:!e,isOriginSecure:e}),links:pe}}function ve(e){return{file:"SameSiteExcludeContextDowngradeSet.md",substitutions:me({isDestinationSecure:e,isOriginSecure:!e}),links:pe}}const ye={file:"SameSiteInvalidSameParty.md",links:[{link:"https://developer.chrome.com/blog/first-party-sets-sameparty/",linkTitle:ie(se.firstPartySetsExplained)}]},we={file:"SameSiteSamePartyCrossPartyContextSet.md",links:[{link:"https://developer.chrome.com/blog/first-party-sets-sameparty/",linkTitle:ie(se.firstPartySetsExplained)}]},be={file:"CookieAttributeValueExceedsMaxSize.md",links:[]},Pe={file:"cookieWarnDomainNonAscii.md",links:[]},Te={file:"cookieExcludeDomainNonAscii.md",links:[]},Ae=new Map([["CookieIssue::ExcludeSameSiteUnspecifiedTreatedAsLax::ReadCookie",oe],["CookieIssue::ExcludeSameSiteUnspecifiedTreatedAsLax::SetCookie",ae],["CookieIssue::WarnSameSiteUnspecifiedLaxAllowUnsafe::ReadCookie",ue],["CookieIssue::WarnSameSiteUnspecifiedLaxAllowUnsafe::SetCookie",le],["CookieIssue::WarnSameSiteUnspecifiedCrossSiteContext::ReadCookie",ue],["CookieIssue::WarnSameSiteUnspecifiedCrossSiteContext::SetCookie",le],["CookieIssue::ExcludeSameSiteNoneInsecure::ReadCookie",de],["CookieIssue::ExcludeSameSiteNoneInsecure::SetCookie",ce],["CookieIssue::WarnSameSiteNoneInsecure::ReadCookie",ge],["CookieIssue::WarnSameSiteNoneInsecure::SetCookie",he],["CookieIssue::WarnSameSiteStrictLaxDowngradeStrict::Secure",fe(!0)],["CookieIssue::WarnSameSiteStrictLaxDowngradeStrict::Insecure",fe(!1)],["CookieIssue::WarnCrossDowngrade::ReadCookie::Secure",Ce(!0)],["CookieIssue::WarnCrossDowngrade::ReadCookie::Insecure",Ce(!1)],["CookieIssue::WarnCrossDowngrade::SetCookie::Secure",Se(!0)],["CookieIssue::WarnCrossDowngrade::SetCookie::Insecure",Se(!1)],["CookieIssue::ExcludeNavigationContextDowngrade::Secure",Ie(!0)],["CookieIssue::ExcludeNavigationContextDowngrade::Insecure",Ie(!1)],["CookieIssue::ExcludeContextDowngrade::ReadCookie::Secure",ke(!0)],["CookieIssue::ExcludeContextDowngrade::ReadCookie::Insecure",ke(!1)],["CookieIssue::ExcludeContextDowngrade::SetCookie::Secure",ve(!0)],["CookieIssue::ExcludeContextDowngrade::SetCookie::Insecure",ve(!1)],["CookieIssue::ExcludeInvalidSameParty::SetCookie",ye],["CookieIssue::ExcludeSamePartyCrossPartyContext::SetCookie",we],["CookieIssue::WarnAttributeValueExceedsMaxSize::ReadCookie",be],["CookieIssue::WarnAttributeValueExceedsMaxSize::SetCookie",be],["CookieIssue::WarnDomainNonASCII::ReadCookie",Pe],["CookieIssue::WarnDomainNonASCII::SetCookie",Pe],["CookieIssue::ExcludeDomainNonASCII::ReadCookie",Te],["CookieIssue::ExcludeDomainNonASCII::SetCookie",Te]]);var De=Object.freeze({__proto__:null,CookieIssue:re,isCausedByThirdParty:ne});const Re={corsPrivateNetworkAccess:"Private Network Access",CORS:"Cross-Origin Resource Sharing (`CORS`)"},xe=t.i18n.registerUIStrings("models/issues_manager/CorsIssue.ts",Re),Me=t.i18n.getLocalizedString.bind(void 0,xe);var Ee;function Le(e){switch(e.corsErrorStatus.corsError){case"InvalidAllowMethodsPreflightResponse":case"InvalidAllowHeadersPreflightResponse":case"PreflightMissingAllowOriginHeader":case"PreflightMultipleAllowOriginValues":case"PreflightInvalidAllowOriginValue":case"MissingAllowOriginHeader":case"MultipleAllowOriginValues":case"InvalidAllowOriginValue":return Ee.InvalidHeaderValues;case"PreflightWildcardOriginNotAllowed":case"WildcardOriginNotAllowed":return Ee.WildcardOriginNotAllowed;case"PreflightInvalidStatus":case"PreflightDisallowedRedirect":case"InvalidResponse":return Ee.PreflightResponseInvalid;case"AllowOriginMismatch":case"PreflightAllowOriginMismatch":return Ee.OriginMismatch;case"InvalidAllowCredentials":case"PreflightInvalidAllowCredentials":return Ee.AllowCredentialsRequired;case"MethodDisallowedByPreflightResponse":return Ee.MethodDisallowedByPreflightResponse;case"HeaderDisallowedByPreflightResponse":return Ee.HeaderDisallowedByPreflightResponse;case"RedirectContainsCredentials":return Ee.RedirectContainsCredentials;case"DisallowedByMode":return Ee.DisallowedByMode;case"CorsDisabledScheme":return Ee.CorsDisabledScheme;case"PreflightMissingAllowExternal":return Ee.PreflightMissingAllowExternal;case"PreflightInvalidAllowExternal":return Ee.PreflightInvalidAllowExternal;case"InsecurePrivateNetwork":return Ee.InsecurePrivateNetwork;case"NoCorsRedirectModeNotFollow":return Ee.NoCorsRedirectModeNotFollow;case"InvalidPrivateNetworkAccess":return Ee.InvalidPrivateNetworkAccess;case"UnexpectedPrivateNetworkAccess":return Ee.UnexpectedPrivateNetworkAccess;case"PreflightMissingAllowPrivateNetwork":case"PreflightInvalidAllowPrivateNetwork":return Ee.PreflightAllowPrivateNetworkError}}!function(e){e.InsecurePrivateNetwork="CorsIssue::InsecurePrivateNetwork",e.InvalidHeaderValues="CorsIssue::InvalidHeaders",e.WildcardOriginNotAllowed="CorsIssue::WildcardOriginWithCredentials",e.PreflightResponseInvalid="CorsIssue::PreflightResponseInvalid",e.OriginMismatch="CorsIssue::OriginMismatch",e.AllowCredentialsRequired="CorsIssue::AllowCredentialsRequired",e.MethodDisallowedByPreflightResponse="CorsIssue::MethodDisallowedByPreflightResponse",e.HeaderDisallowedByPreflightResponse="CorsIssue::HeaderDisallowedByPreflightResponse",e.RedirectContainsCredentials="CorsIssue::RedirectContainsCredentials",e.DisallowedByMode="CorsIssue::DisallowedByMode",e.CorsDisabledScheme="CorsIssue::CorsDisabledScheme",e.PreflightMissingAllowExternal="CorsIssue::PreflightMissingAllowExternal",e.PreflightInvalidAllowExternal="CorsIssue::PreflightInvalidAllowExternal",e.NoCorsRedirectModeNotFollow="CorsIssue::NoCorsRedirectModeNotFollow",e.InvalidPrivateNetworkAccess="CorsIssue::InvalidPrivateNetworkAccess",e.UnexpectedPrivateNetworkAccess="CorsIssue::UnexpectedPrivateNetworkAccess",e.PreflightAllowPrivateNetworkError="CorsIssue::PreflightAllowPrivateNetworkError"}(Ee||(Ee={}));class Oe extends p{#i;constructor(e,s,t){super(Le(e),s,t),this.#i=e}getCategory(){return g.Cors}details(){return this.#i}getDescription(){switch(Le(this.#i)){case Ee.InsecurePrivateNetwork:return{file:"corsInsecurePrivateNetwork.md",links:[{link:"https://developer.chrome.com/blog/private-network-access-update",linkTitle:Me(Re.corsPrivateNetworkAccess)}]};case Ee.PreflightAllowPrivateNetworkError:return{file:"corsPreflightAllowPrivateNetworkError.md",links:[{link:"https://developer.chrome.com/blog/private-network-access-update",linkTitle:Me(Re.corsPrivateNetworkAccess)}]};case Ee.InvalidHeaderValues:return{file:"corsInvalidHeaderValues.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.WildcardOriginNotAllowed:return{file:"corsWildcardOriginNotAllowed.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.PreflightResponseInvalid:return{file:"corsPreflightResponseInvalid.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.OriginMismatch:return{file:"corsOriginMismatch.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.AllowCredentialsRequired:return{file:"corsAllowCredentialsRequired.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.MethodDisallowedByPreflightResponse:return{file:"corsMethodDisallowedByPreflightResponse.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.HeaderDisallowedByPreflightResponse:return{file:"corsHeaderDisallowedByPreflightResponse.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.RedirectContainsCredentials:return{file:"corsRedirectContainsCredentials.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.DisallowedByMode:return{file:"corsDisallowedByMode.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.CorsDisabledScheme:return{file:"corsDisabledScheme.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.NoCorsRedirectModeNotFollow:return{file:"corsNoCorsRedirectModeNotFollow.md",links:[{link:"https://web.dev/cross-origin-resource-sharing",linkTitle:Me(Re.CORS)}]};case Ee.PreflightMissingAllowExternal:case Ee.PreflightInvalidAllowExternal:case Ee.InvalidPrivateNetworkAccess:case Ee.UnexpectedPrivateNetworkAccess:return null}}primaryKey(){return JSON.stringify(this.#i)}getKind(){return!this.#i.isWarning||"InsecurePrivateNetwork"!==this.#i.corsErrorStatus.corsError&&"PreflightMissingAllowPrivateNetwork"!==this.#i.corsErrorStatus.corsError&&"PreflightInvalidAllowPrivateNetwork"!==this.#i.corsErrorStatus.corsError?h.PageError:h.BreakingChange}static fromInspectorIssue(e,s){const t=s.details.corsIssueDetails;return t?[new Oe(t,e,s.issueId)]:(console.warn("Cors issue without details received."),[])}}var Ne=Object.freeze({__proto__:null,get IssueCode(){return Ee},CorsIssue:Oe});const He={coopAndCoep:"COOP and COEP",samesiteAndSameorigin:"Same-Site and Same-Origin"},Fe=t.i18n.registerUIStrings("models/issues_manager/CrossOriginEmbedderPolicyIssue.ts",He),We=t.i18n.getLazilyComputedLocalizedString.bind(void 0,Fe);function _e(e){switch(e){case"CoepFrameResourceNeedsCoepHeader":case"CoopSandboxedIFrameCannotNavigateToCoopPage":case"CorpNotSameOrigin":case"CorpNotSameOriginAfterDefaultedToSameOriginByCoep":case"CorpNotSameSite":return!0}return!1}class Be extends p{#i;constructor(e,s){super(`CrossOriginEmbedderPolicyIssue::${e.reason}`,s),this.#i=e}primaryKey(){return`${this.code()}-(${this.#i.request.requestId})`}getBlockedByResponseDetails(){return[this.#i]}requests(){return[this.#i.request]}getCategory(){return g.CrossOriginEmbedderPolicy}getDescription(){const e=qe.get(this.code());return e?S(e):null}getKind(){return h.PageError}}const qe=new Map([["CrossOriginEmbedderPolicyIssue::CorpNotSameOriginAfterDefaultedToSameOriginByCoep",{file:"CoepCorpNotSameOriginAfterDefaultedToSameOriginByCoep.md",links:[{link:"https://web.dev/coop-coep/",linkTitle:We(He.coopAndCoep)},{link:"https://web.dev/same-site-same-origin/",linkTitle:We(He.samesiteAndSameorigin)}]}],["CrossOriginEmbedderPolicyIssue::CoepFrameResourceNeedsCoepHeader",{file:"CoepFrameResourceNeedsCoepHeader.md",links:[{link:"https://web.dev/coop-coep/",linkTitle:We(He.coopAndCoep)}]}],["CrossOriginEmbedderPolicyIssue::CoopSandboxedIframeCannotNavigateToCoopPage",{file:"CoepCoopSandboxedIframeCannotNavigateToCoopPage.md",links:[{link:"https://web.dev/coop-coep/",linkTitle:We(He.coopAndCoep)}]}],["CrossOriginEmbedderPolicyIssue::CorpNotSameSite",{file:"CoepCorpNotSameSite.md",links:[{link:"https://web.dev/coop-coep/",linkTitle:We(He.coopAndCoep)},{link:"https://web.dev/same-site-same-origin/",linkTitle:We(He.samesiteAndSameorigin)}]}],["CrossOriginEmbedderPolicyIssue::CorpNotSameOrigin",{file:"CoepCorpNotSameOrigin.md",links:[{link:"https://web.dev/coop-coep/",linkTitle:We(He.coopAndCoep)},{link:"https://web.dev/same-site-same-origin/",linkTitle:We(He.samesiteAndSameorigin)}]}]]);var Ue=Object.freeze({__proto__:null,isCrossOriginEmbedderPolicyIssue:_e,CrossOriginEmbedderPolicyIssue:Be});const ze={feature:"Check the feature status page for more details.",milestone:"This change will go into effect with milestone {milestone}.",title:"Deprecated Feature Used",authorizationCoveredByWildcard:"Authorization will not be covered by the wildcard symbol (*) in CORS `Access-Control-Allow-Headers` handling.",canRequestURLHTTPContainingNewline:"Resource requests whose URLs contained both removed whitespace `\\(n|r|t)` characters and less-than characters (`<`) are blocked. Please remove newlines and encode less-than characters from places like element attribute values in order to load these resources.",chromeLoadTimesConnectionInfo:"`chrome.loadTimes()` is deprecated, instead use standardized API: Navigation Timing 2.",chromeLoadTimesFirstPaintAfterLoadTime:"`chrome.loadTimes()` is deprecated, instead use standardized API: Paint Timing.",chromeLoadTimesWasAlternateProtocolAvailable:"`chrome.loadTimes()` is deprecated, instead use standardized API: `nextHopProtocol` in Navigation Timing 2.",cookieWithTruncatingChar:"Cookies containing a `\\(0|r|n)` character will be rejected instead of truncated.",crossOriginAccessBasedOnDocumentDomain:"Relaxing the same-origin policy by setting `document.domain` is deprecated, and will be disabled by default. This deprecation warning is for a cross-origin access that was enabled by setting `document.domain`.",crossOriginWindowApi:"Triggering {PH1} from cross origin iframes has been deprecated and will be removed in the future.",cssSelectorInternalMediaControlsOverlayCastButton:"The `disableRemotePlayback` attribute should be used in order to disable the default Cast integration instead of using `-internal-media-controls-overlay-cast-button` selector.",deprecationExample:"This is an example of a translated deprecation issue message.",documentDomainSettingWithoutOriginAgentClusterHeader:"Relaxing the same-origin policy by setting `document.domain` is deprecated, and will be disabled by default. To continue using this feature, please opt-out of origin-keyed agent clusters by sending an `Origin-Agent-Cluster: ?0` header along with the HTTP response for the document and frames. See https://developer.chrome.com/blog/immutable-document-domain/ for more details.",eventPath:"`Event.path` is deprecated and will be removed. Please use `Event.composedPath()` instead.",expectCTHeader:"The `Expect-CT` header is deprecated and will be removed. Chrome requires Certificate Transparency for all publicly trusted certificates issued after April 30, 2018.",geolocationInsecureOrigin:"`getCurrentPosition()` and `watchPosition()` no longer work on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.",geolocationInsecureOriginDeprecatedNotRemoved:"`getCurrentPosition()` and `watchPosition()` are deprecated on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.",getUserMediaInsecureOrigin:"`getUserMedia()` no longer works on insecure origins. To use this feature, you should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.",hostCandidateAttributeGetter:"`RTCPeerConnectionIceErrorEvent.hostCandidate` is deprecated. Please use `RTCPeerConnectionIceErrorEvent.address` or `RTCPeerConnectionIceErrorEvent.port` instead.",identityInCanMakePaymentEvent:"The merchant origin and arbitrary data from the `canmakepayment` service worker event are deprecated and will be removed: `topOrigin`, `paymentRequestOrigin`, `methodData`, `modifiers`.",insecurePrivateNetworkSubresourceRequest:"The website requested a subresource from a network that it could only access because of its users' privileged network position. These requests expose non-public devices and servers to the internet, increasing the risk of a cross-site request forgery (CSRF) attack, and/or information leakage. To mitigate these risks, Chrome deprecates requests to non-public subresources when initiated from non-secure contexts, and will start blocking them.",legacyConstraintGoogIPv6:"IPv6 is enabled-by-default and the ability to disable it using `googIPv6` is targeted to be removed in M108, after which it will be ignored. Please stop using this legacy constraint.",localCSSFileExtensionRejected:"CSS cannot be loaded from `file:` URLs unless they end in a `.css` file extension.",mediaSourceAbortRemove:"Using `SourceBuffer.abort()` to abort `remove()`'s asynchronous range removal is deprecated due to specification change. Support will be removed in the future. You should listen to the `updateend` event instead. `abort()` is intended to only abort an asynchronous media append or reset parser state.",mediaSourceDurationTruncatingBuffered:"Setting `MediaSource.duration` below the highest presentation timestamp of any buffered coded frames is deprecated due to specification change. Support for implicit removal of truncated buffered media will be removed in the future. You should instead perform explicit `remove(newDuration, oldDuration)` on all `sourceBuffers`, where `newDuration < oldDuration`.",noSysexWebMIDIWithoutPermission:"Web MIDI will ask a permission to use even if the sysex is not specified in the `MIDIOptions`.",notificationInsecureOrigin:"The Notification API may no longer be used from insecure origins. You should consider switching your application to a secure origin, such as HTTPS. See https://goo.gle/chrome-insecure-origins for more details.",notificationPermissionRequestedIframe:"Permission for the Notification API may no longer be requested from a cross-origin iframe. You should consider requesting permission from a top-level frame or opening a new window instead.",obsoleteWebRtcCipherSuite:"Your partner is negotiating an obsolete (D)TLS version. Please check with your partner to have this fixed.",openWebDatabaseInsecureContext:"WebSQL in non-secure contexts is deprecated and will be removed in M107. Please use Web Storage or Indexed Database.",persistentQuotaType:"`StorageType.persistent` is deprecated. Please use standardized `navigator.storage` instead.",pictureSourceSrc:"`<source src>` with a `<picture>` parent is invalid and therefore ignored. Please use `<source srcset>` instead.",vendorSpecificApi:"{PH1} is vendor-specific. Please use the standard {PH2} instead.",prefixedStorageInfo:"`window.webkitStorageInfo` is deprecated. Please use standardized `navigator.storage` instead.",deprecatedWithReplacement:"{PH1} is deprecated. Please use {PH2} instead.",requestedSubresourceWithEmbeddedCredentials:"Subresource requests whose URLs contain embedded credentials (e.g. `https://user:pass@host/`) are blocked.",rtcConstraintEnableDtlsSrtpFalse:"The constraint `DtlsSrtpKeyAgreement` is removed. You have specified a `false` value for this constraint, which is interpreted as an attempt to use the removed `SDES key negotiation` method. This functionality is removed; use a service that supports `DTLS key negotiation` instead.",rtcConstraintEnableDtlsSrtpTrue:"The constraint `DtlsSrtpKeyAgreement` is removed. You have specified a `true` value for this constraint, which had no effect, but you can remove this constraint for tidiness.",rtcPeerConnectionComplexPlanBSdpUsingDefaultSdpSemantics:"`Complex Plan B SDP` detected. This dialect of the `Session Description Protocol` is no longer supported. Please use `Unified Plan SDP` instead.",rtcPeerConnectionSdpSemanticsPlanB:"`Plan B SDP semantics`, which is used when constructing an `RTCPeerConnection` with `{sdpSemantics:'plan-b'}`, is a legacy non-standard version of the `Session Description Protocol` that has been permanently deleted from the Web Platform. It is still available when building with `IS_FUCHSIA`, but we intend to delete it as soon as possible. Stop depending on it. See https://crbug.com/1302249 for status.",rtcpMuxPolicyNegotiate:"The `rtcpMuxPolicy` option is deprecated and will be removed.",sharedArrayBufferConstructedWithoutIsolation:"`SharedArrayBuffer` will require cross-origin isolation. See https://developer.chrome.com/blog/enabling-shared-array-buffer/ for more details.",textToSpeech_DisallowedByAutoplay:"`speechSynthesis.speak()` without user activation is deprecated and will be removed.",v8SharedArrayBufferConstructedInExtensionWithoutIsolation:"Extensions should opt into cross-origin isolation to continue using `SharedArrayBuffer`. See https://developer.chrome.com/docs/extensions/mv3/cross-origin-isolation/.",xhrJSONEncodingDetection:"UTF-16 is not supported by response json in `XMLHttpRequest`",xmlHttpRequestSynchronousInNonWorkerOutsideBeforeUnload:"Synchronous `XMLHttpRequest` on the main thread is deprecated because of its detrimental effects to the end user’s experience. For more help, check https://xhr.spec.whatwg.org/.",xrSupportsSession:"`supportsSession()` is deprecated. Please use `isSessionSupported()` and check the resolved boolean value instead."},je=t.i18n.registerUIStrings("models/issues_manager/DeprecationIssue.ts",ze),Ve=t.i18n.getLazilyComputedLocalizedString.bind(void 0,je);class Ke extends p{#i;constructor(e,s){super({code:["DeprecationIssue",e.type].join("::"),umaCode:"DeprecationIssue"},s),this.#i=e}getCategory(){return g.Other}details(){return this.#i}getDescription(){let e=()=>"",s=0,t=0;switch(this.#i.type){case"AuthorizationCoveredByWildcard":e=Ve(ze.authorizationCoveredByWildcard),t=97;break;case"CanRequestURLHTTPContainingNewline":e=Ve(ze.canRequestURLHTTPContainingNewline),s=5735596811091968;break;case"ChromeLoadTimesConnectionInfo":e=Ve(ze.chromeLoadTimesConnectionInfo),s=5637885046816768;break;case"ChromeLoadTimesFirstPaintAfterLoadTime":e=Ve(ze.chromeLoadTimesFirstPaintAfterLoadTime),s=5637885046816768;break;case"ChromeLoadTimesWasAlternateProtocolAvailable":e=Ve(ze.chromeLoadTimesWasAlternateProtocolAvailable),s=5637885046816768;break;case"CookieWithTruncatingChar":e=Ve(ze.cookieWithTruncatingChar),t=103;break;case"CrossOriginAccessBasedOnDocumentDomain":e=Ve(ze.crossOriginAccessBasedOnDocumentDomain),t=109;break;case"CrossOriginWindowAlert":e=Ve(ze.crossOriginWindowApi,{PH1:"window.alert"});break;case"CrossOriginWindowConfirm":e=Ve(ze.crossOriginWindowApi,{PH1:"window.confirm"});break;case"CSSSelectorInternalMediaControlsOverlayCastButton":e=Ve(ze.cssSelectorInternalMediaControlsOverlayCastButton),s=5714245488476160;break;case"DeprecationExample":e=Ve(ze.deprecationExample),s=5684289032159232,t=100;break;case"DocumentDomainSettingWithoutOriginAgentClusterHeader":e=Ve(ze.documentDomainSettingWithoutOriginAgentClusterHeader),t=109;break;case"EventPath":e=Ve(ze.eventPath),s=5726124632965120,t=109;break;case"ExpectCTHeader":e=Ve(ze.expectCTHeader),s=6244547273687040,t=107;break;case"GeolocationInsecureOrigin":e=Ve(ze.geolocationInsecureOrigin);break;case"GeolocationInsecureOriginDeprecatedNotRemoved":e=Ve(ze.geolocationInsecureOriginDeprecatedNotRemoved);break;case"GetUserMediaInsecureOrigin":e=Ve(ze.getUserMediaInsecureOrigin);break;case"HostCandidateAttributeGetter":e=Ve(ze.hostCandidateAttributeGetter);break;case"IdentityInCanMakePaymentEvent":e=Ve(ze.identityInCanMakePaymentEvent),s=5190978431352832;break;case"InsecurePrivateNetworkSubresourceRequest":e=Ve(ze.insecurePrivateNetworkSubresourceRequest),s=5436853517811712,t=92;break;case"LegacyConstraintGoogIPv6":e=Ve(ze.legacyConstraintGoogIPv6),t=103;break;case"LocalCSSFileExtensionRejected":e=Ve(ze.localCSSFileExtensionRejected),t=64;break;case"MediaSourceAbortRemove":e=Ve(ze.mediaSourceAbortRemove),s=6107495151960064;break;case"MediaSourceDurationTruncatingBuffered":e=Ve(ze.mediaSourceDurationTruncatingBuffered),s=6107495151960064;break;case"NavigateEventRestoreScroll":e=Ve(ze.deprecatedWithReplacement,{PH1:"navigateEvent.restoreScroll()",PH2:"navigateEvent.scroll()"});break;case"NavigateEventTransitionWhile":e=Ve(ze.deprecatedWithReplacement,{PH1:"navigateEvent.transitionWhile()",PH2:"navigateEvent.intercept()"});break;case"NoSysexWebMIDIWithoutPermission":e=Ve(ze.noSysexWebMIDIWithoutPermission),s=5138066234671104,t=82;break;case"NotificationInsecureOrigin":e=Ve(ze.notificationInsecureOrigin);break;case"NotificationPermissionRequestedIframe":e=Ve(ze.notificationPermissionRequestedIframe),s=6451284559265792;break;case"ObsoleteWebRtcCipherSuite":e=Ve(ze.obsoleteWebRtcCipherSuite),t=81;break;case"OpenWebDatabaseInsecureContext":e=Ve(ze.openWebDatabaseInsecureContext),s=5175124599767040,t=105;break;case"PersistentQuotaType":e=Ve(ze.persistentQuotaType),s=5176235376246784,t=106;break;case"PictureSourceSrc":e=Ve(ze.pictureSourceSrc);break;case"PrefixedCancelAnimationFrame":e=Ve(ze.vendorSpecificApi,{PH1:"webkitCancelAnimationFrame",PH2:"cancelAnimationFrame"});break;case"PrefixedRequestAnimationFrame":e=Ve(ze.vendorSpecificApi,{PH1:"webkitRequestAnimationFrame",PH2:"requestAnimationFrame"});break;case"PrefixedStorageInfo":e=Ve(ze.prefixedStorageInfo);break;case"PrefixedVideoDisplayingFullscreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitDisplayingFullscreen",PH2:"Document.fullscreenElement"});break;case"PrefixedVideoEnterFullScreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitEnterFullScreen()",PH2:"Element.requestFullscreen()"});break;case"PrefixedVideoEnterFullscreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitEnterFullscreen()",PH2:"Element.requestFullscreen()"});break;case"PrefixedVideoExitFullScreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitExitFullScreen()",PH2:"Document.exitFullscreen()"});break;case"PrefixedVideoExitFullscreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitExitFullscreen()",PH2:"Document.exitFullscreen()"});break;case"PrefixedVideoSupportsFullscreen":e=Ve(ze.deprecatedWithReplacement,{PH1:"HTMLVideoElement.webkitSupportsFullscreen",PH2:"Document.fullscreenEnabled"});break;case"RangeExpand":e=Ve(ze.deprecatedWithReplacement,{PH1:"Range.expand()",PH2:"Selection.modify()"});break;case"RequestedSubresourceWithEmbeddedCredentials":e=Ve(ze.requestedSubresourceWithEmbeddedCredentials),s=5669008342777856;break;case"RTCConstraintEnableDtlsSrtpFalse":e=Ve(ze.rtcConstraintEnableDtlsSrtpFalse),t=97;break;case"RTCConstraintEnableDtlsSrtpTrue":e=Ve(ze.rtcConstraintEnableDtlsSrtpTrue),t=97;break;case"RTCPeerConnectionComplexPlanBSdpUsingDefaultSdpSemantics":e=Ve(ze.rtcPeerConnectionComplexPlanBSdpUsingDefaultSdpSemantics),t=72;break;case"RTCPeerConnectionSdpSemanticsPlanB":e=Ve(ze.rtcPeerConnectionSdpSemanticsPlanB),s=5823036655665152,t=93;break;case"RtcpMuxPolicyNegotiate":e=Ve(ze.rtcpMuxPolicyNegotiate),s=5654810086866944,t=62;break;case"SharedArrayBufferConstructedWithoutIsolation":e=Ve(ze.sharedArrayBufferConstructedWithoutIsolation),t=106;break;case"TextToSpeech_DisallowedByAutoplay":e=Ve(ze.textToSpeech_DisallowedByAutoplay),s=5687444770914304,t=71;break;case"V8SharedArrayBufferConstructedInExtensionWithoutIsolation":e=Ve(ze.v8SharedArrayBufferConstructedInExtensionWithoutIsolation),t=96;break;case"XHRJSONEncodingDetection":e=Ve(ze.xhrJSONEncodingDetection),t=93;break;case"XMLHttpRequestSynchronousInNonWorkerOutsideBeforeUnload":e=Ve(ze.xmlHttpRequestSynchronousInNonWorkerOutsideBeforeUnload);break;case"XRSupportsSession":e=Ve(ze.xrSupportsSession),t=80}const i=[];return 0!==s&&i.push({link:`https://chromestatus.com/feature/${s}`,linkTitle:Ve(ze.feature)}),0!==t&&i.push({link:"https://chromiumdash.appspot.com/schedule",linkTitle:Ve(ze.milestone,{milestone:t})}),S({file:"deprecation.md",substitutions:new Map([["PLACEHOLDER_title",Ve(ze.title)],["PLACEHOLDER_message",e]]),links:i})}sources(){return this.#i.sourceCodeLocation?[this.#i.sourceCodeLocation]:[]}primaryKey(){return JSON.stringify(this.#i)}getKind(){return h.BreakingChange}static fromInspectorIssue(e,s){const t=s.details.deprecationIssueDetails;return t?[new Ke(t,e)]:(console.warn("Deprecation issue without details received."),[])}}var $e=Object.freeze({__proto__:null,DeprecationIssue:Ke});const Qe={crossOriginPortalPostMessage:"Portals - Same-origin communication channels"},Ge=t.i18n.registerUIStrings("models/issues_manager/GenericIssue.ts",Qe),Je=t.i18n.getLazilyComputedLocalizedString.bind(void 0,Ge);class Ye extends p{#i;constructor(e,s,t){super(["GenericIssue",e.errorType].join("::"),s,t),this.#i=e}getCategory(){return g.Generic}primaryKey(){return`${this.code()}-(${this.#i.frameId})`}getDescription(){const e=es.get(this.#i.errorType);return e?S(e):null}details(){return this.#i}getKind(){return h.Improvement}static fromInspectorIssue(e,s){const t=s.details.genericIssueDetails;return t?[new Ye(t,e,s.issueId)]:(console.warn("Generic issue without details received."),[])}}const Xe={file:"genericCrossOriginPortalPostMessageError.md",links:[{link:"https://github.com/WICG/portals#same-origin-communication-channels",linkTitle:Je(Qe.crossOriginPortalPostMessage)}]},Ze=["GenericIssue","CrossOriginPortalPostMessageError"].join("::"),es=new Map([["CrossOriginPortalPostMessageError",Xe]]);var ss=Object.freeze({__proto__:null,GenericIssue:Ye,genericCrossOriginPortalPostMessageError:Xe,genericCrossOriginPortalPostMessageCode:Ze});const ts={handlingHeavyAdInterventions:"Handling Heavy Ad Interventions"},is=t.i18n.registerUIStrings("models/issues_manager/HeavyAdIssue.ts",ts),rs=t.i18n.getLocalizedString.bind(void 0,is);class ns extends p{#i;constructor(e,s){super({code:"HeavyAdIssue",umaCode:["HeavyAdIssue",e.reason].join("::")},s),this.#i=e}details(){return this.#i}primaryKey(){return`HeavyAdIssue-${JSON.stringify(this.#i)}`}getDescription(){return{file:"heavyAd.md",links:[{link:"https://developers.google.com/web/updates/2020/05/heavy-ad-interventions",linkTitle:rs(ts.handlingHeavyAdInterventions)}]}}getCategory(){return g.HeavyAd}getKind(){switch(this.#i.resolution){case"HeavyAdBlocked":return h.PageError;case"HeavyAdWarning":return h.BreakingChange}}static fromInspectorIssue(e,s){const t=s.details.heavyAdIssueDetails;return t?[new ns(t,e)]:(console.warn("Heavy Ad issue without details received."),[])}}var os=Object.freeze({__proto__:null,HeavyAdIssue:ns});const as={fedCm:"Federated Credential Management API"},us=t.i18n.registerUIStrings("models/issues_manager/FederatedAuthRequestIssue.ts",as),ls=t.i18n.getLazilyComputedLocalizedString.bind(void 0,us);class ds extends p{#i;constructor(e,s){super({code:"FederatedAuthRequestIssue",umaCode:["FederatedAuthRequestIssue",e.federatedAuthRequestIssueReason].join("::")},s),this.#i=e}getCategory(){return g.Other}details(){return this.#i}getDescription(){const e=cs.get(this.#i.federatedAuthRequestIssueReason);return e?S(e):null}primaryKey(){return JSON.stringify(this.#i)}getKind(){return h.PageError}static fromInspectorIssue(e,s){const t=s.details.federatedAuthRequestIssueDetails;return t?[new ds(t,e)]:(console.warn("Federated auth request issue without details received."),[])}}const cs=new Map([["ApprovalDeclined",{file:"federatedAuthRequestApprovalDeclined.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["TooManyRequests",{file:"federatedAuthRequestTooManyRequests.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ManifestHttpNotFound",{file:"federatedAuthRequestManifestHttpNotFound.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ManifestNoResponse",{file:"federatedAuthRequestManifestNoResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ManifestInvalidResponse",{file:"federatedAuthRequestManifestInvalidResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ClientMetadataHttpNotFound",{file:"federatedAuthRequestClientMetadataHttpNotFound.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ClientMetadataNoResponse",{file:"federatedAuthRequestClientMetadataNoResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ClientMetadataInvalidResponse",{file:"federatedAuthRequestClientMetadataInvalidResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ErrorFetchingSignin",{file:"federatedAuthRequestErrorFetchingSignin.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["InvalidSigninResponse",{file:"federatedAuthRequestInvalidSigninResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["AccountsHttpNotFound",{file:"federatedAuthRequestAccountsHttpNotFound.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["AccountsNoResponse",{file:"federatedAuthRequestAccountsNoResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["AccountsInvalidResponse",{file:"federatedAuthRequestAccountsInvalidResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["IdTokenHttpNotFound",{file:"federatedAuthRequestIdTokenHttpNotFound.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["IdTokenNoResponse",{file:"federatedAuthRequestIdTokenNoResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["IdTokenInvalidResponse",{file:"federatedAuthRequestIdTokenInvalidResponse.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["IdTokenInvalidRequest",{file:"federatedAuthRequestIdTokenInvalidRequest.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["ErrorIdToken",{file:"federatedAuthRequestErrorIdToken.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}],["Canceled",{file:"federatedAuthRequestCanceled.md",links:[{link:"https://fedidcg.github.io/FedCM/",linkTitle:ls(as.fedCm)}]}]]),gs={colorAndContrastAccessibility:"Color and contrast accessibility"},hs=t.i18n.registerUIStrings("models/issues_manager/LowTextContrastIssue.ts",gs),ps=t.i18n.getLocalizedString.bind(void 0,hs);class ms extends p{#i;constructor(e,s){super("LowTextContrastIssue",s),this.#i=e}primaryKey(){return`${this.code()}-(${this.#i.violatingNodeId})`}getCategory(){return g.LowTextContrast}details(){return this.#i}getDescription(){return{file:"LowTextContrast.md",links:[{link:"https://web.dev/color-and-contrast-accessibility/",linkTitle:ps(gs.colorAndContrastAccessibility)}]}}getKind(){return h.Improvement}static fromInspectorIssue(e,s){const t=s.details.lowTextContrastIssueDetails;return t?[new ms(t,e)]:(console.warn("LowTextContrast issue without details received."),[])}}var fs=Object.freeze({__proto__:null,LowTextContrastIssue:ms});const Is={preventingMixedContent:"Preventing mixed content"},Cs=t.i18n.registerUIStrings("models/issues_manager/MixedContentIssue.ts",Is),ks=t.i18n.getLocalizedString.bind(void 0,Cs);class Ss extends p{#i;constructor(e,s){super("MixedContentIssue",s),this.#i=e}requests(){return this.#i.request?[this.#i.request]:[]}getDetails(){return this.#i}getCategory(){return g.MixedContent}getDescription(){return{file:"mixedContent.md",links:[{link:"https://web.dev/what-is-mixed-content/",linkTitle:ks(Is.preventingMixedContent)}]}}primaryKey(){return JSON.stringify(this.#i)}getKind(){switch(this.#i.resolutionStatus){case"MixedContentAutomaticallyUpgraded":case"MixedContentWarning":return h.Improvement;case"MixedContentBlocked":return h.PageError}}static fromInspectorIssue(e,s){const t=s.details.mixedContentIssueDetails;return t?[new Ss(t,e)]:(console.warn("Mixed content issue without details received."),[])}}var vs=Object.freeze({__proto__:null,MixedContentIssue:Ss});const ys={userAgentReduction:"User-Agent String Reduction"},ws=t.i18n.registerUIStrings("models/issues_manager/NavigatorUserAgentIssue.ts",ys),bs=t.i18n.getLocalizedString.bind(void 0,ws);var Ps;!function(e){e.NavigatorUserAgentIssue="DeprecationIssue::NavigatorUserAgentIssue"}(Ps||(Ps={}));class Ts extends p{#i;constructor(e,s){super(Ps.NavigatorUserAgentIssue,s),this.#i=e}getCategory(){return g.Other}details(){return this.#i}getDescription(){return{file:"deprecationNavigatorUserAgent.md",links:[{link:"https://blog.chromium.org/2021/09/user-agent-reduction-origin-trial-and-dates.html",linkTitle:bs(ys.userAgentReduction)}]}}sources(){return this.#i.location?[this.#i.location]:[]}primaryKey(){return JSON.stringify(this.#i)}getKind(){return h.Improvement}isCausedByThirdParty(){return ne(n.FrameManager.FrameManager.instance().getTopFrame(),this.#i.url)}static fromInspectorIssue(e,s){const t=s.details.navigatorUserAgentIssueDetails;return t?[new Ts(t,e)]:(console.warn("NavigatorUserAgent issue without details received."),[])}}var As=Object.freeze({__proto__:null,get IssueCode(){return Ps},NavigatorUserAgentIssue:Ts});const Ds={documentCompatibilityMode:"Document compatibility mode"},Rs=t.i18n.registerUIStrings("models/issues_manager/QuirksModeIssue.ts",Ds),xs=t.i18n.getLocalizedString.bind(void 0,Rs);class Ms extends p{#i;constructor(e,s){super({code:"QuirksModeIssue",umaCode:["QuirksModeIssue",e.isLimitedQuirksMode?"LimitedQuirksMode":"QuirksMode"].join("::")},s),this.#i=e}primaryKey(){return`${this.code()}-(${this.#i.documentNodeId})-(${this.#i.url})`}getCategory(){return g.QuirksMode}details(){return this.#i}getDescription(){return{file:"CompatibilityModeQuirks.md",links:[{link:"https://web.dev/doctype/",linkTitle:xs(Ds.documentCompatibilityMode)}]}}getKind(){return h.Improvement}static fromInspectorIssue(e,s){const t=s.details.quirksModeIssueDetails;return t?[new Ms(t,e)]:(console.warn("Quirks Mode issue without details received."),[])}}var Es=Object.freeze({__proto__:null,QuirksModeIssue:Ms});const Ls={enablingSharedArrayBuffer:"Enabling `SharedArrayBuffer`"},Os=t.i18n.registerUIStrings("models/issues_manager/SharedArrayBufferIssue.ts",Ls),Ns=t.i18n.getLocalizedString.bind(void 0,Os);class Hs extends p{#i;constructor(e,s){super({code:"SharedArrayBufferIssue",umaCode:["SharedArrayBufferIssue",e.type].join("::")},s),this.#i=e}getCategory(){return g.Other}details(){return this.#i}getDescription(){return{file:"sharedArrayBuffer.md",links:[{link:"https://developer.chrome.com/blog/enabling-shared-array-buffer/",linkTitle:Ns(Ls.enablingSharedArrayBuffer)}]}}primaryKey(){return JSON.stringify(this.#i)}getKind(){return this.#i.isWarning?h.BreakingChange:h.PageError}static fromInspectorIssue(e,s){const t=s.details.sharedArrayBufferIssueDetails;return t?[new Hs(t,e)]:(console.warn("SAB transfer issue without details received."),[])}}var Fs=Object.freeze({__proto__:null,SharedArrayBufferIssue:Hs});class Ws{issuesManager;#d=new o.LiveLocation.LiveLocationPool;#c=new Array;constructor(e){this.issuesManager=e,this.issuesManager.addEventListener("IssueAdded",this.#g,this),this.issuesManager.addEventListener("FullUpdateRequired",this.#h,this)}#g(e){const{issue:s}=e.data;this.#p(s)}#p(e){if(!this.#m(e))return;const s=e.model();if(!s)return;const t=s.target().model(n.DebuggerModel.DebuggerModel),i=m(e.details().sourceCodeLocation);if(i&&t){const s=t.createRawLocationByURL(i.url,i.lineNumber,i.columnNumber);s&&this.#f(e,s)}}#h(){this.#I();const e=this.issuesManager.issues();for(const s of e)this.#p(s)}async#f(s,t){const i=s.getDescription();if(i){const r=await D(i);if(r){const i=()=>{e.Revealer.reveal(s)};this.#c.push(new _s(r,s.getKind(),t,this.#d,i))}}}#m(e){return e instanceof _&&e.code()===Q||e.code()===G}#I(){for(const e of this.#c)e.dispose();this.#c=[],this.#d.disposeAll()}}class _s extends u.UISourceCode.Message{#C=void 0;#k;constructor(e,s,t,i,r){super(u.UISourceCode.Message.Level.Issue,e,r),this.#k=s,o.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().createLiveLocation(t,this.#S.bind(this),i)}async#S(e){this.#C&&this.#C.removeMessage(this);const s=await e.uiLocation();s&&(this.range=a.TextRange.TextRange.createFromLocation(s.lineNumber,s.columnNumber||0),this.#C=s.uiSourceCode,this.#C.addMessage(this))}getIssueKind(){return this.#k}dispose(){this.#C&&this.#C.removeMessage(this)}}var Bs=Object.freeze({__proto__:null,SourceFrameIssuesManager:Ws,IssueMessage:_s});const qs={changesToQualityCriteriaForPwas:"Changes to quality criteria for PWAs using Trusted Web Activity"},Us=t.i18n.registerUIStrings("models/issues_manager/TrustedWebActivityIssue.ts",qs),zs=t.i18n.getLazilyComputedLocalizedString.bind(void 0,Us);class js extends p{#i;constructor(e){super(["TrustedWebActivityIssue",e.violationType].join("::")),this.#i=e}details(){return this.#i}getDescription(){const e=Ys.get(this.#i.violationType);return e?S(e):null}getCategory(){return g.TrustedWebActivity}primaryKey(){return`TrustedWebActivityIssue-${JSON.stringify(this.#i)}`}getKind(){return h.PageError}static fromInspectorIssue(e,s){const t=s.details.twaQualityEnforcementDetails;return t?[new js(t)]:(console.warn("TWA Quality Enforcement issue without details received."),[])}}const Vs={file:"TwaDigitalAssetLinksFailed.md",links:[{link:"https://blog.chromium.org/2020/06/changes-to-quality-criteria-for-pwas.html",linkTitle:zs(qs.changesToQualityCriteriaForPwas)}]},Ks={file:"TwaHttpError.md",links:[{link:"https://blog.chromium.org/2020/06/changes-to-quality-criteria-for-pwas.html",linkTitle:zs(qs.changesToQualityCriteriaForPwas)}]},$s={file:"TwaPageUnavailableOffline.md",links:[{link:"https://blog.chromium.org/2020/06/changes-to-quality-criteria-for-pwas.html",linkTitle:zs(qs.changesToQualityCriteriaForPwas)}]},Qs=["TrustedWebActivityIssue","kHttpError"].join("::"),Gs=["TrustedWebActivityIssue","kUnavailableOffline"].join("::"),Js=["TrustedWebActivityIssue","kDigitalAssetLinks"].join("::"),Ys=new Map([["kHttpError",Ks],["kUnavailableOffline",$s],["kDigitalAssetLinks",Vs]]);var Xs=Object.freeze({__proto__:null,TrustedWebActivityIssue:js,httpViolationCode:Qs,offlineViolationCode:Gs,assetlinkViolationCode:Js});let Zs=null;const et=new Map([["CookieIssue",re.fromInspectorIssue],["MixedContentIssue",Ss.fromInspectorIssue],["HeavyAdIssue",ns.fromInspectorIssue],["ContentSecurityPolicyIssue",_.fromInspectorIssue],["BlockedByResponseIssue",function(e,s){const t=s.details.blockedByResponseIssueDetails;return t?_e(t.reason)?[new Be(t,e)]:[]:(console.warn("BlockedByResponse issue without details received."),[])}],["SharedArrayBufferIssue",Hs.fromInspectorIssue],["TrustedWebActivityIssue",js.fromInspectorIssue],["LowTextContrastIssue",ms.fromInspectorIssue],["CorsIssue",Oe.fromInspectorIssue],["QuirksModeIssue",Ms.fromInspectorIssue],["NavigatorUserAgentIssue",Ts.fromInspectorIssue],["AttributionReportingIssue",C.fromInspectorIssue],["GenericIssue",Ye.fromInspectorIssue],["DeprecationIssue",Ke.fromInspectorIssue],["ClientHintIssue",L.fromInspectorIssue],["FederatedAuthRequestIssue",ds.fromInspectorIssue]]);function st(){return{}}class tt extends e.ObjectWrapper.ObjectWrapper{showThirdPartyIssuesSetting;hideIssueSetting;#v=new WeakMap;#y=new Map;#w=new Map;#b=new Map;#P=new Map;#T=!1;#A=new Map;constructor(e,s){super(),this.showThirdPartyIssuesSetting=e,this.hideIssueSetting=s,new Ws(this),n.TargetManager.TargetManager.instance().observeModels(n.IssuesModel.IssuesModel,this),n.FrameManager.FrameManager.instance().addEventListener(n.FrameManager.Events.TopFrameNavigated,this.#D,this),n.FrameManager.FrameManager.instance().addEventListener(n.FrameManager.Events.FrameAddedToTarget,this.#R,this),this.showThirdPartyIssuesSetting?.addChangeListener((()=>this.#x())),r.Runtime.experiments.isEnabled("hideIssuesFeature")&&this.hideIssueSetting?.addChangeListener((()=>this.#x()))}static instance(e={forceNew:!1,ensureFirst:!1}){if(Zs&&e.ensureFirst)throw new Error('IssuesManager was already created. Either set "ensureFirst" to false or make sure that this invocation is really the first one.');return Zs&&!e.forceNew||(Zs=new tt(e.showThirdPartyIssuesSetting,e.hideIssueSetting)),Zs}static removeInstance(){Zs=null}reloadForAccurateInformationRequired(){return!this.#T}#D(e){const{frame:s}=e.data,t=new Map;for(const[e,i]of this.#y.entries())i.isAssociatedWithRequestId(s.loaderId)&&t.set(e,i);this.#y=t,this.#T=!0,this.#x()}#R(e){const{frame:s}=e.data;s.isTopFrame()&&this.#x()}modelAdded(e){const s=e.addEventListener("IssueAdded",this.#M,this);this.#v.set(e,s)}modelRemoved(s){const t=this.#v.get(s);t&&e.EventTarget.removeEventListeners([t])}#M(e){const{issuesModel:s,inspectorIssue:t}=e.data,i=function(e,s){const t=et.get(s.code);return t?t(e,s):(console.warn(`No handler registered for issue code ${s.code}`),[])}(s,t);for(const e of i)this.addIssue(s,e)}addIssue(e,s){if(!s.getDescription())return;const t=s.primaryKey();if(!this.#y.has(t)){if(this.#y.set(t,s),this.#E(s)){this.#w.set(t,s),this.#b.set(s.getKind(),1+(this.#b.get(s.getKind())||0));const i=s.getIssueId();i&&this.#A.set(i,s);const n=this.hideIssueSetting?.get();r.Runtime.experiments.isEnabled("hideIssuesFeature")&&this.#L(s,n),s.isHidden()&&this.#P.set(s.getKind(),1+(this.#P.get(s.getKind())||0)),this.dispatchEventToListeners("IssueAdded",{issuesModel:e,issue:s})}this.dispatchEventToListeners("IssuesCountUpdated")}}issues(){return this.#w.values()}numberOfIssues(e){return e?(this.#b.get(e)??0)-this.numberOfHiddenIssues(e):this.#w.size-this.numberOfHiddenIssues()}numberOfHiddenIssues(e){if(e)return this.#P.get(e)??0;let s=0;for(const e of this.#P.values())s+=e;return s}numberOfAllStoredIssues(){return this.#y.size}#E(e){return this.showThirdPartyIssuesSetting?.get()||!e.isCausedByThirdParty()}#L(e,s){const t=e.code();if(s&&s[t])return"Hidden"===s[t]?void e.setHidden(!0):void e.setHidden(!1)}#x(){this.#w.clear(),this.#b.clear(),this.#A.clear(),this.#P.clear();const e=this.hideIssueSetting?.get(),s=r.Runtime.experiments.isEnabled("hideIssuesFeature");for(const[t,i]of this.#y)if(this.#E(i)){s&&this.#L(i,e),this.#w.set(t,i),this.#b.set(i.getKind(),1+(this.#b.get(i.getKind())??0)),i.isHidden()&&this.#P.set(i.getKind(),1+(this.#P.get(i.getKind())||0));const r=i.getIssueId();r&&this.#A.set(r,i)}this.dispatchEventToListeners("FullUpdateRequired"),this.dispatchEventToListeners("IssuesCountUpdated")}unhideAllIssues(){for(const e of this.#y.values())e.setHidden(!1);this.hideIssueSetting?.set({})}getIssueById(e){return this.#A.get(e)}}globalThis.addIssueForTest=e=>{const s=n.TargetManager.TargetManager.instance().mainTarget()?.model(n.IssuesModel.IssuesModel);s?.issueAdded({issue:e})};var it=Object.freeze({__proto__:null,defaultHideIssueByCodeSetting:st,getHideIssueByCodeSetting:function(){return e.Settings.Settings.instance().createSetting("HideIssueByCodeSetting-Experiment-2021",{})},IssuesManager:tt});class rt extends e.ResolverBase.ResolverBase{#O=null;#N;constructor(e=tt.instance()){super(),this.#N=e}getForId(e){return this.#N.getIssueById(e)||null}#g(e){const{issue:s}=e.data,t=s.getIssueId();t&&this.onResolve(t,s)}startListening(){this.#O||(this.#O=this.#N.addEventListener("IssueAdded",this.#g,this))}stopListening(){this.#O&&(e.EventTarget.removeEventListeners([this.#O]),this.#O=null)}}var nt=Object.freeze({__proto__:null,IssueResolver:rt});function ot(e,s){if(s instanceof n.NetworkRequest.NetworkRequest)return function(e,s){return e.filter((e=>{for(const t of e.requests())if(t.requestId===s.requestId())return!0;return!1}))}(e,s);if(s instanceof n.Cookie.Cookie)return function(e,s,t,i){return e.filter((e=>{for(const r of e.cookies())if(r.domain===s&&r.name===t&&r.path===i)return!0;return!1}))}(e,s.domain(),s.name(),s.path());throw new Error(`issues can not be associated with ${JSON.stringify(s)}`)}var at=Object.freeze({__proto__:null,issuesAssociatedWith:ot,hasIssues:function(e){return ot(Array.from(tt.instance().issues()),e).length>0},hasIssueOfCategory:function(e,s){return ot(Array.from(tt.instance().issues()),e).some((e=>e.getCategory()===s))},reveal:async function(s,t){if("string"==typeof s){const t=tt.instance().getIssueById(s);if(t)return e.Revealer.reveal(t)}const i=ot(Array.from(tt.instance().issues()),s).filter((e=>!t||e.getCategory()===t));if(i.length>0)return e.Revealer.reveal(i[0])}});export{k as AttributionReportingIssue,N as ClientHintIssue,Y as ContentSecurityPolicyIssue,ee as ContrastCheckTrigger,De as CookieIssue,Ne as CorsIssue,Ue as CrossOriginEmbedderPolicyIssue,$e as DeprecationIssue,ss as GenericIssue,os as HeavyAdIssue,f as Issue,nt as IssueResolver,it as IssuesManager,fs as LowTextContrastIssue,R as MarkdownIssueDescription,vs as MixedContentIssue,As as NavigatorUserAgentIssue,Es as QuirksModeIssue,at as RelatedIssue,Fs as SharedArrayBufferIssue,Bs as SourceFrameIssuesManager,Xs as TrustedWebActivityIssue};
