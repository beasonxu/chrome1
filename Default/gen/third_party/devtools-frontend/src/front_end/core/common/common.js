import*as e from"../root/root.js";import*as t from"../platform/platform.js";export{UIString}from"../platform/platform.js";import*as r from"../i18n/i18n.js";var s=Object.freeze({__proto__:null});const n=[];var i=Object.freeze({__proto__:null,registerAppProvider:function(e){n.push(e)},getRegisteredAppProviders:function(){return n.filter((t=>e.Runtime.Runtime.isDescriptorEnabled({experiment:void 0,condition:t.condition}))).sort(((e,t)=>(e.order||0)-(t.order||0)))}});const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=new Uint8Array(123);for(let e=0;e<a.length;++e)o[a.charCodeAt(e)]=e;var l=Object.freeze({__proto__:null,decode:function(e){let t=3*e.length/4>>>0;61===e.charCodeAt(e.length-2)?t-=2:61===e.charCodeAt(e.length-1)&&(t-=1);const r=new Uint8Array(t);for(let t=0,s=0;t<e.length;t+=4){const n=o[e.charCodeAt(t+0)],i=o[e.charCodeAt(t+1)],a=o[e.charCodeAt(t+2)],l=o[e.charCodeAt(t+3)];r[s++]=n<<2|i>>4,r[s++]=(15&i)<<4|a>>2,r[s++]=(3&a)<<6|63&l}return r.buffer}});var c=Object.freeze({__proto__:null,CharacterIdMap:class{#e;#t;#r;constructor(){this.#e=new Map,this.#t=new Map,this.#r=33}toChar(e){let t=this.#e.get(e);if(!t){if(this.#r>=65535)throw new Error("CharacterIdMap ran out of capacity!");t=String.fromCharCode(this.#r++),this.#e.set(e,t),this.#t.set(t,e)}return t}fromChar(e){const t=this.#t.get(e);return void 0===t?null:t}}});function h(e,t){const r=e[3];return[(1-r)*t[0]+r*e[0],(1-r)*t[1]+r*e[1],(1-r)*t[2]+r*e[2],r+t[3]*(1-r)]}function u([e,t,r]){const s=Math.max(e,t,r),n=Math.min(e,t,r),i=s-n;let a;return a=n===s?0:e===s?(1/6*(t-r)/i+1)%1:t===s?1/6*(r-e)/i+1/3:1/6*(e-t)/i+2/3,a}function g([e,t,r,s]){const n=Math.max(e,t,r),i=Math.min(e,t,r),a=n-i,o=n+i,l=.5*o;let c;return c=0===l||1===l?0:l<=.5?a/o:a/(2-o),[u([e,t,r]),c,l,s]}function d([e,t,r,s]){const n=u([e,t,r]),i=Math.max(e,t,r);return[n,Math.min(e,t,r),1-i,s]}function p([e,t,r]){return.2126*(e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:Math.pow((t+.055)/1.055,2.4))+.0722*(r<=.03928?r/12.92:Math.pow((r+.055)/1.055,2.4))}function m([e,t,r]){return.2126729*Math.pow(e,2.4)+.7151522*Math.pow(t,2.4)+.072175*Math.pow(r,2.4)}function f(e,t){return b(m(h(e,t)),m(t))}function S(e){return e>.03?e:e+Math.pow(.03-e,1.45)}function b(e,t){if(e=S(e),t=S(t),Math.abs(e-t)<5e-4)return 0;let r=0;return t>=e?(r=1.25*(Math.pow(t,.55)-Math.pow(e,.58)),r=r<.001?0:r<.078?r-12.82051282051282*r*.06:r-.06):(r=1.25*(Math.pow(t,.62)-Math.pow(e,.57)),r=r>-.001?0:r>-.078?r-12.82051282051282*r*.06:r+.06),100*r}function w(e,t,r){function s(){return r?Math.pow(Math.abs(Math.pow(e,.62)-(-t-.06)/1.25),1/.57):Math.pow(Math.abs(Math.pow(e,.55)-(t+.06)/1.25),1/.58)}e=S(e),t/=100;let n=s();return(n<0||n>1)&&(r=!r,n=s()),n}const y=[[12,-1,-1,-1,-1,100,90,80,-1,-1],[14,-1,-1,-1,100,90,80,60,60,-1],[16,-1,-1,100,90,80,60,55,50,50],[18,-1,-1,90,80,60,55,50,40,40],[24,-1,100,80,60,55,50,40,38,35],[30,-1,90,70,55,50,40,38,35,40],[36,-1,80,60,50,40,38,35,30,25],[48,100,70,55,40,38,35,30,25,20],[60,90,60,50,38,35,30,25,20,20],[72,80,55,40,35,30,25,20,20,20],[96,70,50,35,30,25,20,20,20,20],[120,60,40,30,25,20,20,20,20,20]];function v(e,t){const r=72*parseFloat(e.replace("px",""))/96;return-1!==["bold","bolder","600","700","800","900"].indexOf(t)?r>=14:r>=18}y.reverse();const I={aa:3,aaa:4.5},x={aa:4.5,aaa:7};var R=Object.freeze({__proto__:null,blendColors:h,rgbaToHsla:g,rgbaToHwba:d,luminance:p,contrastRatio:function(e,t){const r=p(h(e,t)),s=p(t);return(Math.max(r,s)+.05)/(Math.min(r,s)+.05)},luminanceAPCA:m,contrastRatioAPCA:f,contrastRatioByLuminanceAPCA:b,desiredLuminanceAPCA:w,getAPCAThreshold:function(e,t){const r=parseFloat(e.replace("px","")),s=parseFloat(t);for(const[e,...t]of y)if(r>=e)for(const[e,r]of[900,800,700,600,500,400,300,200,100].entries())if(s>=r){const r=t[t.length-1-e];return-1===r?null:r}return null},isLargeFont:v,getContrastThreshold:function(e,t){return v(e,t)?I:x}});class E{#s;#n;#i;#a;#o;#l;constructor(e,t,r){this.#s=void 0,this.#n=void 0,this.#i=e,this.#a=r||null,this.#o=Boolean(this.#a),this.#l=t,void 0===this.#i[3]&&(this.#i[3]=1);for(let e=0;e<4;++e)this.#i[e]<0&&(this.#i[e]=0,this.#o=!1),this.#i[e]>1&&(this.#i[e]=1,this.#o=!1)}static parse(e){let t=e.toLowerCase().replace(/\s+/g,"").match(/^(?:#([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})|(\w+))$/i);if(t){if(t[1]){let r,s=t[1].toLowerCase();3===s.length?(r=A.ShortHEX,s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)):4===s.length?(r=A.ShortHEXA,s=s.charAt(0)+s.charAt(0)+s.charAt(1)+s.charAt(1)+s.charAt(2)+s.charAt(2)+s.charAt(3)+s.charAt(3)):r=6===s.length?A.HEX:A.HEXA;const n=parseInt(s.substring(0,2),16),i=parseInt(s.substring(2,4),16),a=parseInt(s.substring(4,6),16);let o=1;return 8===s.length&&(o=parseInt(s.substring(6,8),16)/255),new E([n/255,i/255,a/255,o],r,e)}if(t[2]){const r=t[2].toLowerCase(),s=P.get(r);if(void 0!==s){const t=E.fromRGBA(s);return t.#l=A.Nickname,t.#a=e,t}return null}return null}if(t=e.toLowerCase().match(/^\s*(?:(rgba?)|(hsla?)|(hwba?))\((.*)\)\s*$/),t){const r=this.splitColorFunctionParameters(t[4],!t[3]);if(!r)return null;const s=void 0!==r[3];if(t[1]){const t=[E.parseRgbNumeric(r[0]),E.parseRgbNumeric(r[1]),E.parseRgbNumeric(r[2]),s?E.parseAlphaNumeric(r[3]):1];return t.indexOf(null)>-1?null:new E(t,s?A.RGBA:A.RGB,e)}if(t[2]||t[3]){const n=[E.parseHueNumeric(r[0]),E.parseSatLightNumeric(r[1]),E.parseSatLightNumeric(r[2]),s?E.parseAlphaNumeric(r[3]):1];if(n.indexOf(null)>-1)return null;const i=[];return t[2]?(E.hsl2rgb(n,i),new E(i,s?A.HSLA:A.HSL,e)):(E.hwb2rgb(n,i),new E(i,s?A.HWBA:A.HWB,e))}}return null}static fromRGBA(e){return new E([e[0]/255,e[1]/255,e[2]/255,e[3]],A.RGBA)}static fromHSVA(e){const t=[];return E.hsva2rgba(e,t),new E(t,A.HSLA)}static splitColorFunctionParameters(e,t){const r=e.trim();let s=[];if(t&&(s=r.split(/\s*,\s*/)),!t||1===s.length)if(s=r.split(/\s+/),"/"===s[3]){if(s.splice(3,1),4!==s.length)return null}else if(s.length>2&&-1!==s[2].indexOf("/")||s.length>3&&-1!==s[3].indexOf("/")){const e=s.slice(2,4).join("");s=s.slice(0,2).concat(e.split(/\//)).concat(s.slice(4))}else if(s.length>=4)return null;return 3!==s.length&&4!==s.length||s.indexOf("")>-1?null:s}static parsePercentOrNumber(e){if(isNaN(e.replace("%","")))return null;const t=parseFloat(e);return-1!==e.indexOf("%")?e.indexOf("%")!==e.length-1?null:t/100:t}static parseRgbNumeric(e){const t=E.parsePercentOrNumber(e);return null===t?null:-1!==e.indexOf("%")?t:t/255}static parseHueNumeric(e){const t=e.replace(/(deg|g?rad|turn)$/,"");if(isNaN(t)||e.match(/\s+(deg|g?rad|turn)/))return null;const r=parseFloat(t);return-1!==e.indexOf("turn")?r%1:-1!==e.indexOf("grad")?r/400%1:-1!==e.indexOf("rad")?r/(2*Math.PI)%1:r/360%1}static parseSatLightNumeric(e){if(e.indexOf("%")!==e.length-1||isNaN(e.replace("%","")))return null;const t=parseFloat(e);return Math.min(1,t/100)}static parseAlphaNumeric(e){return E.parsePercentOrNumber(e)}static hsva2hsla(e,t){const r=e[0];let s=e[1];const n=e[2],i=(2-s)*n;0===n||0===s?s=0:s*=n/(i<1?i:2-i),t[0]=r,t[1]=s,t[2]=i/2,t[3]=e[3]}static hsl2rgb(e,t){const r=e[0];let s=e[1];const n=e[2];function i(e,t,r){return r<0?r+=1:r>1&&(r-=1),6*r<1?e+(t-e)*r*6:2*r<1?t:3*r<2?e+(t-e)*(2/3-r)*6:e}let a;s<0&&(s=0),a=n<=.5?n*(1+s):n+s-n*s;const o=2*n-a,l=r+1/3,c=r,h=r-1/3;t[0]=i(o,a,l),t[1]=i(o,a,c),t[2]=i(o,a,h),t[3]=e[3]}static hwb2rgb(e,t){const r=e[0],s=e[1],n=e[2];if(s+n>=1)t[0]=t[1]=t[2]=s/(s+n),t[3]=e[3];else{E.hsl2rgb([r,1,.5,e[3]],t);for(let e=0;e<3;++e)t[e]+=s-(s+n)*t[e]}}static hsva2rgba(e,t){E.hsva2hsla(e,M),E.hsl2rgb(M,t);for(let e=0;e<M.length;e++)M[e]=0}static desiredLuminance(e,t,r){function s(){return r?(e+.05)*t-.05:(e+.05)/t-.05}let n=s();return(n<0||n>1)&&(r=!r,n=s()),n}static approachColorValue(e,t,r,s,n){let i=e[r],a=1,o=n(e)-s,l=Math.sign(o);for(let t=100;t;t--){if(Math.abs(o)<2e-4)return e[r]=i,i;const t=Math.sign(o);if(t!==l)a/=2,l=t;else if(i<0||i>1)return null;i+=a*(2===r?-o:o),e[r]=i,o=n(e)-s}return null}static findFgColorForContrast(e,t,r){const s=e.hsva(),n=t.rgba(),i=e=>p(h(E.fromHSVA(e).rgba(),n)),a=p(t.rgba()),o=i(s)>a,l=E.desiredLuminance(a,r,o);return E.approachColorValue(s,n,2,l,i)?E.fromHSVA(s):(s[2]=1,E.approachColorValue(s,n,1,l,i)?E.fromHSVA(s):null)}static findFgColorForContrastAPCA(e,t,r){const s=e.hsva(),n=t.rgba(),i=e=>m(E.fromHSVA(e).rgba()),a=m(t.rgba()),o=w(a,r,i(s)>=a);if(E.approachColorValue(s,n,2,o,i)){const e=E.fromHSVA(s);if(Math.abs(f(t.rgba(),e.rgba()))>=r)return e}if(s[2]=1,E.approachColorValue(s,n,1,o,i)){const e=E.fromHSVA(s);if(Math.abs(f(t.rgba(),e.rgba()))>=r)return e}return null}format(){return this.#l}hsla(){return this.#s||(this.#s=g(this.#i)),this.#s}canonicalHSLA(){const e=this.hsla();return[Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]),e[3]]}hsva(){const e=this.hsla(),t=e[0];let r=e[1];const s=e[2];return r*=s<.5?s:1-s,[t,0!==r?2*r/(s+r):0,s+r,e[3]]}hwba(){return this.#n||(this.#n=d(this.#i)),this.#n}canonicalHWBA(){const e=this.hwba();return[Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]),e[3]]}hasAlpha(){return 1!==this.#i[3]}detectHEXFormat(){let e=!0;for(let t=0;t<4;++t){if(Math.round(255*this.#i[t])%17){e=!1;break}}const t=this.hasAlpha(),r=A;return e?t?r.ShortHEXA:r.ShortHEX:t?r.HEXA:r.HEX}asString(e){if(e===this.#l&&this.#o)return this.#a;function r(e){return Math.round(255*e)}function s(e){const t=Math.round(255*e).toString(16);return 1===t.length?"0"+t:t}function n(e){return(Math.round(255*e)/17).toString(16)}switch(e||(e=this.#l),e){case A.Original:return this.#a;case A.RGB:case A.RGBA:{const e=t.StringUtilities.sprintf("rgb(%d %d %d",r(this.#i[0]),r(this.#i[1]),r(this.#i[2]));return this.hasAlpha()?e+t.StringUtilities.sprintf(" / %d%)",Math.round(100*this.#i[3])):e+")"}case A.HSL:case A.HSLA:{const e=this.hsla(),r=t.StringUtilities.sprintf("hsl(%ddeg %d% %d%",Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]));return this.hasAlpha()?r+t.StringUtilities.sprintf(" / %d%)",Math.round(100*e[3])):r+")"}case A.HWB:case A.HWBA:{const e=this.hwba(),r=t.StringUtilities.sprintf("hwb(%ddeg %d% %d%",Math.round(360*e[0]),Math.round(100*e[1]),Math.round(100*e[2]));return this.hasAlpha()?r+t.StringUtilities.sprintf(" / %d%)",Math.round(100*e[3])):r+")"}case A.HEXA:return t.StringUtilities.sprintf("#%s%s%s%s",s(this.#i[0]),s(this.#i[1]),s(this.#i[2]),s(this.#i[3])).toLowerCase();case A.HEX:return this.hasAlpha()?null:t.StringUtilities.sprintf("#%s%s%s",s(this.#i[0]),s(this.#i[1]),s(this.#i[2])).toLowerCase();case A.ShortHEXA:{const e=this.detectHEXFormat();return e!==A.ShortHEXA&&e!==A.ShortHEX?null:t.StringUtilities.sprintf("#%s%s%s%s",n(this.#i[0]),n(this.#i[1]),n(this.#i[2]),n(this.#i[3])).toLowerCase()}case A.ShortHEX:return this.hasAlpha()||this.detectHEXFormat()!==A.ShortHEX?null:t.StringUtilities.sprintf("#%s%s%s",n(this.#i[0]),n(this.#i[1]),n(this.#i[2])).toLowerCase();case A.Nickname:return this.nickname()}return this.#a}rgba(){return this.#i.slice()}canonicalRGBA(){const e=new Array(4);for(let t=0;t<3;++t)e[t]=Math.round(255*this.#i[t]);return e[3]=this.#i[3],e}nickname(){return k.get(String(this.canonicalRGBA()))||null}toProtocolRGBA(){const e=this.canonicalRGBA(),t={r:e[0],g:e[1],b:e[2],a:void 0};return 1!==e[3]&&(t.a=e[3]),t}invert(){const e=[];return e[0]=1-this.#i[0],e[1]=1-this.#i[1],e[2]=1-this.#i[2],e[3]=this.#i[3],new E(e,A.RGBA)}setAlpha(e){const t=this.#i.slice();return t[3]=e,new E(t,A.RGBA)}blendWith(e){const t=h(e.#i,this.#i);return new E(t,A.RGBA)}blendWithAlpha(e){const t=this.#i.slice();return t[3]*=e,new E(t,A.RGBA)}setFormat(e){this.#l=e}equal(e){return this.#i.every(((t,r)=>t===e.#i[r]))&&this.#l===e.#l}}var A;!function(e){e.Original="original",e.Nickname="nickname",e.HEX="hex",e.ShortHEX="shorthex",e.HEXA="hexa",e.ShortHEXA="shorthexa",e.RGB="rgb",e.RGBA="rgba",e.HSL="hsl",e.HSLA="hsla",e.HWB="hwb",e.HWBA="hwba"}(A||(A={}));const T=[["aliceblue",[240,248,255]],["antiquewhite",[250,235,215]],["aqua",[0,255,255]],["aquamarine",[127,255,212]],["azure",[240,255,255]],["beige",[245,245,220]],["bisque",[255,228,196]],["black",[0,0,0]],["blanchedalmond",[255,235,205]],["blue",[0,0,255]],["blueviolet",[138,43,226]],["brown",[165,42,42]],["burlywood",[222,184,135]],["cadetblue",[95,158,160]],["chartreuse",[127,255,0]],["chocolate",[210,105,30]],["coral",[255,127,80]],["cornflowerblue",[100,149,237]],["cornsilk",[255,248,220]],["crimson",[237,20,61]],["cyan",[0,255,255]],["darkblue",[0,0,139]],["darkcyan",[0,139,139]],["darkgoldenrod",[184,134,11]],["darkgray",[169,169,169]],["darkgrey",[169,169,169]],["darkgreen",[0,100,0]],["darkkhaki",[189,183,107]],["darkmagenta",[139,0,139]],["darkolivegreen",[85,107,47]],["darkorange",[255,140,0]],["darkorchid",[153,50,204]],["darkred",[139,0,0]],["darksalmon",[233,150,122]],["darkseagreen",[143,188,143]],["darkslateblue",[72,61,139]],["darkslategray",[47,79,79]],["darkslategrey",[47,79,79]],["darkturquoise",[0,206,209]],["darkviolet",[148,0,211]],["deeppink",[255,20,147]],["deepskyblue",[0,191,255]],["dimgray",[105,105,105]],["dimgrey",[105,105,105]],["dodgerblue",[30,144,255]],["firebrick",[178,34,34]],["floralwhite",[255,250,240]],["forestgreen",[34,139,34]],["fuchsia",[255,0,255]],["gainsboro",[220,220,220]],["ghostwhite",[248,248,255]],["gold",[255,215,0]],["goldenrod",[218,165,32]],["gray",[128,128,128]],["grey",[128,128,128]],["green",[0,128,0]],["greenyellow",[173,255,47]],["honeydew",[240,255,240]],["hotpink",[255,105,180]],["indianred",[205,92,92]],["indigo",[75,0,130]],["ivory",[255,255,240]],["khaki",[240,230,140]],["lavender",[230,230,250]],["lavenderblush",[255,240,245]],["lawngreen",[124,252,0]],["lemonchiffon",[255,250,205]],["lightblue",[173,216,230]],["lightcoral",[240,128,128]],["lightcyan",[224,255,255]],["lightgoldenrodyellow",[250,250,210]],["lightgreen",[144,238,144]],["lightgray",[211,211,211]],["lightgrey",[211,211,211]],["lightpink",[255,182,193]],["lightsalmon",[255,160,122]],["lightseagreen",[32,178,170]],["lightskyblue",[135,206,250]],["lightslategray",[119,136,153]],["lightslategrey",[119,136,153]],["lightsteelblue",[176,196,222]],["lightyellow",[255,255,224]],["lime",[0,255,0]],["limegreen",[50,205,50]],["linen",[250,240,230]],["magenta",[255,0,255]],["maroon",[128,0,0]],["mediumaquamarine",[102,205,170]],["mediumblue",[0,0,205]],["mediumorchid",[186,85,211]],["mediumpurple",[147,112,219]],["mediumseagreen",[60,179,113]],["mediumslateblue",[123,104,238]],["mediumspringgreen",[0,250,154]],["mediumturquoise",[72,209,204]],["mediumvioletred",[199,21,133]],["midnightblue",[25,25,112]],["mintcream",[245,255,250]],["mistyrose",[255,228,225]],["moccasin",[255,228,181]],["navajowhite",[255,222,173]],["navy",[0,0,128]],["oldlace",[253,245,230]],["olive",[128,128,0]],["olivedrab",[107,142,35]],["orange",[255,165,0]],["orangered",[255,69,0]],["orchid",[218,112,214]],["palegoldenrod",[238,232,170]],["palegreen",[152,251,152]],["paleturquoise",[175,238,238]],["palevioletred",[219,112,147]],["papayawhip",[255,239,213]],["peachpuff",[255,218,185]],["peru",[205,133,63]],["pink",[255,192,203]],["plum",[221,160,221]],["powderblue",[176,224,230]],["purple",[128,0,128]],["rebeccapurple",[102,51,153]],["red",[255,0,0]],["rosybrown",[188,143,143]],["royalblue",[65,105,225]],["saddlebrown",[139,69,19]],["salmon",[250,128,114]],["sandybrown",[244,164,96]],["seagreen",[46,139,87]],["seashell",[255,245,238]],["sienna",[160,82,45]],["silver",[192,192,192]],["skyblue",[135,206,235]],["slateblue",[106,90,205]],["slategray",[112,128,144]],["slategrey",[112,128,144]],["snow",[255,250,250]],["springgreen",[0,255,127]],["steelblue",[70,130,180]],["tan",[210,180,140]],["teal",[0,128,128]],["thistle",[216,191,216]],["tomato",[255,99,71]],["turquoise",[64,224,208]],["violet",[238,130,238]],["wheat",[245,222,179]],["white",[255,255,255]],["whitesmoke",[245,245,245]],["yellow",[255,255,0]],["yellowgreen",[154,205,50]],["transparent",[0,0,0,0]]],P=new Map(T),k=new Map(T.map((([e,[t,r,s,n=1]])=>[String([t,r,s,n]),e]))),O=[127,32,210],L={Content:E.fromRGBA([111,168,220,.66]),ContentLight:E.fromRGBA([111,168,220,.5]),ContentOutline:E.fromRGBA([9,83,148]),Padding:E.fromRGBA([147,196,125,.55]),PaddingLight:E.fromRGBA([147,196,125,.4]),Border:E.fromRGBA([255,229,153,.66]),BorderLight:E.fromRGBA([255,229,153,.5]),Margin:E.fromRGBA([246,178,107,.66]),MarginLight:E.fromRGBA([246,178,107,.5]),EventTarget:E.fromRGBA([255,196,196,.66]),Shape:E.fromRGBA([96,82,177,.8]),ShapeMargin:E.fromRGBA([96,82,127,.6]),CssGrid:E.fromRGBA([75,0,130,1]),LayoutLine:E.fromRGBA([...O,1]),GridBorder:E.fromRGBA([...O,1]),GapBackground:E.fromRGBA([...O,.3]),GapHatch:E.fromRGBA([...O,.8]),GridAreaBorder:E.fromRGBA([26,115,232,1])},C={ParentOutline:E.fromRGBA([224,90,183,1]),ChildOutline:E.fromRGBA([0,120,212,1])},N={Resizer:E.fromRGBA([222,225,230,1]),ResizerHandle:E.fromRGBA([166,166,166,1]),Mask:E.fromRGBA([248,249,249,1])};const M=[0,0,0,0];var V=Object.freeze({__proto__:null,Color:E,Regex:/((?:rgb|hsl|hwb)a?\([^)]+\)|#[0-9a-fA-F]{8}|#[0-9a-fA-F]{6}|#[0-9a-fA-F]{3,4}|\b[a-zA-Z]+\b(?!-))/g,get Format(){return A},Nicknames:P,PageHighlight:L,SourceOrderHighlight:C,IsolationModeHighlight:N,Generator:class{#c;#h;#u;#g;#d;constructor(e,t,r,s){this.#c=e||{min:0,max:360,count:void 0},this.#h=t||67,this.#u=r||80,this.#g=s||1,this.#d=new Map}setColorForID(e,t){this.#d.set(e,t)}colorForID(e){let t=this.#d.get(e);return t||(t=this.generateColorForID(e),this.#d.set(e,t)),t}generateColorForID(e){const r=t.StringUtilities.hashCode(e),s=this.indexToValueInSpace(r,this.#c),n=this.indexToValueInSpace(r>>8,this.#h),i=this.indexToValueInSpace(r>>16,this.#u),a=this.indexToValueInSpace(r>>24,this.#g),o=`hsl(${s}deg ${n}% ${i}%`;return 1!==a?`${o} / ${Math.floor(100*a)}%)`:`${o})`}indexToValueInSpace(e,t){if("number"==typeof t)return t;const r=t.count||t.max-t.min;return e%=r,t.min+Math.floor(e/(r-1)*(t.max-t.min))}}});class W{listeners;addEventListener(e,t,r){this.listeners||(this.listeners=new Map);let s=this.listeners.get(e);return s||(s=new Set,this.listeners.set(e,s)),s.add({thisObject:r,listener:t}),{eventTarget:this,eventType:e,thisObject:r,listener:t}}once(e){return new Promise((t=>{const r=this.addEventListener(e,(s=>{this.removeEventListener(e,r.listener),t(s.data)}))}))}removeEventListener(e,t,r){const s=this.listeners?.get(e);if(s){for(const e of s)e.listener===t&&e.thisObject===r&&(e.disposed=!0,s.delete(e));s.size||this.listeners?.delete(e)}}hasEventListeners(e){return Boolean(this.listeners&&this.listeners.has(e))}dispatchEventToListeners(e,...[t]){const r=this.listeners?.get(e);if(!r)return;const s={data:t};for(const e of[...r])e.disposed||e.listener.call(e.thisObject,s)}}var _=Object.freeze({__proto__:null,ObjectWrapper:W,eventMixin:function(e){return class extends e{#p=new W;addEventListener(e,t,r){return this.#p.addEventListener(e,t,r)}once(e){return this.#p.once(e)}removeEventListener(e,t,r){this.#p.removeEventListener(e,t,r)}hasEventListeners(e){return this.#p.hasEventListeners(e)}dispatchEventToListeners(e,...t){this.#p.dispatchEventToListeners(e,...t)}}}});const F={elementsPanel:"Elements panel",stylesSidebar:"styles sidebar",changesDrawer:"Changes drawer",issuesView:"Issues view",networkPanel:"Network panel",applicationPanel:"Application panel",sourcesPanel:"Sources panel"},j=r.i18n.registerUIStrings("core/common/Revealer.ts",F),B=r.i18n.getLazilyComputedLocalizedString.bind(void 0,j);let z=async function(e,t){if(!e)return Promise.reject(new Error("Can't reveal "+e));return function(r){const s=[];for(let n=0;n<r.length;++n)s.push(r[n].reveal(e,t));return Promise.race(s)}(await Promise.all(D(e).map((e=>e.loadRevealer()))))};const U=[];function D(e){return U.filter((function(t){if(!t.contextTypes)return!0;for(const r of t.contextTypes())if(e instanceof r)return!0;return!1}))}const H={ELEMENTS_PANEL:B(F.elementsPanel),STYLES_SIDEBAR:B(F.stylesSidebar),CHANGES_DRAWER:B(F.changesDrawer),ISSUES_VIEW:B(F.issuesView),NETWORK_PANEL:B(F.networkPanel),APPLICATION_PANEL:B(F.applicationPanel),SOURCES_PANEL:B(F.sourcesPanel)};var G=Object.freeze({__proto__:null,Revealer:class{},get reveal(){return z},setRevealForTest:function(e){z=e},revealDestination:function(e){const t=e?D(e)[0]:U[0];return t&&t.destination?.()||null},registerRevealer:function(e){U.push(e)},RevealerDestination:H});let X;class q extends W{#m;constructor(){super(),this.#m=[]}static instance({forceNew:e}={forceNew:!1}){return X&&!e||(X=new q),X}addMessage(e,t,r){const s=new Z(e,t||Y.Info,Date.now(),r||!1);this.#m.push(s),this.dispatchEventToListeners($.MessageAdded,s)}log(e){this.addMessage(e,Y.Info)}warn(e){this.addMessage(e,Y.Warning)}error(e){this.addMessage(e,Y.Error,!0)}messages(){return this.#m}show(){this.showPromise()}showPromise(){return z(this)}}var $,Y;!function(e){e.MessageAdded="messageAdded"}($||($={})),function(e){e.Info="info",e.Warning="warning",e.Error="error"}(Y||(Y={}));class Z{text;level;timestamp;show;constructor(e,t,r,s){this.text=e,this.level=t,this.timestamp="number"==typeof r?r:Date.now(),this.show=s}}var Q=Object.freeze({__proto__:null,Console:q,get Events(){return $},get MessageLevel(){return Y},Message:Z});var K=Object.freeze({__proto__:null,debounce:function(e,t){let r=0;return()=>{clearTimeout(r),r=window.setTimeout((()=>e()),t)}}});var J=Object.freeze({__proto__:null,removeEventListeners:function(e){for(const t of e)t.eventTarget.removeEventListener(t.eventType,t.listener,t.thisObject);e.splice(0)},fireEvent:function(e,t={},r=window){const s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:t});r.dispatchEvent(s)}}),ee=Object.freeze({__proto__:null});const te=Symbol("uninitialized"),re=Symbol("error");var se=Object.freeze({__proto__:null,lazy:function(e){let t=te,r=null;return()=>{if(t===re)throw r;if(t!==te)return t;try{return t=e(),t}catch(e){throw r=e,t=re,r}}}});const ne=[];function ie(e){return ne.filter((function(t){if(!t.contextTypes)return!0;for(const r of t.contextTypes())if(e instanceof r)return!0;return!1}))}var ae=Object.freeze({__proto__:null,Linkifier:class{static async linkify(e,t){if(!e)throw new Error("Can't linkify "+e);const r=ie(e)[0];if(!r)throw new Error("No linkifiers registered for object "+e);return(await r.loadLinkifier()).linkify(e,t)}},registerLinkifier:function(e){ne.push(e)},getApplicableRegisteredlinkifiers:ie});var oe=Object.freeze({__proto__:null,Mutex:class{#f=!1;#S=[];acquire(){let e=e=>{};const t=new Promise((t=>{e=t}));return this.#S.push(e),this.#b(),t}#b(){if(this.#f)return;const e=this.#S.shift();e&&(this.#f=!0,e(this.#w.bind(this)))}#w(){this.#f=!1,this.#b()}}});function le(e){if(-1===e.indexOf("..")&&-1===e.indexOf("."))return e;const t=("/"===e[0]?e.substring(1):e).split("/"),r=[];for(const e of t)"."!==e&&(".."===e?r.pop():r.push(e));let s=r.join("/");return"/"===e[0]&&s&&(s="/"+s),"/"===s[s.length-1]||"/"!==e[e.length-1]&&"."!==t[t.length-1]&&".."!==t[t.length-1]||(s+="/"),s}class ce{isValid;url;scheme;user;host;port;path;queryParams;fragment;folderPathComponents;lastPathComponent;blobInnerScheme;#y;#v;constructor(e){this.isValid=!1,this.url=e,this.scheme="",this.user="",this.host="",this.port="",this.path="",this.queryParams="",this.fragment="",this.folderPathComponents="",this.lastPathComponent="";const t=this.url.startsWith("blob:"),r=(t?e.substring(5):e).match(ce.urlRegex());if(r)this.isValid=!0,t?(this.blobInnerScheme=r[2].toLowerCase(),this.scheme="blob"):this.scheme=r[2].toLowerCase(),this.user=r[3]??"",this.host=r[4]??"",this.port=r[5]??"",this.path=r[6]??"/",this.queryParams=r[7]??"",this.fragment=r[8]??"";else{if(this.url.startsWith("data:"))return void(this.scheme="data");if(this.url.startsWith("blob:"))return void(this.scheme="blob");if("about:blank"===this.url)return void(this.scheme="about");this.path=this.url}const s=this.path.lastIndexOf("/");-1!==s?(this.folderPathComponents=this.path.substring(0,s),this.lastPathComponent=this.path.substring(s+1)):this.lastPathComponent=this.path}static fromString(e){const t=new ce(e.toString());return t.isValid?t:null}static preEncodeSpecialCharactersInPath(e){for(const t of["%",";","#","?"," "])e=e.replaceAll(t,encodeURIComponent(t));return e}static rawPathToEncodedPathString(e){const t=ce.preEncodeSpecialCharactersInPath(e);return e.startsWith("/")?new URL(t,"file:///").pathname:new URL("/"+t,"file:///").pathname.substr(1)}static encodedFromParentPathAndName(e,t){return ce.concatenate(e,"/",encodeURIComponent(t))}static urlFromParentUrlAndName(e,t){return ce.concatenate(e,"/",ce.preEncodeSpecialCharactersInPath(t))}static encodedPathToRawPathString(e){return decodeURIComponent(e)}static rawPathToUrlString(e){let t=ce.preEncodeSpecialCharactersInPath(e.replace(/\\/g,"/"));return t=t.replace(/\\/g,"/"),t.startsWith("file://")||(t=t.startsWith("/")?"file://"+t:"file:///"+t),new URL(t).toString()}static relativePathToUrlString(e,t){const r=ce.preEncodeSpecialCharactersInPath(e.replace(/\\/g,"/"));return new URL(r,t).toString()}static urlToRawPathString(e,t){console.assert(e.startsWith("file://"),"This must be a file URL.");const r=decodeURIComponent(e);return t?r.substr("file:///".length).replace(/\//g,"\\"):r.substr("file://".length)}static sliceUrlToEncodedPathString(e,t){return e.substring(t)}static substr(e,t,r){return e.substr(t,r)}static substring(e,t,r){return e.substring(t,r)}static prepend(e,t){return e+t}static concatenate(e,...t){return e.concat(...t)}static trim(e){return e.trim()}static slice(e,t,r){return e.slice(t,r)}static join(e,t){return e.join(t)}static split(e,t,r){return e.split(t,r)}static toLowerCase(e){return e.toLowerCase()}static isValidUrlString(e){return new ce(e).isValid}static urlWithoutHash(e){const t=e.indexOf("#");return-1!==t?e.substr(0,t):e}static urlRegex(){if(ce.urlRegexInstance)return ce.urlRegexInstance;return ce.urlRegexInstance=new RegExp("^("+/([A-Za-z][A-Za-z0-9+.-]*):\/\//.source+/(?:([A-Za-z0-9\-._~%!$&'()*+,;=:]*)@)?/.source+/((?:\[::\d?\])|(?:[^\s\/:]*))/.source+/(?::([\d]+))?/.source+")"+/(\/[^#?]*)?/.source+/(?:\?([^#]*))?/.source+/(?:#(.*))?/.source+"$"),ce.urlRegexInstance}static extractPath(e){const t=this.fromString(e);return t?t.path:""}static extractOrigin(e){const r=this.fromString(e);return r?r.securityOrigin():t.DevToolsPath.EmptyUrlString}static extractExtension(e){const t=(e=ce.urlWithoutHash(e)).indexOf("?");-1!==t&&(e=e.substr(0,t));const r=e.lastIndexOf("/");-1!==r&&(e=e.substr(r+1));const s=e.lastIndexOf(".");if(-1!==s){const t=(e=e.substr(s+1)).indexOf("%");return-1!==t?e.substr(0,t):e}return""}static extractName(e){let t=e.lastIndexOf("/");const r=-1!==t?e.substr(t+1):e;return t=r.indexOf("?"),t<0?r:r.substr(0,t)}static completeURL(e,t){const r=t.trim();if(r.startsWith("data:")||r.startsWith("blob:")||r.startsWith("javascript:")||r.startsWith("mailto:"))return t;const s=this.fromString(r);if(s&&s.scheme){return s.securityOrigin()+le(s.path)+(s.queryParams&&`?${s.queryParams}`)+(s.fragment&&`#${s.fragment}`)}const n=this.fromString(e);if(!n)return null;if(n.isDataURL())return t;if(t.length>1&&"/"===t.charAt(0)&&"/"===t.charAt(1))return n.scheme+":"+t;const i=n.securityOrigin(),a=n.path,o=n.queryParams?"?"+n.queryParams:"";if(!t.length)return i+a+o;if("#"===t.charAt(0))return i+a+o+t;if("?"===t.charAt(0))return i+a+t;const l=t.match(/^[^#?]*/);if(!l||!t.length)throw new Error("Invalid href");let c=l[0];const h=t.substring(c.length);return"/"!==c.charAt(0)&&(c=n.folderPathComponents+"/"+c),i+le(c)+h}static splitLineAndColumn(e){const t=e.match(ce.urlRegex());let r="",s=e;t&&(r=t[1],s=e.substring(t[1].length));const n=/(?::(\d+))?(?::(\d+))?$/.exec(s);let i,a;if(console.assert(Boolean(n)),!n)return{url:e,lineNumber:0,columnNumber:0};"string"==typeof n[1]&&(i=parseInt(n[1],10),i=isNaN(i)?void 0:i-1),"string"==typeof n[2]&&(a=parseInt(n[2],10),a=isNaN(a)?void 0:a-1);let o=r+s.substring(0,s.length-n[0].length);if(void 0===n[1]&&void 0===n[2]){const e=/wasm-function\[\d+\]:0x([a-z0-9]+)$/g.exec(s);e&&"string"==typeof e[1]&&(o=ce.removeWasmFunctionInfoFromURL(o),a=parseInt(e[1],16),a=isNaN(a)?void 0:a)}return{url:o,lineNumber:i,columnNumber:a}}static removeWasmFunctionInfoFromURL(e){const t=e.search(/:wasm-function\[\d+\]/);return-1===t?e:ce.substring(e,0,t)}static beginsWithWindowsDriveLetter(e){return/^[A-Za-z]:/.test(e)}static beginsWithScheme(e){return/^[A-Za-z][A-Za-z0-9+.-]*:/.test(e)}static isRelativeURL(e){return!this.beginsWithScheme(e)||this.beginsWithWindowsDriveLetter(e)}get displayName(){return this.#y?this.#y:this.isDataURL()?this.dataURLDisplayName():this.isBlobURL()||this.isAboutBlank()?this.url:(this.#y=this.lastPathComponent,this.#y||(this.#y=(this.host||"")+"/"),"/"===this.#y&&(this.#y=this.url),this.#y)}dataURLDisplayName(){return this.#v?this.#v:this.isDataURL()?(this.#v=t.StringUtilities.trimEndWithMaxLength(this.url,20),this.#v):""}isAboutBlank(){return"about:blank"===this.url}isDataURL(){return"data"===this.scheme}isHttpOrHttps(){return"http"===this.scheme||"https"===this.scheme}isBlobURL(){return this.url.startsWith("blob:")}lastPathComponentWithFragment(){return this.lastPathComponent+(this.fragment?"#"+this.fragment:"")}domain(){return this.isDataURL()?"data:":this.host+(this.port?":"+this.port:"")}securityOrigin(){if(this.isDataURL())return"data:";return(this.isBlobURL()?this.blobInnerScheme:this.scheme)+"://"+this.domain()}urlWithoutScheme(){return this.scheme&&this.url.startsWith(this.scheme+"://")?this.url.substring(this.scheme.length+3):this.url}static urlRegexInstance=null}var he=Object.freeze({__proto__:null,normalizePath:le,ParsedURL:ce});class ue{#I;#x;#R;#E;constructor(e,t){this.#I=e,this.#x=t||1,this.#R=0,this.#E=0}isCanceled(){return this.#I.parent.isCanceled()}setTitle(e){this.#I.parent.setTitle(e)}done(){this.setWorked(this.#E),this.#I.childDone()}setTotalWork(e){this.#E=e,this.#I.update()}setWorked(e,t){this.#R=e,void 0!==t&&this.setTitle(t),this.#I.update()}incrementWorked(e){this.setWorked(this.#R+(e||1))}getWeight(){return this.#x}getWorked(){return this.#R}getTotalWork(){return this.#E}}var ge=Object.freeze({__proto__:null,Progress:class{setTotalWork(e){}setTitle(e){}setWorked(e,t){}incrementWorked(e){}done(){}isCanceled(){return!1}},CompositeProgress:class{parent;#A;#T;constructor(e){this.parent=e,this.#A=[],this.#T=0,this.parent.setTotalWork(1),this.parent.setWorked(0)}childDone(){++this.#T===this.#A.length&&this.parent.done()}createSubProgress(e){const t=new ue(this,e);return this.#A.push(t),t}update(){let e=0,t=0;for(let r=0;r<this.#A.length;++r){const s=this.#A[r];s.getTotalWork()&&(t+=s.getWeight()*s.getWorked()/s.getTotalWork()),e+=s.getWeight()}this.parent.setWorked(t/e)}},SubProgress:ue,ProgressProxy:class{#P;#k;constructor(e,t){this.#P=e,this.#k=t}isCanceled(){return!!this.#P&&this.#P.isCanceled()}setTitle(e){this.#P&&this.#P.setTitle(e)}done(){this.#P&&this.#P.done(),this.#k&&this.#k()}setTotalWork(e){this.#P&&this.#P.setTotalWork(e)}setWorked(e,t){this.#P&&this.#P.setWorked(e,t)}incrementWorked(e){this.#P&&this.#P.incrementWorked(e)}}}),de=Object.freeze({__proto__:null});var pe=Object.freeze({__proto__:null,ResolverBase:class{#O=new Map;async waitFor(e){const t=this.getForId(e);return t||this.getOrCreatePromise(e)}tryGet(e,t){const r=this.getForId(e);if(!r){const r=()=>{};return this.getOrCreatePromise(e).catch(r).then((e=>{e&&t(e)})),null}return r}clear(){this.stopListening();for(const[e,{reject:t}]of this.#O.entries())t(new Error(`Object with ${e} never resolved.`));this.#O.clear()}getOrCreatePromise(e){const t=this.#O.get(e);if(t)return t.promise;let r=()=>{},s=()=>{};const n=new Promise(((e,t)=>{r=e,s=t}));return this.#O.set(e,{promise:n,resolve:r,reject:s}),this.startListening(),n}onResolve(e,t){const r=this.#O.get(e);this.#O.delete(e),0===this.#O.size&&this.stopListening(),r?.resolve(t)}}});const me={xhrAndFetch:"`XHR` and `Fetch`",scripts:"Scripts",js:"JS",stylesheets:"Stylesheets",css:"CSS",images:"Images",img:"Img",media:"Media",fonts:"Fonts",font:"Font",documents:"Documents",doc:"Doc",websockets:"WebSockets",ws:"WS",webassembly:"WebAssembly",wasm:"Wasm",manifest:"Manifest",other:"Other",document:"Document",stylesheet:"Stylesheet",image:"Image",script:"Script",texttrack:"TextTrack",fetch:"Fetch",eventsource:"EventSource",websocket:"WebSocket",webtransport:"WebTransport",signedexchange:"SignedExchange",ping:"Ping",cspviolationreport:"CSPViolationReport",preflight:"Preflight",webbundle:"WebBundle"},fe=r.i18n.registerUIStrings("core/common/ResourceType.ts",me),Se=r.i18n.getLazilyComputedLocalizedString.bind(void 0,fe);class be{#L;#C;#N;#M;constructor(e,t,r,s){this.#L=e,this.#C=t,this.#N=r,this.#M=s}static fromMimeType(e){return e?e.startsWith("text/html")?ve.Document:e.startsWith("text/css")?ve.Stylesheet:e.startsWith("image/")?ve.Image:e.startsWith("text/")?ve.Script:e.includes("font")?ve.Font:e.includes("script")?ve.Script:e.includes("octet")?ve.Other:e.includes("application")?ve.Script:ve.Other:ve.Other}static fromMimeTypeOverride(e){return"application/wasm"===e?ve.Wasm:"application/webbundle"===e?ve.WebBundle:null}static fromURL(e){return xe.get(ce.extractExtension(e))||null}static fromName(e){for(const t in ve){const r=ve[t];if(r.name()===e)return r}return null}static mimeFromURL(e){const t=ce.extractName(e);if(Ie.has(t))return Ie.get(t);const r=ce.extractExtension(e).toLowerCase();return Re.get(r)}static mimeFromExtension(e){return Re.get(e)}name(){return this.#L}title(){return this.#C()}category(){return this.#N}isTextType(){return this.#M}isScript(){return"script"===this.#L||"sm-script"===this.#L}hasScripts(){return this.isScript()||this.isDocument()}isStyleSheet(){return"stylesheet"===this.#L||"sm-stylesheet"===this.#L}isDocument(){return"document"===this.#L}isDocumentOrScriptOrStyleSheet(){return this.isDocument()||this.isScript()||this.isStyleSheet()}isFont(){return"font"===this.#L}isImage(){return"image"===this.#L}isFromSourceMap(){return this.#L.startsWith("sm-")}isWebbundle(){return"webbundle"===this.#L}toString(){return this.#L}canonicalMimeType(){return this.isDocument()?"text/html":this.isScript()?"text/javascript":this.isStyleSheet()?"text/css":""}}class we{title;shortTitle;constructor(e,t){this.title=e,this.shortTitle=t}}const ye={XHR:new we(Se(me.xhrAndFetch),r.i18n.lockedLazyString("Fetch/XHR")),Script:new we(Se(me.scripts),Se(me.js)),Stylesheet:new we(Se(me.stylesheets),Se(me.css)),Image:new we(Se(me.images),Se(me.img)),Media:new we(Se(me.media),Se(me.media)),Font:new we(Se(me.fonts),Se(me.font)),Document:new we(Se(me.documents),Se(me.doc)),WebSocket:new we(Se(me.websockets),Se(me.ws)),Wasm:new we(Se(me.webassembly),Se(me.wasm)),Manifest:new we(Se(me.manifest),Se(me.manifest)),Other:new we(Se(me.other),Se(me.other))},ve={Document:new be("document",Se(me.document),ye.Document,!0),Stylesheet:new be("stylesheet",Se(me.stylesheet),ye.Stylesheet,!0),Image:new be("image",Se(me.image),ye.Image,!1),Media:new be("media",Se(me.media),ye.Media,!1),Font:new be("font",Se(me.font),ye.Font,!1),Script:new be("script",Se(me.script),ye.Script,!0),TextTrack:new be("texttrack",Se(me.texttrack),ye.Other,!0),XHR:new be("xhr",r.i18n.lockedLazyString("XHR"),ye.XHR,!0),Fetch:new be("fetch",Se(me.fetch),ye.XHR,!0),Prefetch:new be("prefetch",r.i18n.lockedLazyString("Prefetch"),ye.Document,!0),EventSource:new be("eventsource",Se(me.eventsource),ye.XHR,!0),WebSocket:new be("websocket",Se(me.websocket),ye.WebSocket,!1),WebTransport:new be("webtransport",Se(me.webtransport),ye.WebSocket,!1),Wasm:new be("wasm",Se(me.wasm),ye.Wasm,!1),Manifest:new be("manifest",Se(me.manifest),ye.Manifest,!0),SignedExchange:new be("signed-exchange",Se(me.signedexchange),ye.Other,!1),Ping:new be("ping",Se(me.ping),ye.Other,!1),CSPViolationReport:new be("csp-violation-report",Se(me.cspviolationreport),ye.Other,!1),Other:new be("other",Se(me.other),ye.Other,!1),Preflight:new be("preflight",Se(me.preflight),ye.Other,!0),SourceMapScript:new be("sm-script",Se(me.script),ye.Script,!0),SourceMapStyleSheet:new be("sm-stylesheet",Se(me.stylesheet),ye.Stylesheet,!0),WebBundle:new be("webbundle",Se(me.webbundle),ye.Other,!1)},Ie=new Map([["Cakefile","text/x-coffeescript"]]),xe=new Map([["js",ve.Script],["mjs",ve.Script],["css",ve.Stylesheet],["xsl",ve.Stylesheet],["avif",ve.Image],["avifs",ve.Image],["bmp",ve.Image],["gif",ve.Image],["ico",ve.Image],["jpeg",ve.Image],["jpg",ve.Image],["jxl",ve.Image],["png",ve.Image],["svg",ve.Image],["tif",ve.Image],["tiff",ve.Image],["webp",ve.Media],["otf",ve.Font],["ttc",ve.Font],["ttf",ve.Font],["woff",ve.Font],["woff2",ve.Font],["wasm",ve.Wasm]]),Re=new Map([["js","text/javascript"],["mjs","text/javascript"],["css","text/css"],["html","text/html"],["htm","text/html"],["xml","application/xml"],["xsl","application/xml"],["wasm","application/wasm"],["asp","application/x-aspx"],["aspx","application/x-aspx"],["jsp","application/x-jsp"],["c","text/x-c++src"],["cc","text/x-c++src"],["cpp","text/x-c++src"],["h","text/x-c++src"],["m","text/x-c++src"],["mm","text/x-c++src"],["coffee","text/x-coffeescript"],["dart","text/javascript"],["ts","text/typescript"],["tsx","text/typescript-jsx"],["json","application/json"],["gyp","application/json"],["gypi","application/json"],["cs","text/x-csharp"],["java","text/x-java"],["less","text/x-less"],["php","text/x-php"],["phtml","application/x-httpd-php"],["py","text/x-python"],["sh","text/x-sh"],["scss","text/x-scss"],["vtt","text/vtt"],["ls","text/x-livescript"],["md","text/markdown"],["cljs","text/x-clojure"],["cljc","text/x-clojure"],["cljx","text/x-clojure"],["styl","text/x-styl"],["jsx","text/jsx"],["avif","image/avif"],["avifs","image/avif-sequence"],["bmp","image/bmp"],["gif","image/gif"],["ico","image/ico"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["jxl","image/jxl"],["png","image/png"],["svg","image/svg+xml"],["tif","image/tif"],["tiff","image/tiff"],["webp","image/webp"],["otf","font/otf"],["ttc","font/collection"],["ttf","font/ttf"],["woff","font/woff"],["woff2","font/woff2"]]);var Ee=Object.freeze({__proto__:null,ResourceType:be,ResourceCategory:we,resourceCategories:ye,resourceTypes:ve,resourceTypeByExtension:xe,mimeTypeByExtension:Re});const Ae=new Map;const Te=[];var Pe=Object.freeze({__proto__:null,registerLateInitializationRunnable:function(e){const{id:t,loadRunnable:r}=e;if(Ae.has(t))throw new Error(`Duplicate late Initializable runnable id '${t}'`);Ae.set(t,r)},maybeRemoveLateInitializationRunnable:function(e){return Ae.delete(e)},lateInitializationRunnables:function(){return[...Ae.values()]},registerEarlyInitializationRunnable:function(e){Te.push(e)},earlyInitializationRunnables:function(){return Te}});class ke{begin;end;data;constructor(e,t,r){if(e>t)throw new Error("Invalid segment");this.begin=e,this.end=t,this.data=r}intersects(e){return this.begin<e.end&&e.begin<this.end}}var Oe=Object.freeze({__proto__:null,Segment:ke,SegmentedRange:class{#V;#W;constructor(e){this.#V=[],this.#W=e}append(e){let r=t.ArrayUtilities.lowerBound(this.#V,e,((e,t)=>e.begin-t.begin)),s=r,n=null;if(r>0){const t=this.#V[r-1];n=this.tryMerge(t,e),n?(--r,e=n):this.#V[r-1].end>=e.begin&&(e.end<t.end&&this.#V.splice(r,0,new ke(e.end,t.end,t.data)),t.end=e.begin)}for(;s<this.#V.length&&this.#V[s].end<=e.end;)++s;s<this.#V.length&&(n=this.tryMerge(e,this.#V[s]),n?(s++,e=n):e.intersects(this.#V[s])&&(this.#V[s].begin=e.end)),this.#V.splice(r,s-r,e)}appendRange(e){e.segments().forEach((e=>this.append(e)))}segments(){return this.#V}tryMerge(e,t){const r=this.#W&&this.#W(e,t);return r?(r.begin=e.begin,r.end=Math.max(e.end,t.end),r):null}}});const Le={elements:"Elements",appearance:"Appearance",sources:"Sources",network:"Network",performance:"Performance",console:"Console",persistence:"Persistence",debugger:"Debugger",global:"Global",rendering:"Rendering",grid:"Grid",mobile:"Mobile",memory:"Memory",extension:"Extension",adorner:"Adorner",sync:"Sync"},Ce=r.i18n.registerUIStrings("core/common/SettingRegistration.ts",Le),Ne=r.i18n.getLocalizedString.bind(void 0,Ce);let Me=[];const Ve=new Set;function We(){return Me.filter((t=>e.Runtime.Runtime.isDescriptorEnabled({experiment:t.experiment,condition:t.condition})))}var _e,Fe;let je;!function(e){e.NONE="",e.ELEMENTS="ELEMENTS",e.APPEARANCE="APPEARANCE",e.SOURCES="SOURCES",e.NETWORK="NETWORK",e.PERFORMANCE="PERFORMANCE",e.CONSOLE="CONSOLE",e.PERSISTENCE="PERSISTENCE",e.DEBUGGER="DEBUGGER",e.GLOBAL="GLOBAL",e.RENDERING="RENDERING",e.GRID="GRID",e.MOBILE="MOBILE",e.EMULATION="EMULATION",e.MEMORY="MEMORY",e.EXTENSIONS="EXTENSIONS",e.ADORNER="ADORNER",e.SYNC="SYNC"}(_e||(_e={})),function(e){e.ARRAY="array",e.REGEX="regex",e.ENUM="enum",e.BOOLEAN="boolean"}(Fe||(Fe={}));class Be{syncedStorage;globalStorage;localStorage;#_;settingNameSet;orderValuesBySettingCategory;#F;#j;moduleSettings;constructor(t,r,s){this.syncedStorage=t,this.globalStorage=r,this.localStorage=s,this.#_=new Ue({}),this.settingNameSet=new Set,this.orderValuesBySettingCategory=new Map,this.#F=new W,this.#j=new Map,this.moduleSettings=new Map;for(const t of We()){const{settingName:r,defaultValue:s,storageType:n}=t,i=t.settingType===Fe.REGEX&&"string"==typeof s?this.createRegExpSetting(r,s,void 0,n):this.createSetting(r,s,n);"mac"===e.Runtime.Runtime.platform()&&t.titleMac?i.setTitleFunction(t.titleMac):i.setTitleFunction(t.title),t.userActionCondition&&i.setRequiresUserAction(Boolean(e.Runtime.Runtime.queryParam(t.userActionCondition))),i.setRegistration(t),this.registerModuleSetting(i)}}static hasInstance(){return void 0!==je}static instance(e={forceNew:null,syncedStorage:null,globalStorage:null,localStorage:null}){const{forceNew:t,syncedStorage:r,globalStorage:s,localStorage:n}=e;if(!je||t){if(!r||!s||!n)throw new Error(`Unable to create settings: global and local storage must be provided: ${(new Error).stack}`);je=new Be(r,s,n)}return je}static removeInstance(){je=void 0}registerModuleSetting(e){const t=e.name,r=e.category(),s=e.order();if(this.settingNameSet.has(t))throw new Error(`Duplicate Setting name '${t}'`);if(r&&s){const e=this.orderValuesBySettingCategory.get(r)||new Set;if(e.has(s))throw new Error(`Duplicate order value '${s}' for settings category '${r}'`);e.add(s),this.orderValuesBySettingCategory.set(r,e)}this.settingNameSet.add(t),this.moduleSettings.set(e.name,e)}moduleSetting(e){const t=this.moduleSettings.get(e);if(!t)throw new Error("No setting registered: "+e);return t}settingForTest(e){const t=this.#j.get(e);if(!t)throw new Error("No setting registered: "+e);return t}createSetting(e,t,r){const s=this.storageFromType(r);let n=this.#j.get(e);return n||(n=new He(e,t,this.#F,s),this.#j.set(e,n)),n}createLocalSetting(e,t){return this.createSetting(e,t,qe.Local)}createRegExpSetting(e,t,r,s){return this.#j.get(e)||this.#j.set(e,new Ge(e,t,this.#F,this.storageFromType(s),r)),this.#j.get(e)}clearAll(){this.globalStorage.removeAll(),this.localStorage.removeAll();Be.instance().createSetting(Xe.currentVersionName,0).set(Xe.currentVersion)}storageFromType(e){switch(e){case qe.Local:return this.localStorage;case qe.Session:return this.#_;case qe.Global:return this.globalStorage;case qe.Synced:return this.syncedStorage}return this.globalStorage}getRegistry(){return this.#j}}const ze={register:()=>{},set:()=>{},get:()=>Promise.resolve(""),remove:()=>{},clear:()=>{}};class Ue{object;backingStore;storagePrefix;constructor(e,t=ze,r=""){this.object=e,this.backingStore=t,this.storagePrefix=r}register(e){e=this.storagePrefix+e,this.backingStore.register(e)}set(e,t){e=this.storagePrefix+e,this.object[e]=t,this.backingStore.set(e,t)}has(e){return(e=this.storagePrefix+e)in this.object}get(e){return e=this.storagePrefix+e,this.object[e]}async forceGet(e){const t=this.storagePrefix+e,r=await this.backingStore.get(t);return r&&r!==this.object[t]?this.set(e,r):r||this.remove(e),r}remove(e){e=this.storagePrefix+e,delete this.object[e],this.backingStore.remove(e)}removeAll(){this.object={},this.backingStore.clear()}dumpSizes(){q.instance().log("Ten largest settings: ");const e={__proto__:null};for(const t in this.object)e[t]=this.object[t].length;const t=Object.keys(e);t.sort((function(t,r){return e[r]-e[t]}));for(let r=0;r<10&&r<t.length;++r)q.instance().log("Setting: '"+t[r]+"', size: "+e[t[r]])}}function De(e){const t=e.name,r=Be.instance();r.getRegistry().delete(t),r.moduleSettings.delete(t),e.storage.remove(t)}class He{name;defaultValue;eventSupport;storage;#B;#C;#z=null;#U;#D;#H=JSON;#G;#X;constructor(e,t,r,s){this.name=e,this.defaultValue=t,this.eventSupport=r,this.storage=s,s.register(e)}setSerializer(e){this.#H=e}addChangeListener(e,t){return this.eventSupport.addEventListener(this.name,e,t)}removeChangeListener(e,t){this.eventSupport.removeEventListener(this.name,e,t)}title(){return this.#C?this.#C:this.#B?this.#B():""}setTitleFunction(e){e&&(this.#B=e)}setTitle(e){this.#C=e}setRequiresUserAction(e){this.#U=e}disabled(){return this.#X||!1}setDisabled(e){this.#X=e,this.eventSupport.dispatchEventToListeners(this.name)}get(){if(this.#U&&!this.#G)return this.defaultValue;if(void 0!==this.#D)return this.#D;if(this.#D=this.defaultValue,this.storage.has(this.name))try{this.#D=this.#H.parse(this.storage.get(this.name))}catch(e){this.storage.remove(this.name)}return this.#D}async forceGet(){const e=this.name,t=this.storage.get(e),r=await this.storage.forceGet(e);if(this.#D=this.defaultValue,r)try{this.#D=this.#H.parse(r)}catch(e){this.storage.remove(this.name)}return t!==r&&this.eventSupport.dispatchEventToListeners(this.name,this.#D),this.#D}set(e){this.#G=!0,this.#D=e;try{const t=this.#H.stringify(e);try{this.storage.set(this.name,t)}catch(e){this.printSettingsSavingError(e.message,this.name,t)}}catch(e){q.instance().error("Cannot stringify setting with name: "+this.name+", error: "+e.message)}this.eventSupport.dispatchEventToListeners(this.name,e)}setRegistration(e){this.#z=e}type(){return this.#z?this.#z.settingType:null}options(){return this.#z&&this.#z.options?this.#z.options.map((e=>{const{value:t,title:r,text:s,raw:n}=e;return{value:t,title:r(),text:"function"==typeof s?s():s,raw:n}})):[]}reloadRequired(){return this.#z&&this.#z.reloadRequired||null}category(){return this.#z&&this.#z.category||null}tags(){return this.#z&&this.#z.tags?this.#z.tags.map((e=>e())).join("\0"):null}order(){return this.#z&&this.#z.order||null}printSettingsSavingError(e,t,r){const s="Error saving setting with name: "+this.name+", value length: "+r.length+". Error: "+e;console.error(s),q.instance().error(s),this.storage.dumpSizes()}}class Ge extends He{#q;#$;constructor(e,t,r,s,n){super(e,t?[{pattern:t}]:[],r,s),this.#q=n}get(){const e=[],t=this.getAsArray();for(let r=0;r<t.length;++r){const s=t[r];s.pattern&&!s.disabled&&e.push(s.pattern)}return e.join("|")}getAsArray(){return super.get()}set(e){this.setAsArray([{pattern:e,disabled:!1}])}setAsArray(e){this.#$=void 0,super.set(e)}asRegExp(){if(void 0!==this.#$)return this.#$;this.#$=null;try{const e=this.get();e&&(this.#$=new RegExp(e,this.#q||""))}catch(e){}return this.#$}}class Xe{static get currentVersionName(){return"inspectorVersion"}static get currentVersion(){return 31}updateVersion(){const e=window.localStorage?window.localStorage[Xe.currentVersionName]:0,t=Be.instance().createSetting(Xe.currentVersionName,0),r=Xe.currentVersion,s=t.get()||parseInt(e||"0",10);if(0===s)return void t.set(r);const n=this.methodsToRunToUpdateVersion(s,r);for(const e of n)this[e].call(this);t.set(r)}methodsToRunToUpdateVersion(e,t){const r=[];for(let s=e;s<t;++s)r.push("updateVersionFrom"+s+"To"+(s+1));return r}updateVersionFrom0To1(){this.clearBreakpointsWhenTooMany(Be.instance().createLocalSetting("breakpoints",[]),5e5)}updateVersionFrom1To2(){Be.instance().createSetting("previouslyViewedFiles",[]).set([])}updateVersionFrom2To3(){Be.instance().createSetting("fileSystemMapping",{}).set({}),De(Be.instance().createSetting("fileMappingEntries",[]))}updateVersionFrom3To4(){const e=Be.instance().createSetting("showHeaSnapshotObjectsHiddenProperties",!1);$e("showAdvancedHeapSnapshotProperties").set(e.get()),De(e)}updateVersionFrom4To5(){const e={FileSystemViewSidebarWidth:"fileSystemViewSplitViewState",elementsSidebarWidth:"elementsPanelSplitViewState",StylesPaneSplitRatio:"stylesPaneSplitViewState",heapSnapshotRetainersViewSize:"heapSnapshotSplitViewState","InspectorView.splitView":"InspectorView.splitViewState","InspectorView.screencastSplitView":"InspectorView.screencastSplitViewState","Inspector.drawerSplitView":"Inspector.drawerSplitViewState",layerDetailsSplitView:"layerDetailsSplitViewState",networkSidebarWidth:"networkPanelSplitViewState",sourcesSidebarWidth:"sourcesPanelSplitViewState",scriptsPanelNavigatorSidebarWidth:"sourcesPanelNavigatorSplitViewState",sourcesPanelSplitSidebarRatio:"sourcesPanelDebuggerSidebarSplitViewState","timeline-details":"timelinePanelDetailsSplitViewState","timeline-split":"timelinePanelRecorsSplitViewState","timeline-view":"timelinePanelTimelineStackSplitViewState",auditsSidebarWidth:"auditsPanelSplitViewState",layersSidebarWidth:"layersPanelSplitViewState",profilesSidebarWidth:"profilesPanelSplitViewState",resourcesSidebarWidth:"resourcesPanelSplitViewState"},t={};for(const r in e){const s=e[r],n=r+"H";let i=null;const a=Be.instance().createSetting(r,t);a.get()!==t&&(i=i||{},i.vertical={},i.vertical.size=a.get(),De(a));const o=Be.instance().createSetting(n,t);o.get()!==t&&(i=i||{},i.horizontal={},i.horizontal.size=o.get(),De(o)),i&&Be.instance().createSetting(s,{}).set(i)}}updateVersionFrom5To6(){const e={debuggerSidebarHidden:"sourcesPanelSplitViewState",navigatorHidden:"sourcesPanelNavigatorSplitViewState","WebInspector.Drawer.showOnLoad":"Inspector.drawerSplitViewState"};for(const t in e){const r=Be.instance().createSetting(t,null);if(null===r.get()){De(r);continue}const s=e[t],n="WebInspector.Drawer.showOnLoad"===t,i=r.get()!==n;De(r);const a=i?"OnlyMain":"Both",o=Be.instance().createSetting(s,{}),l=o.get()||{};l.vertical=l.vertical||{},l.vertical.showMode=a,l.horizontal=l.horizontal||{},l.horizontal.showMode=a,o.set(l)}}updateVersionFrom6To7(){const e={sourcesPanelNavigatorSplitViewState:"sourcesPanelNavigatorSplitViewState",elementsPanelSplitViewState:"elementsPanelSplitViewState",stylesPaneSplitViewState:"stylesPaneSplitViewState",sourcesPanelDebuggerSidebarSplitViewState:"sourcesPanelDebuggerSidebarSplitViewState"},t={};for(const r in e){const e=Be.instance().createSetting(r,t),s=e.get();s!==t&&(s.vertical&&s.vertical.size&&s.vertical.size<1&&(s.vertical.size=0),s.horizontal&&s.horizontal.size&&s.horizontal.size<1&&(s.horizontal.size=0),e.set(s))}}updateVersionFrom7To8(){}updateVersionFrom8To9(){const e=["skipStackFramesPattern","workspaceFolderExcludePattern"];for(let t=0;t<e.length;++t){const r=Be.instance().createSetting(e[t],"");let s=r.get();if(!s)return;"string"==typeof s&&(s=[s]);for(let e=0;e<s.length;++e)"string"==typeof s[e]&&(s[e]={pattern:s[e]});r.set(s)}}updateVersionFrom9To10(){if(window.localStorage)for(const e in window.localStorage)e.startsWith("revision-history")&&window.localStorage.removeItem(e)}updateVersionFrom10To11(){const e=Be.instance().createSetting("customDevicePresets",void 0),t=e.get();if(!Array.isArray(t))return;const r=[];for(let e=0;e<t.length;++e){const s=t[e],n={};n.title=s.title,n.type="unknown",n["user-agent"]=s.userAgent,n.capabilities=[],s.touch&&n.capabilities.push("touch"),s.mobile&&n.capabilities.push("mobile"),n.screen={},n.screen.vertical={width:s.width,height:s.height},n.screen.horizontal={width:s.height,height:s.width},n.screen["device-pixel-ratio"]=s.deviceScaleFactor,n.modes=[],n["show-by-default"]=!0,n.show="Default",r.push(n)}r.length&&Be.instance().createSetting("customEmulatedDeviceList",[]).set(r),De(e)}updateVersionFrom11To12(){this.migrateSettingsFromLocalStorage()}updateVersionFrom12To13(){this.migrateSettingsFromLocalStorage(),De(Be.instance().createSetting("timelineOverviewMode",""))}updateVersionFrom13To14(){const e={throughput:-1,latency:0};Be.instance().createSetting("networkConditions",e).set(e)}updateVersionFrom14To15(){const e=Be.instance().createLocalSetting("workspaceExcludedFolders",{}),t=e.get(),r={};for(const e in t){r[e]=[];for(const s of t[e])r[e].push(s.path)}e.set(r)}updateVersionFrom15To16(){const e=Be.instance().createSetting("InspectorView.panelOrder",{}),t=e.get();for(const e of Object.keys(t))t[e]=10*(t[e]+1);e.set(t)}updateVersionFrom16To17(){const e=Be.instance().createSetting("networkConditionsCustomProfiles",[]),t=e.get(),r=[];if(Array.isArray(t))for(const e of t)"string"==typeof e.title&&"object"==typeof e.value&&"number"==typeof e.value.throughput&&"number"==typeof e.value.latency&&r.push({title:e.title,value:{download:e.value.throughput,upload:e.value.throughput,latency:e.value.latency}});e.set(r)}updateVersionFrom17To18(){const e=Be.instance().createLocalSetting("workspaceExcludedFolders",{}),t=e.get(),r={};for(const e in t){let s=e.replace(/\\/g,"/");s.startsWith("file://")||(s=s.startsWith("/")?"file://"+s:"file:///"+s),r[s]=t[e]}e.set(r)}updateVersionFrom18To19(){const e=Be.instance().createSetting("networkLogColumnsVisibility",{status:!0,type:!0,initiator:!0,size:!0,time:!0}),t=e.get();t.name=!0,t.timeline=!0;const r={};for(const e in t)t.hasOwnProperty(e)&&(r[e.toLowerCase()]={visible:t[e]});Be.instance().createSetting("networkLogColumns",{}).set(r),De(e)}updateVersionFrom19To20(){const e=Be.instance().createSetting("InspectorView.panelOrder",{});Be.instance().createSetting("panel-tabOrder",{}).set(e.get()),De(e)}updateVersionFrom20To21(){const e=Be.instance().createSetting("networkLogColumns",{}),t=e.get();delete t.timeline,delete t.waterfall,e.set(t)}updateVersionFrom21To22(){const e=Be.instance().createLocalSetting("breakpoints",[]),t=e.get();for(const e of t)e.url=e.sourceFileId,delete e.sourceFileId;e.set(t)}updateVersionFrom22To23(){}updateVersionFrom23To24(){const e=Be.instance().createSetting("searchInContentScripts",!1);Be.instance().createSetting("searchInAnonymousAndContentScripts",!1).set(e.get()),De(e)}updateVersionFrom24To25(){const e=Be.instance().createSetting("networkLogColumns",{status:!0,type:!0,initiator:!0,size:!0,time:!0}),t=e.get();delete t.product,e.set(t)}updateVersionFrom25To26(){const e=Be.instance().createSetting("messageURLFilters",{}),t=Object.keys(e.get()).map((e=>`-url:${e}`)).join(" ");if(t){const e=Be.instance().createSetting("console.textFilter",""),r=e.get()?` ${e.get()}`:"";e.set(`${t}${r}`)}De(e)}updateVersionFrom26To27(){function e(e,t,r){const s=Be.instance().createSetting(e,{}),n=s.get();t in n&&(n[r]=n[t],delete n[t],s.set(n))}e("panel-tabOrder","audits2","audits"),e("panel-closeableTabs","audits2","audits"),function(e,t,r){const s=Be.instance().createSetting(e,"");s.get()===t&&s.set(r)}("panel-selectedTab","audits2","audits")}updateVersionFrom27To28(){const e=Be.instance().createSetting("uiTheme","systemPreferred");"default"===e.get()&&e.set("systemPreferred")}updateVersionFrom28To29(){function e(e,t,r){const s=Be.instance().createSetting(e,{}),n=s.get();t in n&&(n[r]=n[t],delete n[t],s.set(n))}e("panel-tabOrder","audits","lighthouse"),e("panel-closeableTabs","audits","lighthouse"),function(e,t,r){const s=Be.instance().createSetting(e,"");s.get()===t&&s.set(r)}("panel-selectedTab","audits","lighthouse")}updateVersionFrom29To30(){const e=Be.instance().createSetting("closeableTabs",{}),t=Be.instance().createSetting("panel-closeableTabs",{}),r=Be.instance().createSetting("drawer-view-closeableTabs",{}),s=t.get(),n=t.get(),i=Object.assign(n,s);e.set(i),De(t),De(r)}updateVersionFrom30To31(){De(Be.instance().createSetting("recorder_recordings",[]))}migrateSettingsFromLocalStorage(){const e=new Set(["advancedSearchConfig","breakpoints","consoleHistory","domBreakpoints","eventListenerBreakpoints","fileSystemMapping","lastSelectedSourcesSidebarPaneTab","previouslyViewedFiles","savedURLs","watchExpressions","workspaceExcludedFolders","xhrBreakpoints"]);if(window.localStorage)for(const t in window.localStorage){if(e.has(t))continue;const r=window.localStorage[t];window.localStorage.removeItem(t),Be.instance().globalStorage.set(t,r)}}clearBreakpointsWhenTooMany(e,t){e.get().length>t&&e.set([])}}var qe;function $e(e){return Be.instance().moduleSetting(e)}!function(e){e.Synced="Synced",e.Global="Global",e.Local="Local",e.Session="Session"}(qe||(qe={}));var Ye=Object.freeze({__proto__:null,Settings:Be,NOOP_STORAGE:ze,SettingsStorage:Ue,Setting:He,RegExpSetting:Ge,VersionController:Xe,get SettingStorageType(){return qe},moduleSetting:$e,settingForTest:function(e){return Be.instance().settingForTest(e)},detectColorFormat:function(e){const t=A;let r;const s=Be.instance().moduleSetting("colorFormat").get();return r=s===t.Original?t.Original:s===t.RGB?t.RGB:s===t.HSL?t.HSL:s===t.HWB?t.HWB:s===t.HEX?e.detectHEXFormat():t.RGB,r},getLocalizedSettingsCategory:function(e){switch(e){case _e.ELEMENTS:return Ne(Le.elements);case _e.APPEARANCE:return Ne(Le.appearance);case _e.SOURCES:return Ne(Le.sources);case _e.NETWORK:return Ne(Le.network);case _e.PERFORMANCE:return Ne(Le.performance);case _e.CONSOLE:return Ne(Le.console);case _e.PERSISTENCE:return Ne(Le.persistence);case _e.DEBUGGER:return Ne(Le.debugger);case _e.GLOBAL:return Ne(Le.global);case _e.RENDERING:return Ne(Le.rendering);case _e.GRID:return Ne(Le.grid);case _e.MOBILE:return Ne(Le.mobile);case _e.EMULATION:return Ne(Le.console);case _e.MEMORY:return Ne(Le.memory);case _e.EXTENSIONS:return Ne(Le.extension);case _e.ADORNER:return Ne(Le.adorner);case _e.NONE:return"";case _e.SYNC:return Ne(Le.sync)}},getRegisteredSettings:We,maybeRemoveSettingExtension:function(e){const t=Me.findIndex((t=>t.settingName===e));return!(t<0||!Ve.delete(e))&&(Me.splice(t,1),!0)},registerSettingExtension:function(e){const t=e.settingName;if(Ve.has(t))throw new Error(`Duplicate setting name '${t}'`);Ve.add(t),Me.push(e)},get SettingCategory(){return _e},get SettingType(){return Fe},registerSettingsForTest:function(e,t=!1){if(0===Me.length||t){Me=e,Ve.clear();for(const t of e){const e=t.settingName;if(Ve.has(e))throw new Error(`Duplicate setting name '${e}'`);Ve.add(e)}}},resetSettings:function(){Me=[],Ve.clear()}});var Ze=Object.freeze({__proto__:null,SimpleHistoryManager:class{#Y;#Z;#Q;#K;constructor(e){this.#Y=[],this.#Z=-1,this.#Q=0,this.#K=e}readOnlyLock(){++this.#Q}releaseReadOnlyLock(){--this.#Q}getPreviousValidIndex(){if(this.empty())return-1;let e=this.#Z-1;for(;e>=0&&!this.#Y[e].valid();)--e;return e<0?-1:e}getNextValidIndex(){let e=this.#Z+1;for(;e<this.#Y.length&&!this.#Y[e].valid();)++e;return e>=this.#Y.length?-1:e}readOnly(){return Boolean(this.#Q)}filterOut(e){if(this.readOnly())return;const t=[];let r=0;for(let s=0;s<this.#Y.length;++s)e(this.#Y[s])?s<=this.#Z&&++r:t.push(this.#Y[s]);this.#Y=t,this.#Z=Math.max(0,this.#Z-r)}empty(){return!this.#Y.length}active(){return this.empty()?null:this.#Y[this.#Z]}push(e){this.readOnly()||(this.empty()||this.#Y.splice(this.#Z+1),this.#Y.push(e),this.#Y.length>this.#K&&this.#Y.shift(),this.#Z=this.#Y.length-1)}canRollback(){return this.getPreviousValidIndex()>=0}canRollover(){return this.getNextValidIndex()>=0}rollback(){const e=this.getPreviousValidIndex();return-1!==e&&(this.readOnlyLock(),this.#Z=e,this.#Y[e].reveal(),this.releaseReadOnlyLock(),!0)}rollover(){const e=this.getNextValidIndex();return-1!==e&&(this.readOnlyLock(),this.#Z=e,this.#Y[e].reveal(),this.releaseReadOnlyLock(),!0)}}});var Qe=Object.freeze({__proto__:null,StringOutputStream:class{#J;constructor(){this.#J=""}async write(e){this.#J+=e}async close(){}data(){return this.#J}}});class Ke{#ee;#te;#re;#se;#ne;#ie;constructor(){this.#te=0,this.clear()}add(e){let t=this.#te;++this.#ne[this.#te];for(let r=0;r<e.length;++r){const s=e[r];let n=this.#re[t][s];n||(this.#ie.length?n=this.#ie.pop():(n=this.#ee++,this.#se.push(!1),this.#ne.push(0),this.#re.push(Object.create(null))),this.#re[t][s]=n),++this.#ne[n],t=n}this.#se[t]=!0}remove(e){if(!this.has(e))return!1;let t=this.#te;--this.#ne[this.#te];for(let r=0;r<e.length;++r){const s=e[r],n=this.#re[t][s];--this.#ne[n]||(delete this.#re[t][s],this.#ie.push(n)),t=n}return this.#se[t]=!1,!0}has(e){let t=this.#te;for(let r=0;r<e.length;++r)if(t=this.#re[t][e[r]],!t)return!1;return this.#se[t]}words(e){e=e||"";let t=this.#te;for(let r=0;r<e.length;++r)if(t=this.#re[t][e[r]],!t)return[];const r=[];return this.dfs(t,e,r),r}dfs(e,t,r){this.#se[e]&&r.push(t);const s=this.#re[e];for(const e in s)this.dfs(s[e],t+e,r)}longestPrefix(e,t){let r=this.#te,s=0;for(let n=0;n<e.length&&(r=this.#re[r][e[n]],r);++n)t&&!this.#se[r]||(s=n+1);return e.substring(0,s)}clear(){this.#ee=1,this.#te=0,this.#re=[Object.create(null)],this.#se=[!1],this.#ne=[0],this.#ie=[]}}var Je=Object.freeze({__proto__:null,Trie:Ke});var et=Object.freeze({__proto__:null,TextDictionary:class{words;index;constructor(){this.words=new Map,this.index=new Ke}addWord(e){let t=this.words.get(e)||0;++t,this.words.set(e,t),this.index.add(e)}removeWord(e){let t=this.words.get(e)||0;if(t){if(1===t)return this.words.delete(e),void this.index.remove(e);--t,this.words.set(e,t)}}wordsWithPrefix(e){return this.index.words(e)}hasWord(e){return this.words.has(e)}wordCount(e){return this.words.get(e)||0}reset(){this.words.clear(),this.index.clear()}}});var tt=Object.freeze({__proto__:null,Throttler:class{#ae;#oe;#le;#ce;#he;#ue;#ge;#de;constructor(e){this.#ae=e,this.#oe=!1,this.#le=!1,this.#ce=null,this.#he=0,this.#ue=new Promise((e=>{this.#ge=e}))}processCompleted(){this.#he=this.getTime(),this.#oe=!1,this.#ce&&this.innerSchedule(!1),this.processCompletedForTests()}processCompletedForTests(){}get process(){return this.#ce}onTimeout(){this.#de=void 0,this.#le=!1,this.#oe=!0,Promise.resolve().then(this.#ce).catch(console.error.bind(console)).then(this.processCompleted.bind(this)).then(this.#ge),this.#ue=new Promise((e=>{this.#ge=e})),this.#ce=null}schedule(e,t){this.#ce=e;const r=Boolean(this.#de)||this.#oe,s=this.getTime()-this.#he>this.#ae,n=(t=Boolean(t)||!r&&s)&&!this.#le;return this.#le=this.#le||t,this.innerSchedule(n),this.#ue}innerSchedule(e){if(this.#oe)return;if(this.#de&&!e)return;this.#de&&this.clearTimeout(this.#de);const t=this.#le?0:this.#ae;this.#de=this.setTimeout(this.onTimeout.bind(this),t)}clearTimeout(e){clearTimeout(e)}setTimeout(e,t){return window.setTimeout(e,t)}getTime(){return window.performance.now()}}});var rt=Object.freeze({__proto__:null,WasmDisassembly:class{lines;#pe;#me;constructor(e,t,r){if(e.length!==t.length)throw new Error("Lines and offsets don't match");this.lines=e,this.#pe=t,this.#me=r}get lineNumbers(){return this.#pe.length}bytecodeOffsetToLineNumber(e){return t.ArrayUtilities.upperBound(this.#pe,e,t.ArrayUtilities.DEFAULT_COMPARATOR)-1}lineNumberToBytecodeOffset(e){return this.#pe[e]}*nonBreakableLineNumbers(){let e=0,t=0;for(;e<this.lineNumbers;){if(t<this.#me.length){if(this.lineNumberToBytecodeOffset(e)>=this.#me[t].start){e=this.bytecodeOffsetToLineNumber(this.#me[t++].end)+1;continue}}yield e++}}}});class st{#fe;#Se;constructor(e){this.#fe=new Promise((t=>{const r=new Worker(e,{type:"module"});r.onmessage=e=>{console.assert("workerReady"===e.data),r.onmessage=null,t(r)}}))}static fromURL(e){return new st(e)}postMessage(e){this.#fe.then((t=>{this.#Se||t.postMessage(e)}))}dispose(){this.#Se=!0,this.#fe.then((e=>e.terminate()))}terminate(){this.dispose()}set onmessage(e){this.#fe.then((t=>{t.onmessage=e}))}set onerror(e){this.#fe.then((t=>{t.onerror=e}))}}var nt=Object.freeze({__proto__:null,WorkerWrapper:st});let it;export{s as App,i as AppProvider,l as Base64,c as CharacterIdMap,V as Color,R as ColorUtils,Q as Console,K as Debouncer,J as EventTarget,ee as JavaScriptMetaData,se as Lazy,ae as Linkifier,oe as Mutex,_ as ObjectWrapper,he as ParsedURL,ge as Progress,de as QueryParamHandler,pe as ResolverBase,Ee as ResourceType,G as Revealer,Pe as Runnable,Oe as SegmentedRange,Ye as Settings,Ze as SimpleHistoryManager,Qe as StringOutputStream,et as TextDictionary,tt as Throttler,Je as Trie,rt as WasmDisassembly,nt as Worker,it as settings};
