{"version":3,"file":"sourceurl_test.js","sourceRoot":"","sources":["../../../../../../../../../third_party/devtools-frontend/src/test/e2e/sources/sourceurl_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAAyD;AACzD,0EAA8D;AAE9D,sEAA8G;AAE9G,SAAS,sBAAsB,CAAC,UAAkB,EAAE,UAAkB,EAAE,QAAgB;IACtF,MAAM,YAAY,GAAG,qDAAqD,CAAC;IAC3E,MAAM,cAAc,GAAG,GAAG,YAAY,wBAAwB,UAAU,YAAY,CAAC;IACrF,MAAM,cAAc,GAAG,GAAG,cAAc,yBAAyB,UAAU,MAAM,CAAC;IAClF,MAAM,YAAY,GAAG,GAAG,cAAc,wBAAwB,QAAQ,UAAU,CAAC;IAEjF,OAAO;QACL,YAAY;QACZ,cAAc;QACd,cAAc;QACd,YAAY;KACb,CAAC;AACJ,CAAC;AAED,IAAA,8BAAQ,EAAC,iBAAiB,EAAE,GAAG,EAAE;IAC/B,IAAA,wBAAE,EAAC,mDAAmD,EAAE,KAAK,IAAI,EAAE;QACjE,MAAM,UAAU,GAAG,aAAa,IAAA,6BAAiB,GAAE,EAAE,CAAC;QACtD,MAAM,IAAA,2CAAsB,EAAC,gBAAgB,CAAC,CAAC;QAC/C,MAAM,IAAA,mCAAc,EAAC,sBAAsB,CAAC,UAAU,EAAE,4BAA4B,EAAE,SAAS,CAAC,CAAC,CAAC;QAClG,MAAM,IAAA,mCAAc,EAAC,sBAAsB,CAAC,UAAU,EAAE,4BAA4B,EAAE,WAAW,CAAC,CAAC,CAAC;IACtG,CAAC,CAAC,CAAC;IAEH,IAAA,wBAAE,EAAC,6EAA6E,EAAE,KAAK,IAAI,EAAE;QAC3F,MAAM,IAAA,2CAAsB,EAAC,gBAAgB,CAAC,CAAC;QAC/C,MAAM,IAAA,mCAAc,EAAC,sBAAsB,CAAC,YAAY,EAAE,KAAK,EAAE,UAAU,CAAC,CAAC,CAAC;QAC9E,MAAM,IAAA,mCAAc,EAAC,sBAAsB,CAAC,qBAAqB,EAAE,sBAAsB,EAAE,cAAc,CAAC,CAAC,CAAC;IAC9G,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {getTestServerPort} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\n\nimport {expandFileTree, openFileInSourcesPanel, type NestedFileSelector} from '../helpers/sources-helpers.js';\n\nfunction createSelectorsForFile(domainName: string, folderName: string, fileName: string): NestedFileSelector {\n  const rootSelector = '.navigator-frame-tree-item[aria-label=\"top, frame\"]';\n  const domainSelector = `${rootSelector} + ol > [aria-label=\"${domainName}, domain\"]`;\n  const folderSelector = `${domainSelector} + ol > [aria-label^=\"${folderName}, \"]`;\n  const fileSelector = `${folderSelector} + ol > [aria-label=\"${fileName}, file\"]`;\n\n  return {\n    rootSelector,\n    domainSelector,\n    folderSelector,\n    fileSelector,\n  };\n}\n\ndescribe('The Sources Tab', () => {\n  it('resolves relative sourceURL annotations correctly', async () => {\n    const domainName = `localhost:${getTestServerPort()}`;\n    await openFileInSourcesPanel('sourceurl.html');\n    await expandFileTree(createSelectorsForFile(domainName, 'test/e2e/resources/sources', 'eval.js'));\n    await expandFileTree(createSelectorsForFile(domainName, 'test/e2e/resources/sources', 'inline.js'));\n  });\n\n  it('retains absolute webpack:/// and webpack-internal:/// sourceURL annotations', async () => {\n    await openFileInSourcesPanel('sourceurl.html');\n    await expandFileTree(createSelectorsForFile('webpack://', 'src', 'index.js'));\n    await expandFileTree(createSelectorsForFile('webpack-internal://', '(webpack-dev-server)', 'generated.js'));\n  });\n});\n"]}