{"version":3,"file":"ComputedStyleProperty_test.js","sourceRoot":"","sources":["../../../../../../../../../../../../third_party/devtools-frontend/src/test/unittests/front_end/panels/elements/components/ComputedStyleProperty_test.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;AAE7B,OAAO,KAAK,kBAAkB,MAAM,sEAAsE,CAAC;AAC3G,OAAO,EAAC,gBAAgB,EAAE,oBAAoB,EAAC,MAAM,gCAAgC,CAAC;AAEtF,MAAM,EAAC,MAAM,EAAC,GAAG,IAAI,CAAC;AAEtB,MAAM,WAAW,GAAG;IAClB,oBAAoB,EAAE,GAAG,EAAE;QACzB,OAAO,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IACD,qBAAqB,EAAE,GAAG,EAAE;QAC1B,OAAO,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACxC,CAAC;IACD,SAAS,EAAE,KAAK;IAChB,SAAS,EAAE,IAAI;IACf,kBAAkB,EAAE,GAAG,EAAE,GAAE,CAAC;CAC7B,CAAC;AAEF,QAAQ,CAAC,uBAAuB,EAAE,GAAG,EAAE;IACrC,EAAE,CAAC,sCAAsC,EAAE,GAAG,EAAE;QAC9C,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,CAAC;QACvF,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,MAAM,IAAI,GAAG;YACX,GAAG,WAAW;YACd,SAAS,EAAE,KAAK;YAChB,SAAS,EAAE,IAAI;SAChB,CAAC;QACF,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QAEtB,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QAEvC,MAAM,OAAO,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAC,oCAAoC,CAAC,CAAC;QACzF,MAAM,CAAC,MAAM,CAAC,OAAO,EAAE,oEAAoE,CAAC,CAAC;IAC/F,CAAC,CAAC,CAAC;IAEH,EAAE,CAAC,qFAAqF,EAAE,GAAG,EAAE;QAC7F,MAAM,SAAS,GAAG,IAAI,kBAAkB,CAAC,qBAAqB,CAAC,qBAAqB,EAAE,CAAC;QACvF,oBAAoB,CAAC,SAAS,CAAC,CAAC;QAChC,IAAI,0BAA0B,GAAG,KAAK,CAAC;QACvC,MAAM,IAAI,GAAG;YACX,GAAG,WAAW;YACd,kBAAkB,EAAE,GAAG,EAAE;gBACvB,0BAA0B,GAAG,IAAI,CAAC;YACpC,CAAC;SACF,CAAC;QACF,SAAS,CAAC,IAAI,GAAG,IAAI,CAAC;QAEtB,gBAAgB,CAAC,SAAS,CAAC,UAAU,CAAC,CAAC;QACvC,MAAM,IAAI,GAAG,SAAS,CAAC,UAAU,CAAC,aAAa,CAAc,OAAO,CAAC,CAAC;QACtE,IAAI,CAAC,IAAI,EAAE;YACT,MAAM,CAAC,IAAI,CAAC,wBAAwB,CAAC,CAAC;YACtC,OAAO;SACR;QACD,IAAI,CAAC,KAAK,EAAE,CAAC;QACb,MAAM,CAAC,MAAM,CAAC,0BAA0B,EAAE,6DAA6D,CAAC,CAAC;IAC3G,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2020 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport * as ElementsComponents from '../../../../../../front_end/panels/elements/components/components.js';\nimport {assertShadowRoot, renderElementIntoDOM} from '../../../helpers/DOMHelpers.js';\n\nconst {assert} = chai;\n\nconst initialData = {\n  propertyNameRenderer: () => {\n    return document.createElement('span');\n  },\n  propertyValueRenderer: () => {\n    return document.createElement('span');\n  },\n  inherited: false,\n  traceable: true,\n  onNavigateToSource: () => {},\n};\n\ndescribe('ComputedStyleProperty', () => {\n  it('renders inherited property correctly', () => {\n    const component = new ElementsComponents.ComputedStyleProperty.ComputedStyleProperty();\n    renderElementIntoDOM(component);\n    const data = {\n      ...initialData,\n      traceable: false,\n      inherited: true,\n    };\n    component.data = data;\n\n    assertShadowRoot(component.shadowRoot);\n\n    const wrapper = component.shadowRoot.querySelector('.computed-style-property.inherited');\n    assert.exists(wrapper, 'it should add .inherited class to wrapper for inherited properties');\n  });\n\n  it('renders a clickable goto icon that calls onNavigateToSource when it contains traces', () => {\n    const component = new ElementsComponents.ComputedStyleProperty.ComputedStyleProperty();\n    renderElementIntoDOM(component);\n    let isOnNavigateToSourceCalled = false;\n    const data = {\n      ...initialData,\n      onNavigateToSource: () => {\n        isOnNavigateToSourceCalled = true;\n      },\n    };\n    component.data = data;\n\n    assertShadowRoot(component.shadowRoot);\n    const goto = component.shadowRoot.querySelector<HTMLElement>('.goto');\n    if (!goto) {\n      assert.fail('goto icon should exist');\n      return;\n    }\n    goto.click();\n    assert.isTrue(isOnNavigateToSourceCalled, 'goto icon should be clickable that calls onNavigateToSource');\n  });\n});\n"]}