<?xml version="1.0" encoding="utf-8"?>
<!-- Copyright 2015 The Chromium Authors. All rights reserved.
     Use of this source code is governed by a BSD-style license that can be
     found in the LICENSE file. -->

<!--
Note: This is a jinja2 template, processed at build time into the final manifest.

Blocks denoted with { % block some_name % }foo{ % endblock % } can be overridden
by a child template that "extends" this file.
-->

<manifest xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    package="org.chromium.chrome.stable"
    android:isolatedSplits="true"
    tools:ignore="MissingVersion">
    <!-- android:versionCode and android:versionName is set through gyp. See build/common.gypi -->

    <uses-feature android:glEsVersion="0x00020000" />

    <uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION"/>
    <uses-permission android:name="android.permission.ACCESS_FINE_LOCATION"/>
    <uses-permission-sdk-23 android:name="android.permission.ACCESS_WIFI_STATE" />
    <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />

    <!--
      Enable runtime permissions as uses-permission in tip of tree builds
      only for ease of development on Android L and earlier. For consumer
      channels use "runtime permission" uses-permission-sdk-23 which provides
      permission on Android M and later without a prompt.
    -->

    <uses-permission-sdk-23 android:name="android.permission.BLUETOOTH_ADMIN" android:maxSdkVersion="30"/>
    <uses-permission-sdk-23 android:name="android.permission.BLUETOOTH_CONNECT"/>
    <!--
      Bluetooth advertising is used by Phone as a Security Key to allow
      a desktop device to prove proximity by receiving a BLE advert from the
      phone.
    -->
    <uses-permission-sdk-23 android:name="android.permission.BLUETOOTH_ADVERTISE"/>
    <!--
      The BLUETOOTH permission is needed for
      BluetoothAdapter.ACTION_REQUEST_ENABLE which at least Phone as a Security
      Key uses.
    -->
    <uses-permission-sdk-23 android:name="android.permission.BLUETOOTH"/>
    <!--
      Bluetooth scanning is used to implement the Web Bluetooth API, which is
      not intended to allow sites to derive location and so can accept a
      filtered view of devices.
    -->
    <uses-permission-sdk-23 android:name="android.permission.BLUETOOTH_SCAN"
                            android:usesPermissionFlags="neverForLocation"/>

    <uses-permission-sdk-23 android:name="android.permission.READ_CONTACTS"/>
    <uses-permission-sdk-23 android:name="android.permission.REORDER_TASKS"/>
    <uses-permission-sdk-23 android:name="android.permission.REQUEST_INSTALL_PACKAGES"/>

    <uses-permission android:name="android.permission.CAMERA" />
    <uses-permission android:name="android.permission.DOWNLOAD_WITHOUT_NOTIFICATION" />
    <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
    <uses-permission android:name="android.permission.GET_ACCOUNTS"/>
    <uses-permission android:name="android.permission.INTERNET"/>
    <uses-permission android:name="android.permission.MANAGE_ACCOUNTS"/>
    <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS"/>
    <uses-permission android:name="android.permission.NFC"/>
    <uses-permission android:name="android.permission.POST_NOTIFICATIONS" />
    <uses-permission android:name="android.permission.QUERY_ALL_PACKAGES" />
    <uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE"/>
    <uses-permission-sdk-23 android:name="android.permission.READ_MEDIA_AUDIO"/>
    <uses-permission-sdk-23 android:name="android.permission.READ_MEDIA_IMAGES"/>
    <uses-permission-sdk-23 android:name="android.permission.READ_MEDIA_VIDEO"/>
    <uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"/>
    <uses-permission android:name="android.permission.RECORD_AUDIO"/>
    <uses-permission android:name="android.permission.USE_CREDENTIALS"/>
    <uses-permission-sdk-23 android:name="android.permission.USE_BIOMETRIC"/>
    <uses-permission-sdk-23 android:name="android.permission.USE_FINGERPRINT"/>
    <uses-permission android:name="android.permission.VIBRATE"/>
    <uses-permission android:name="android.permission.WAKE_LOCK"/>
    <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE"/>
    <!-- Indicates use of Android's VR-mode, available only on Android N+. -->
    <uses-feature android:name="android.software.vr.mode" android:required="false"/>
    <!-- Indicates use of VR features that are available only on Daydream-ready devices. -->
    <uses-feature android:name="android.hardware.vr.high_performance" android:required="false"/>
    <!--
      Indicates that we don't need Chrome to be available on devices that only support landscape
      orientation. This is needed because we have VR specific activities that declare the
      android:orientation attribute.
    -->
    <uses-feature android:name="android.hardware.screen.landscape" android:required="false"/>
    <!-- Indicates that head tracking should be done in 6DoF, if available -->
    <uses-feature android:name="android.hardware.vr.headtracking" android:version="1" android:required="false"/>
    <!-- Feature declarations required to support conditional install for VR DFM -->
    <uses-feature android:name="android.hardware.sensor.gyroscope" android:required="false"/>
    <uses-feature android:name="android.hardware.sensor.accelerometer" android:required="false"/>

    <permission android:name="org.chromium.chrome.stable.permission.CHILD_SERVICE" android:protectionLevel="signature" />
    <permission android:name="org.chromium.chrome.stable.permission.READ_WRITE_BOOKMARK_FOLDERS" android:protectionLevel="signatureOrSystem" />
    <permission android:name="org.chromium.chrome.stable.TOS_ACKED" android:protectionLevel="signatureOrSystem" />
    <!-- Only chrome can receive the messages and registration result -->
    <permission android:name="org.chromium.chrome.stable.permission.C2D_MESSAGE"
        android:protectionLevel="signature" />
    <permission android:name="org.chromium.chrome.stable.permission.DEBUG"
                android:label="Debug web pages"
                android:protectionLevel="signature" />
    <permission android:name="org.chromium.chrome.stable.permission.TRANSLATE"
        android:protectionLevel="signature" />

    <uses-permission android:name="org.chromium.chrome.stable.permission.C2D_MESSAGE" />
    <uses-permission android:name="org.chromium.chrome.stable.permission.READ_WRITE_BOOKMARK_FOLDERS" />
    <uses-permission android:name="org.chromium.chrome.stable.TOS_ACKED" />

    <uses-permission android:name="com.chrome.permission.DEVICE_EXTRAS" />
    <uses-permission android:name="com.google.android.c2dm.permission.RECEIVE" />
    <uses-permission android:name="com.android.launcher.permission.INSTALL_SHORTCUT"/>

    <uses-permission android:name="com.google.android.apps.now.CURRENT_ACCOUNT_ACCESS" />


    <!-- We may use GPS but it's not required -->
    <uses-feature android:name="android.hardware.location.gps" android:required="false" />
    <uses-feature android:name="android.hardware.camera" android:required="false" />

    <!--
      android.permission.RECORD_AUDIO makes this implied, however we don't
      require a microphone.
    -->
    <uses-feature android:name="android.hardware.microphone" android:required="false" />
    <!--
      The app is usable with keyboard/mouse. This feature is implicitly true for
      all applications and needs to be disabled manually.
    -->
    <uses-feature android:name="android.hardware.touchscreen" android:required="false" />

  <!-- No keyset definitions should exist for any monochrome apks -->


    <!-- Set android:largeHeap to "true" to allow more than the default
         Java heap limit (32Mb on Nexus S, 48Mb on Xoom). -->
      <application android:name="org.chromium.chrome.browser.base.SplitMonochromeApplication"
        android:icon="@drawable/ic_launcher"
        android:roundIcon="@drawable/ic_launcher_round"
        android:label="@string/app_name"
        android:largeHeap="false"
        android:manageSpaceActivity="@string/manage_space_activity"
        android:supportsRtl="true"
        android:zygotePreloadName="org.chromium.content_public.app.ZygotePreload"
        android:allowBackup="false"
        android:networkSecurityConfig="@xml/network_security_config"
        android:allowAudioPlaybackCapture="false"
        android:appComponentFactory="org.chromium.chrome.browser.base.SplitCompatAppComponentFactory"

android:multiArch="true"
android:extractNativeLibs="false"
android:use32bitAbi="true"
>


      <!-- The following service entries exist in order to allow us to
           start more than one sandboxed process. -->

      <!-- NOTE: If you change the value of "android:process" for the below services,
           you also need to update kHelperProcessExecutableName in chrome_constants.cc. -->
      <meta-data android:name="org.chromium.content.browser.NUM_SANDBOXED_SERVICES"
          android:value="40"/>

      <service android:name="org.chromium.content.app.SandboxedProcessService0"
          android:process=":sandboxed_process0"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:useAppZygote="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService1"
          android:process=":sandboxed_process1"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService2"
          android:process=":sandboxed_process2"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService3"
          android:process=":sandboxed_process3"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService4"
          android:process=":sandboxed_process4"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService5"
          android:process=":sandboxed_process5"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService6"
          android:process=":sandboxed_process6"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService7"
          android:process=":sandboxed_process7"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService8"
          android:process=":sandboxed_process8"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService9"
          android:process=":sandboxed_process9"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService10"
          android:process=":sandboxed_process10"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService11"
          android:process=":sandboxed_process11"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService12"
          android:process=":sandboxed_process12"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService13"
          android:process=":sandboxed_process13"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService14"
          android:process=":sandboxed_process14"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService15"
          android:process=":sandboxed_process15"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService16"
          android:process=":sandboxed_process16"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService17"
          android:process=":sandboxed_process17"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService18"
          android:process=":sandboxed_process18"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService19"
          android:process=":sandboxed_process19"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService20"
          android:process=":sandboxed_process20"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService21"
          android:process=":sandboxed_process21"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService22"
          android:process=":sandboxed_process22"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService23"
          android:process=":sandboxed_process23"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService24"
          android:process=":sandboxed_process24"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService25"
          android:process=":sandboxed_process25"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService26"
          android:process=":sandboxed_process26"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService27"
          android:process=":sandboxed_process27"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService28"
          android:process=":sandboxed_process28"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService29"
          android:process=":sandboxed_process29"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService30"
          android:process=":sandboxed_process30"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService31"
          android:process=":sandboxed_process31"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService32"
          android:process=":sandboxed_process32"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService33"
          android:process=":sandboxed_process33"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService34"
          android:process=":sandboxed_process34"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService35"
          android:process=":sandboxed_process35"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService36"
          android:process=":sandboxed_process36"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService37"
          android:process=":sandboxed_process37"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService38"
          android:process=":sandboxed_process38"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />
      <service android:name="org.chromium.content.app.SandboxedProcessService39"
          android:process=":sandboxed_process39"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="true"
          android:exported="true"
          android:externalService="true"
          tools:ignore="ExportedService"
          android:visibleToInstantApps="true"
 />

      <meta-data android:name="org.chromium.content.browser.NUM_PRIVILEGED_SERVICES"
          android:value="5"/>

      <service android:name="org.chromium.content.app.PrivilegedProcessService0"
          android:process=":privileged_process0"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="false"
          android:exported="false" />

      <service android:name="org.chromium.content.app.PrivilegedProcessService1"
          android:process=":privileged_process1"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="false"
          android:exported="false" />

      <service android:name="org.chromium.content.app.PrivilegedProcessService2"
          android:process=":privileged_process2"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="false"
          android:exported="false" />

      <service android:name="org.chromium.content.app.PrivilegedProcessService3"
          android:process=":privileged_process3"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="false"
          android:exported="false" />

      <service android:name="org.chromium.content.app.PrivilegedProcessService4"
          android:process=":privileged_process4"
          android:permission="org.chromium.chrome.stable.permission.CHILD_SERVICE"
          android:isolatedProcess="false"
          android:exported="false" />


      <meta-data android:name="android.allow_multiple_resumed_activities" android:value="true" />

      <!-- Samsung MultiWindow Support -->
      <meta-data android:name="com.samsung.android.sdk.multiwindow.enable"
          android:value="true" />


      <meta-data android:name="com.samsung.android.sdk.multiwindow.penwindow.enable"
          android:value="true"/>


      <meta-data android:name="android.content.APP_RESTRICTIONS"
          android:resource="@xml/app_restrictions"/>

      <!-- ARCore APK integration -->
      <!-- This tag indicates that this application optionally uses ARCore. -->
      <meta-data android:name="com.google.ar.core" android:value="optional" />

      <!-- Cast support -->
      <meta-data
          android:name=
          "com.google.android.gms.cast.framework.OPTIONS_PROVIDER_CLASS_NAME"
          android:value="org.chromium.components.media_router.caf.CastOptionsProvider"/>

      <!-- These providers are declared in the base module to give the chrome
           split preloader more time to work. -->
      <provider android:name="org.chromium.chrome.browser.util.ChromeFileProvider"
          android:authorities="org.chromium.chrome.stable.FileProvider"
          android:exported="false"
          android:grantUriPermissions="true">
          <meta-data android:name="android.support.FILE_PROVIDER_PATHS"
              android:resource="@xml/file_paths" />
      </provider>

      <provider android:name="org.chromium.chrome.browser.download.DownloadFileProvider"
          android:authorities="org.chromium.chrome.stable.DownloadFileProvider"
          android:exported="false"
          android:grantUriPermissions="true">
          <meta-data android:name="android.support.FILE_PROVIDER_PATHS"
              android:resource="@xml/file_paths" />
      </provider>

      <!-- Provider for image data from Drag and Drop. -->
      <provider android:name="org.chromium.ui.dragdrop.DropDataContentProvider"
          android:authorities="org.chromium.chrome.stable.DropDataProvider"
          android:exported="false"
          android:grantUriPermissions="true">
      </provider>

      <!-- Disables at startup init of Emoji2. See http://crbug.com/1205141 -->
      <provider
          android:authorities="org.chromium.chrome.stable.androidx-startup"
          android:name="androidx.startup.InitializationProvider"
          android:exported="false"
          tools:node="remove">
      </provider>

      <!-- The Play Core library added support for Play Asset Delivery (PAD), which is primarily
           used by game apps to allow dynamic delivery of resource bundles. Since chrome does not
           currently use this feature, remove these services to reclaim 70kb+ of binary size. -->
      <service
          android:name="com.google.android.play.core.assetpacks.AssetPackExtractionService"
          tools:node="remove"/>
      <service
          android:name="com.google.android.play.core.assetpacks.ExtractionForegroundService"
          tools:node="remove"/>

      <!-- Provider for chrome data. -->
      <provider android:name="org.chromium.chrome.browser.provider.ChromeBrowserProvider"
          android:authorities="org.chromium.chrome.stable.ChromeBrowserProvider;org.chromium.chrome.stable.browser;org.chromium.chrome.stable"
          android:exported="true">
          <path-permission android:path="/bookmarks/search_suggest_query"
                  android:readPermission="android.permission.GLOBAL_SEARCH" />
      </provider>


            <meta-data android:name="com.android.webview.WebViewLibrary"
                       android:value="libmonochrome.so" />

            <!-- WebView Developer UI Activities. If you change these Activities, please update
                 android_webview/test/shell/AndroidManifest.xml as well. -->
            <!--suppress HardcodedText -->
            <activity android:name="org.chromium.android_webview.devui.MainActivity"
                      android:windowSoftInputMode="adjustPan"
                      android:visibleToInstantApps="true"
                      android:label="WebView DevTools"
                      android:icon="@drawable/icon_webview"
                      android:theme="@style/Theme.DevUi.DayNight"
                      android:launchMode="singleTask"
                      android:taskAffinity="org.chromium.chrome.stable.org.chromium.android_webview.devui"                       android:process=":webview_apk"                        android:exported="true">
                <intent-filter>
                    <action android:name="com.android.webview.SHOW_DEV_UI" />
                    <category android:name="android.intent.category.DEFAULT" />
                </intent-filter>
            </activity>
            <!-- Don't actually try to launch with this alias: it only exists so we can query its enabled state. -->
            <!-- If you change this component make sure to update the corresponding copy in
                 test/shell/AndroidManifest.xml -->
            <activity-alias android:name="org.chromium.android_webview.devui.DeveloperModeState"
                      android:targetActivity="org.chromium.android_webview.devui.MainActivity"
                      android:visibleToInstantApps="true"
                      android:enabled="false"
                      android:process=":webview_apk" />              <!-- End of WebView Developer UI Activities -->

            <!-- Don't actually try to launch with this alias: it only exists so we can query its enabled state. -->
            <!-- If you change this component make sure to update the corresponding copy in
                 test/shell/AndroidManifest.xml -->
            <activity-alias android:name="org.chromium.android_webview.SafeModeState"
                      android:targetActivity="org.chromium.android_webview.devui.MainActivity"
                      android:visibleToInstantApps="true"
                      android:enabled="false"
                      android:process=":webview_apk" />  
            <activity android:name="org.chromium.android_webview.nonembedded.LicenseActivity"
                      android:label="@string/license_activity_title"
                      android:process=":webview_apk"                        android:exported="true">
                <intent-filter>
                    <action android:name="android.settings.WEBVIEW_LICENSE" />
                    <category android:name="android.intent.category.DEFAULT" />
                </intent-filter>
                <meta-data android:name="com.android.settings.PRIMARY_PROFILE_CONTROLLED"
                           android:value="true" />
            </activity>
            <provider android:name="org.chromium.android_webview.nonembedded.LicenseContentProvider"
                      android:exported="true"
                      android:authorities="org.chromium.chrome.stable.LicenseContentProvider"
                      android:grantUriPermissions="true"
                      android:process=":webview_apk"                        tools:ignore="ExportedContentProvider"/>
            <!-- Disabled by default, enabled at runtime by Developer UI. -->
            <!-- If you change this component make sure to update the corresponding copy in
                 test/shell/AndroidManifest.xml-->
            <provider android:name="org.chromium.android_webview.services.DeveloperModeContentProvider"
                      android:visibleToInstantApps="true"
                      android:exported="true"
                      android:authorities="org.chromium.chrome.stable.DeveloperModeContentProvider"
                      android:process=":webview_service"                        tools:ignore="ExportedContentProvider" />
            <!-- If you change this component make sure to update the corresponding copy in
                 test/shell/AndroidManifest.xml-->
            <provider android:name="org.chromium.android_webview.services.SafeModeContentProvider"
                      android:visibleToInstantApps="true"
                      android:exported="true"
                      android:authorities="org.chromium.chrome.stable.SafeModeContentProvider"
                      android:process=":webview_service"                        tools:ignore="ExportedContentProvider" />
            <!-- Disables at startup init of Emoji2. See http://crbug.com/1205141 -->
            <provider
                android:authorities="org.chromium.chrome.stable.androidx-startup"
                android:name="androidx.startup.InitializationProvider"
                android:exported="false"
                tools:node="remove">
            </provider>
                <!-- If you change the variations services, also see
                     android_webview/test/shell/AndroidManifest.xml. -->
                <!-- These have a separate android:process so that they can
                     run in Monochrome with a different value for
                     PathUtils.getDataDirectory() from Chrome. -->
                <service android:name="org.chromium.android_webview.services.VariationsSeedServer"
                         android:exported="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <service android:name="org.chromium.android_webview.services.AwVariationsSeedFetcher"
                         android:permission="android.permission.BIND_JOB_SERVICE"
                         android:exported="false"
                         android:process=":webview_service" />                  <service android:name="org.chromium.android_webview.services.CrashReceiverService"
                         android:exported="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <service android:name="org.chromium.android_webview.services.AwMinidumpUploadJobService"
                         android:permission="android.permission.BIND_JOB_SERVICE"
                         android:exported="true"
                         android:process=":webview_service" />                  <service android:name="org.chromium.android_webview.services.DeveloperUiService"
                         android:exported="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <service android:name="org.chromium.android_webview.services.SafeModeService"
                         android:exported="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <service android:name="org.chromium.android_webview.services.MetricsBridgeService"
                         android:exported="true"
                         android:visibleToInstantApps="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <service android:name="org.chromium.android_webview.services.MetricsUploadService"
                         android:exported="true"
                         android:visibleToInstantApps="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <!-- This service runs inside webview_apk process because it loads native -->
                <service android:name="org.chromium.android_webview.nonembedded.AwComponentUpdateService"
                         android:permission="android.permission.BIND_JOB_SERVICE"
                         android:exported="false"
                         android:process=":webview_apk"/>                  <service android:name="org.chromium.android_webview.services.ComponentsProviderService"
                         android:exported="true"
                         android:visibleToInstantApps="true"
                         android:process=":webview_service"                           tools:ignore="ExportedService" />
                <!-- JS Execution Sandbox -->
                <service android:name="org.chromium.android_webview.js_sandbox.service.JsSandboxService0"
                    android:process=":js_sandboxed_process0"
                    android:isolatedProcess="true"
                    android:exported="true"
                    android:externalService="true"
                    tools:ignore="ExportedService"
                    android:visibleToInstantApps="true" />

    </application>
</manifest>