// media/capture/mojom/video_capture_buffer.mojom.m.js is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2020 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

import {mojo} from '../../../mojo/public/js/bindings.js';

import {
  MailboxHolder as gpu_mojom_MailboxHolder,
  MailboxHolderSpec as gpu_mojom_MailboxHolderSpec
} from '../../../gpu/ipc/common/mailbox_holder.mojom.m.js';

import {
  ReadOnlySharedMemoryRegion as mojoBase_mojom_ReadOnlySharedMemoryRegion,
  ReadOnlySharedMemoryRegionSpec as mojoBase_mojom_ReadOnlySharedMemoryRegionSpec,
  UnsafeSharedMemoryRegion as mojoBase_mojom_UnsafeSharedMemoryRegion,
  UnsafeSharedMemoryRegionSpec as mojoBase_mojom_UnsafeSharedMemoryRegionSpec
} from '../../../mojo/public/mojom/base/shared_memory.mojom.m.js';

import {
  TimeDelta as mojoBase_mojom_TimeDelta,
  TimeDeltaSpec as mojoBase_mojom_TimeDeltaSpec
} from '../../../mojo/public/mojom/base/time.mojom.m.js';

import {
  Rect as gfx_mojom_Rect,
  RectSpec as gfx_mojom_RectSpec,
  Size as gfx_mojom_Size,
  SizeSpec as gfx_mojom_SizeSpec
} from '../../../ui/gfx/geometry/mojom/geometry.mojom.m.js';

import {
  GpuMemoryBufferHandle as gfx_mojom_GpuMemoryBufferHandle,
  GpuMemoryBufferHandleSpec as gfx_mojom_GpuMemoryBufferHandleSpec
} from '../../../ui/gfx/mojom/buffer_types.mojom.m.js';

import {
  ColorSpace as gfx_mojom_ColorSpace,
  ColorSpaceSpec as gfx_mojom_ColorSpaceSpec
} from '../../../ui/gfx/mojom/color_space.mojom.m.js';

import {
  VideoFrameMetadata as media_mojom_VideoFrameMetadata,
  VideoFrameMetadataSpec as media_mojom_VideoFrameMetadataSpec
} from '../../mojo/mojom/media_types.mojom.m.js';

import {
  VideoCapturePixelFormat as media_mojom_VideoCapturePixelFormat,
  VideoCapturePixelFormatSpec as media_mojom_VideoCapturePixelFormatSpec,
  PlaneStrides as media_mojom_PlaneStrides,
  PlaneStridesSpec as media_mojom_PlaneStridesSpec
} from './video_capture_types.mojom.m.js';



/**
 * @const { {$:!mojo.internal.MojomType}}
 */
export const VideoFrameInfoSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };

/**
 * @const { {$:!mojo.internal.MojomType}}
 */
export const ReadyBufferSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };

/**
 * @const { {$:!mojo.internal.MojomType}}
 */
export const MailboxBufferHandleSetSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };

/**
 * @const { {$:!mojo.internal.MojomType}}
 */
export const SharedMemoryViaRawFileDescriptorSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };

/**
 * @const { {$:!mojo.internal.MojomType} }
 */
export const VideoBufferHandleSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };




mojo.internal.Struct(
    VideoFrameInfoSpec.$,
    'VideoFrameInfo',
    [
      mojo.internal.StructField(
        'timestamp', 0,
        0,
        mojoBase_mojom_TimeDeltaSpec.$,
        null,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'metadata', 8,
        0,
        media_mojom_VideoFrameMetadataSpec.$,
        null,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'pixelFormat', 16,
        0,
        media_mojom_VideoCapturePixelFormatSpec.$,
        0,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'codedSize', 24,
        0,
        gfx_mojom_SizeSpec.$,
        null,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'visibleRect', 32,
        0,
        gfx_mojom_RectSpec.$,
        null,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'isPremapped', 20,
        0,
        mojo.internal.Bool,
        false,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'colorSpace', 40,
        0,
        gfx_mojom_ColorSpaceSpec.$,
        null,
        true /* nullable */,
        0),
      mojo.internal.StructField(
        'strides', 48,
        0,
        media_mojom_PlaneStridesSpec.$,
        null,
        true /* nullable */,
        0),
    ],
    [[0, 64],]);



/**
 * @record
 */
export class VideoFrameInfo {
  constructor() {
    /** @type { !mojoBase_mojom_TimeDelta } */
    this.timestamp;
    /** @type { !media_mojom_VideoFrameMetadata } */
    this.metadata;
    /** @type { !media_mojom_VideoCapturePixelFormat } */
    this.pixelFormat;
    /** @type { !boolean } */
    this.isPremapped;
    /** @type { !gfx_mojom_Size } */
    this.codedSize;
    /** @type { !gfx_mojom_Rect } */
    this.visibleRect;
    /** @type { (gfx_mojom_ColorSpace|undefined) } */
    this.colorSpace;
    /** @type { (media_mojom_PlaneStrides|undefined) } */
    this.strides;
  }
}



mojo.internal.Struct(
    ReadyBufferSpec.$,
    'ReadyBuffer',
    [
      mojo.internal.StructField(
        'bufferId', 0,
        0,
        mojo.internal.Int32,
        0,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'info', 8,
        0,
        VideoFrameInfoSpec.$,
        null,
        false /* nullable */,
        0),
    ],
    [[0, 24],]);



/**
 * @record
 */
export class ReadyBuffer {
  constructor() {
    /** @type { !number } */
    this.bufferId;
    /** @type { !VideoFrameInfo } */
    this.info;
  }
}



mojo.internal.Struct(
    MailboxBufferHandleSetSpec.$,
    'MailboxBufferHandleSet',
    [
      mojo.internal.StructField(
        'mailboxHolder', 0,
        0,
        mojo.internal.Array(gpu_mojom_MailboxHolderSpec.$, false),
        null,
        false /* nullable */,
        0),
    ],
    [[0, 16],]);



/**
 * @record
 */
export class MailboxBufferHandleSet {
  constructor() {
    /** @type { !Array<!gpu_mojom_MailboxHolder> } */
    this.mailboxHolder;
  }
}



mojo.internal.Struct(
    SharedMemoryViaRawFileDescriptorSpec.$,
    'SharedMemoryViaRawFileDescriptor',
    [
      mojo.internal.StructField(
        'fileDescriptorHandle', 0,
        0,
        mojo.internal.Handle,
        null,
        false /* nullable */,
        0),
      mojo.internal.StructField(
        'sharedMemorySizeInBytes', 4,
        0,
        mojo.internal.Uint32,
        0,
        false /* nullable */,
        0),
    ],
    [[0, 16],]);



/**
 * @record
 */
export class SharedMemoryViaRawFileDescriptor {
  constructor() {
    /** @type { !MojoHandle } */
    this.fileDescriptorHandle;
    /** @type { !number } */
    this.sharedMemorySizeInBytes;
  }
}

mojo.internal.Union(
    VideoBufferHandleSpec.$, 'VideoBufferHandle',
    {
      'unsafeShmemRegion': {
        'ordinal': 0,
        'type': mojoBase_mojom_UnsafeSharedMemoryRegionSpec.$,
      },
      'readOnlyShmemRegion': {
        'ordinal': 1,
        'type': mojoBase_mojom_ReadOnlySharedMemoryRegionSpec.$,
      },
      'sharedMemoryViaRawFileDescriptor': {
        'ordinal': 2,
        'type': SharedMemoryViaRawFileDescriptorSpec.$,
      },
      'mailboxHandles': {
        'ordinal': 3,
        'type': MailboxBufferHandleSetSpec.$,
      },
      'gpuMemoryBufferHandle': {
        'ordinal': 4,
        'type': gfx_mojom_GpuMemoryBufferHandleSpec.$,
      },
    });

/**
 * @typedef { {
 *   unsafeShmemRegion: (!mojoBase_mojom_UnsafeSharedMemoryRegion|undefined),
 *   readOnlyShmemRegion: (!mojoBase_mojom_ReadOnlySharedMemoryRegion|undefined),
 *   sharedMemoryViaRawFileDescriptor: (!SharedMemoryViaRawFileDescriptor|undefined),
 *   mailboxHandles: (!MailboxBufferHandleSet|undefined),
 *   gpuMemoryBufferHandle: (!gfx_mojom_GpuMemoryBufferHandle|undefined),
 * } }
 */
export const VideoBufferHandle = {};
