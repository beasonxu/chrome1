// media/capture/mojom/video_capture_buffer.mojom-lite.js is auto generated by mojom_bindings_generator.py, do not edit

// Copyright 2018 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
'use strict';


mojo.internal.exportModule('media.mojom');







/**
 * @const { {$:!mojo.internal.MojomType}}
 * @export
 */
media.mojom.VideoFrameInfoSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };


/**
 * @const { {$:!mojo.internal.MojomType}}
 * @export
 */
media.mojom.ReadyBufferSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };


/**
 * @const { {$:!mojo.internal.MojomType}}
 * @export
 */
media.mojom.MailboxBufferHandleSetSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };


/**
 * @const { {$:!mojo.internal.MojomType}}
 * @export
 */
media.mojom.SharedMemoryViaRawFileDescriptorSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };


/**
 * @const { {$:!mojo.internal.MojomType} }
 * @export
 */
media.mojom.VideoBufferHandleSpec =
    { $: /** @type {!mojo.internal.MojomType} */ ({}) };




mojo.internal.Struct(
    media.mojom.VideoFrameInfoSpec.$,
    'VideoFrameInfo',
    [
      mojo.internal.StructField(
        'timestamp', 0,
        0,
        mojoBase.mojom.TimeDeltaSpec.$,
        null,
        false /* nullable */),
      mojo.internal.StructField(
        'metadata', 8,
        0,
        media.mojom.VideoFrameMetadataSpec.$,
        null,
        false /* nullable */),
      mojo.internal.StructField(
        'pixelFormat', 16,
        0,
        media.mojom.VideoCapturePixelFormatSpec.$,
        0,
        false /* nullable */),
      mojo.internal.StructField(
        'codedSize', 24,
        0,
        gfx.mojom.SizeSpec.$,
        null,
        false /* nullable */),
      mojo.internal.StructField(
        'visibleRect', 32,
        0,
        gfx.mojom.RectSpec.$,
        null,
        false /* nullable */),
      mojo.internal.StructField(
        'isPremapped', 20,
        0,
        mojo.internal.Bool,
        false,
        false /* nullable */),
      mojo.internal.StructField(
        'colorSpace', 40,
        0,
        gfx.mojom.ColorSpaceSpec.$,
        null,
        true /* nullable */),
      mojo.internal.StructField(
        'strides', 48,
        0,
        media.mojom.PlaneStridesSpec.$,
        null,
        true /* nullable */),
    ],
    [[0, 64],]);





/** @record */
media.mojom.VideoFrameInfo = class {
  constructor() {
    /** @export { !mojoBase.mojom.TimeDelta } */
    this.timestamp;
    /** @export { !media.mojom.VideoFrameMetadata } */
    this.metadata;
    /** @export { !media.mojom.VideoCapturePixelFormat } */
    this.pixelFormat;
    /** @export { !boolean } */
    this.isPremapped;
    /** @export { !gfx.mojom.Size } */
    this.codedSize;
    /** @export { !gfx.mojom.Rect } */
    this.visibleRect;
    /** @export { (gfx.mojom.ColorSpace|undefined) } */
    this.colorSpace;
    /** @export { (media.mojom.PlaneStrides|undefined) } */
    this.strides;
  }
};




mojo.internal.Struct(
    media.mojom.ReadyBufferSpec.$,
    'ReadyBuffer',
    [
      mojo.internal.StructField(
        'bufferId', 0,
        0,
        mojo.internal.Int32,
        0,
        false /* nullable */),
      mojo.internal.StructField(
        'info', 8,
        0,
        media.mojom.VideoFrameInfoSpec.$,
        null,
        false /* nullable */),
    ],
    [[0, 24],]);





/** @record */
media.mojom.ReadyBuffer = class {
  constructor() {
    /** @export { !number } */
    this.bufferId;
    /** @export { !media.mojom.VideoFrameInfo } */
    this.info;
  }
};




mojo.internal.Struct(
    media.mojom.MailboxBufferHandleSetSpec.$,
    'MailboxBufferHandleSet',
    [
      mojo.internal.StructField(
        'mailboxHolder', 0,
        0,
        mojo.internal.Array(gpu.mojom.MailboxHolderSpec.$, false),
        null,
        false /* nullable */),
    ],
    [[0, 16],]);





/** @record */
media.mojom.MailboxBufferHandleSet = class {
  constructor() {
    /** @export { !Array<!gpu.mojom.MailboxHolder> } */
    this.mailboxHolder;
  }
};




mojo.internal.Struct(
    media.mojom.SharedMemoryViaRawFileDescriptorSpec.$,
    'SharedMemoryViaRawFileDescriptor',
    [
      mojo.internal.StructField(
        'fileDescriptorHandle', 0,
        0,
        mojo.internal.Handle,
        null,
        false /* nullable */),
      mojo.internal.StructField(
        'sharedMemorySizeInBytes', 4,
        0,
        mojo.internal.Uint32,
        0,
        false /* nullable */),
    ],
    [[0, 16],]);





/** @record */
media.mojom.SharedMemoryViaRawFileDescriptor = class {
  constructor() {
    /** @export { !MojoHandle } */
    this.fileDescriptorHandle;
    /** @export { !number } */
    this.sharedMemorySizeInBytes;
  }
};




mojo.internal.Union(
    media.mojom.VideoBufferHandleSpec.$, 'VideoBufferHandle',
    {
      'unsafeShmemRegion': {
        'ordinal': 0,
        'type': mojoBase.mojom.UnsafeSharedMemoryRegionSpec.$,
      },
      'readOnlyShmemRegion': {
        'ordinal': 1,
        'type': mojoBase.mojom.ReadOnlySharedMemoryRegionSpec.$,
      },
      'sharedMemoryViaRawFileDescriptor': {
        'ordinal': 2,
        'type': media.mojom.SharedMemoryViaRawFileDescriptorSpec.$,
      },
      'mailboxHandles': {
        'ordinal': 3,
        'type': media.mojom.MailboxBufferHandleSetSpec.$,
      },
      'gpuMemoryBufferHandle': {
        'ordinal': 4,
        'type': gfx.mojom.GpuMemoryBufferHandleSpec.$,
      },
    });

/**
 * @typedef { {
 *   unsafeShmemRegion: (!mojoBase.mojom.UnsafeSharedMemoryRegion|undefined),
 *   readOnlyShmemRegion: (!mojoBase.mojom.ReadOnlySharedMemoryRegion|undefined),
 *   sharedMemoryViaRawFileDescriptor: (!media.mojom.SharedMemoryViaRawFileDescriptor|undefined),
 *   mailboxHandles: (!media.mojom.MailboxBufferHandleSet|undefined),
 *   gpuMemoryBufferHandle: (!gfx.mojom.GpuMemoryBufferHandle|undefined),
 * } }
 */
media.mojom.VideoBufferHandle;
