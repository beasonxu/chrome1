import*as e from"../../../core/i18n/i18n.js";import*as t from"../../../ui/components/buttons/buttons.js";import*as r from"../../../core/sdk/sdk.js";import*as a from"../../../ui/lit-html/lit-html.js";import*as o from"../../../core/root/root.js";import*as i from"../../../ui/components/report_view/report_view.js";import*as n from"../../../ui/legacy/legacy.js";import*as s from"../../../ui/components/icon_button/icon_button.js";import*as l from"../../../ui/components/helpers/helpers.js";import*as c from"../../../ui/components/render_coordinator/render_coordinator.js";import*as d from"../../../ui/components/chrome_link/chrome_link.js";import*as h from"../../../ui/components/expandable_list/expandable_list.js";import*as m from"../../../ui/components/data_grid/data_grid.js";import*as u from"../../../ui/legacy/components/utils/utils.js";import*as g from"../../network/forward/forward.js";import*as p from"../../../core/common/common.js";import*as b from"../../../models/bindings/bindings.js";import*as w from"../../../core/platform/platform.js";import*as f from"../../../models/workspace/workspace.js";import*as v from"../../../ui/components/adorners/adorners.js";import*as k from"../../../ui/components/tree_outline/tree_outline.js";import*as T from"../../../core/host/host.js";import*as y from"../../../ui/components/input/input.js";const S={notMainFrame:"Navigation happened in a frame other than the main frame.",backForwardCacheDisabled:"Back/forward cache is disabled by flags. Visit chrome://flags/#back-forward-cache to enable it locally on this device.",relatedActiveContentsExist:"The page was opened using '`window.open()`' and another tab has a reference to it, or the page opened a window.",HTTPStatusNotOK:"Only pages with a status code of 2XX can be cached.",schemeNotHTTPOrHTTPS:"Only pages whose URL scheme is HTTP / HTTPS can be cached.",loading:"The page did not finish loading before navigating away.",wasGrantedMediaAccess:"Pages that have granted access to record video or audio are not currently eligible for back/forward cache.",HTTPMethodNotGET:"Only pages loaded via a GET request are eligible for back/forward cache.",subframeIsNavigating:"An iframe on the page started a navigation that did not complete.",timeout:"The page exceeded the maximum time in back/forward cache and was expired.",cacheLimit:"The page was evicted from the cache to allow another page to be cached.",JavaScriptExecution:"Chrome detected an attempt to execute JavaScript while in the cache.",rendererProcessKilled:"The renderer process for the page in back/forward cache was killed.",rendererProcessCrashed:"The renderer process for the page in back/forward cache crashed.",grantedMediaStreamAccess:"Pages that have granted media stream access are not currently eligible for back/forward cache.",cacheFlushed:"The cache was intentionally cleared.",serviceWorkerVersionActivation:"The page was evicted from back/forward cache due to a service worker activation.",sessionRestored:"Chrome restarted and cleared the back/forward cache entries.",serviceWorkerPostMessage:"A service worker attempted to send the page in back/forward cache a `MessageEvent`.",enteredBackForwardCacheBeforeServiceWorkerHostAdded:"A service worker was activated while the page was in back/forward cache.",serviceWorkerClaim:"The page was claimed by a service worker while it is in back/forward cache.",haveInnerContents:"Pages that use portals are not currently eligible for back/forward cache.",timeoutPuttingInCache:"The page timed out entering back/forward cache (likely due to long-running pagehide handlers).",backForwardCacheDisabledByLowMemory:"Back/forward cache is disabled due to insufficient memory.",backForwardCacheDisabledByCommandLine:"Back/forward cache is disabled by the command line.",networkRequestDatapipeDrainedAsBytesConsumer:"Pages that have inflight fetch() or XHR are not currently eligible for back/forward cache.",networkRequestRedirected:"The page was evicted from back/forward cache because an active network request involved a redirect.",networkRequestTimeout:"The page was evicted from the cache because a network connection was open too long. Chrome limits the amount of time that a page may receive data while cached.",networkExceedsBufferLimit:"The page was evicted from the cache because an active network connection received too much data. Chrome limits the amount of data that a page may receive while cached.",navigationCancelledWhileRestoring:"Navigation was cancelled before the page could be restored from back/forward cache.",backForwardCacheDisabledForPrerender:"Back/forward cache is disabled for prerenderer.",userAgentOverrideDiffers:"Browser has changed the user agent override header.",foregroundCacheLimit:"The page was evicted from the cache to allow another page to be cached.",backForwardCacheDisabledForDelegate:"Back/forward cache is not supported by delegate.",unloadHandlerExistsInMainFrame:"The page has an unload handler in the main frame.",unloadHandlerExistsInSubFrame:"The page has an unload handler in a sub frame.",serviceWorkerUnregistration:"ServiceWorker was unregistered while a page was in back/forward cache.",noResponseHead:"Pages that do not have a valid response head cannot enter back/forward cache.",cacheControlNoStore:"Pages with cache-control:no-store header cannot enter back/forward cache.",ineligibleAPI:"Ineligible APIs were used.",internalError:"Internal error.",webSocket:"Pages with WebSocket cannot enter back/forward cache.",webTransport:"Pages with WebTransport cannot enter back/forward cache.",webRTC:"Pages with WebRTC cannot enter back/forward cache.",mainResourceHasCacheControlNoStore:"Pages whose main resource has cache-control:no-store cannot enter back/forward cache.",mainResourceHasCacheControlNoCache:"Pages whose main resource has cache-control:no-cache cannot enter back/forward cache.",subresourceHasCacheControlNoStore:"Pages whose subresource has cache-control:no-store cannot enter back/forward cache.",subresourceHasCacheControlNoCache:"Pages whose subresource has cache-control:no-cache cannot enter back/forward cache.",containsPlugins:"Pages containing plugins are not currently eligible for back/forward cache.",documentLoaded:"The document did not finish loading before navigating away.",dedicatedWorkerOrWorklet:"Pages that use a dedicated worker or worklet are not currently eligible for back/forward cache.",outstandingNetworkRequestOthers:"Pages with an in-flight network request are not currently eligible for back/forward cache.",outstandingIndexedDBTransaction:"Page with ongoing indexed DB transactions are not currently eligible for back/forward cache.",requestedNotificationsPermission:"Pages that have requested notifications permissions are not currently eligible for back/forward cache.",requestedMIDIPermission:"Pages that have requested MIDI permissions are not currently eligible for back/forward cache.",requestedAudioCapturePermission:"Pages that have requested audio capture permissions are not currently eligible for back/forward cache.",requestedVideoCapturePermission:"Pages that have requested video capture permissions are not currently eligible for back/forward cache.",requestedBackForwardCacheBlockedSensors:"Pages that have requested sensor permissions are not currently eligible for back/forward cache.",requestedBackgroundWorkPermission:"Pages that have requested background sync or fetch permissions are not currently eligible for back/forward cache.",broadcastChannel:"The page cannot be cached because it has a BroadcastChannel instance with registered listeners.",indexedDBConnection:"Pages that have an open IndexedDB connection are not currently eligible for back/forward cache.",webXR:"Pages that use WebXR are not currently eligible for back/forward cache.",sharedWorker:"Pages that use SharedWorker are not currently eligible for back/forward cache.",webLocks:"Pages that use WebLocks are not currently eligible for back/forward cache.",webHID:"Pages that use WebHID are not currently eligible for back/forward cache.",webShare:"Pages that use WebShare are not currently eligible for back/forwad cache.",requestedStorageAccessGrant:"Pages that have requested storage access are not currently eligible for back/forward cache.",webNfc:"Pages that use WebNfc are not currently eligible for back/forwad cache.",outstandingNetworkRequestFetch:"Pages with an in-flight fetch network request are not currently eligible for back/forward cache.",outstandingNetworkRequestXHR:"Pages with an in-flight XHR network request are not currently eligible for back/forward cache.",appBanner:"Pages that requested an AppBanner are not currently eligible for back/forward cache.",printing:"Pages that show Printing UI are not currently eligible for back/forward cache.",webDatabase:"Pages that use WebDatabase are not currently eligible for back/forward cache.",pictureInPicture:"Pages that use Picture-in-Picture are not currently eligible for back/forward cache.",portal:"Pages that use portals are not currently eligible for back/forward cache.",speechRecognizer:"Pages that use SpeechRecognizer are not currently eligible for back/forward cache.",idleManager:"Pages that use IdleManager are not currently eligible for back/forward cache.",paymentManager:"Pages that use PaymentManager are not currently eligible for back/forward cache.",speechSynthesis:"Pages that use SpeechSynthesis are not currently eligible for back/forward cache.",keyboardLock:"Pages that use Keyboard lock are not currently eligible for back/forward cache.",webOTPService:"Pages that use WebOTPService are not currently eligible for bfcache.",outstandingNetworkRequestDirectSocket:"Pages with an in-flight network request are not currently eligible for back/forward cache.",injectedJavascript:"IPages that JavaScript is injected into by extensions are not currently eligible for back/forward cache.",injectedStyleSheet:"Pages that StyleSheet is injected into by extensions are not currently eligible for back/forward cache.",contentSecurityHandler:"Pages that use SecurityHandler are not eligible for back/forward cache.",contentWebAuthenticationAPI:"Pages that use WebAuthetication API are not eligible for back/forward cache.",contentFileChooser:"Pages that use FileChooser API are not eligible for back/forward cache.",contentSerial:"Pages that use Serial API are not eligible for back/forward cache.",contentFileSystemAccess:"Pages that use File System Access API are not eligible for back/forward cache.",contentMediaDevicesDispatcherHost:"Pages that use Media Device Dispatcher are not eligible for back/forward cache.",contentWebBluetooth:"Pages that use WebBluetooth API are not eligible for back/forward cache.",contentWebUSB:"Pages that use WebUSB API are not eligible for back/forward cache.",contentMediaSession:"Pages that use MediaSession API and set a playback state are not eligible for back/forward cache.",contentMediaSessionService:"Pages that use MediaSession API and set action handlers are not eligible for back/forward cache.",contentMediaPlay:"A media player was playing upon navigating away.",contentScreenReader:"Back/forward cache is disabled due to screen reader.",embedderPopupBlockerTabHelper:"Popup blocker was present upon navigating away.",embedderSafeBrowsingTriggeredPopupBlocker:"Safe Browsing considered this page to be abusive and blocked popup.",embedderSafeBrowsingThreatDetails:"Safe Browsing details were shown upon navigating away.",embedderAppBannerManager:"App Banner was present upon navigating away.",embedderDomDistillerViewerSource:"DOM Distiller Viewer was present upon navigating away.",embedderDomDistillerSelfDeletingRequestDelegate:"DOM distillation was in progress upon navigating away.",embedderOomInterventionTabHelper:"Out-Of-Memory Intervention bar was present upon navigating away.",embedderOfflinePage:"The offline page was shown upon navigating away.",embedderChromePasswordManagerClientBindCredentialManager:"Chrome Password Manager was present upon navigating away.",embedderPermissionRequestManager:"There were permission requests upon navigating away.",embedderModalDialog:"Modal dialog such as form resubmission or http password dialog was shown for the page upon navigating away.",embedderExtensions:"Back/forward cache is disabled due to extensions.",embedderExtensionMessaging:"Back/forward cache is disabled due to extensions using messaging API.",embedderExtensionMessagingForOpenPort:"Extensions with long-lived connection should close the connection before entering back/forward cache.",embedderExtensionSentMessageToCachedFrame:"Extensions with long-lived connection attempted to send messages to frames in back/forward cache.",errorDocument:"Back/forward cache is disabled due to a document error.",fencedFramesEmbedder:"Pages using FencedFrames cannot be stored in bfcache."},R=e.i18n.registerUIStrings("panels/application/components/BackForwardCacheStrings.ts",S),x=e.i18n.getLazilyComputedLocalizedString.bind(void 0,R),C={NotPrimaryMainFrame:{name:x(S.notMainFrame)},BackForwardCacheDisabled:{name:x(S.backForwardCacheDisabled)},RelatedActiveContentsExist:{name:x(S.relatedActiveContentsExist)},HTTPStatusNotOK:{name:x(S.HTTPStatusNotOK)},SchemeNotHTTPOrHTTPS:{name:x(S.schemeNotHTTPOrHTTPS)},Loading:{name:x(S.loading)},WasGrantedMediaAccess:{name:x(S.wasGrantedMediaAccess)},HTTPMethodNotGET:{name:x(S.HTTPMethodNotGET)},SubframeIsNavigating:{name:x(S.subframeIsNavigating)},Timeout:{name:x(S.timeout)},CacheLimit:{name:x(S.cacheLimit)},JavaScriptExecution:{name:x(S.JavaScriptExecution)},RendererProcessKilled:{name:x(S.rendererProcessKilled)},RendererProcessCrashed:{name:x(S.rendererProcessCrashed)},GrantedMediaStreamAccess:{name:x(S.grantedMediaStreamAccess)},CacheFlushed:{name:x(S.cacheFlushed)},ServiceWorkerVersionActivation:{name:x(S.serviceWorkerVersionActivation)},SessionRestored:{name:x(S.sessionRestored)},ServiceWorkerPostMessage:{name:x(S.serviceWorkerPostMessage)},EnteredBackForwardCacheBeforeServiceWorkerHostAdded:{name:x(S.enteredBackForwardCacheBeforeServiceWorkerHostAdded)},ServiceWorkerClaim:{name:x(S.serviceWorkerClaim)},HaveInnerContents:{name:x(S.haveInnerContents)},TimeoutPuttingInCache:{name:x(S.timeoutPuttingInCache)},BackForwardCacheDisabledByLowMemory:{name:x(S.backForwardCacheDisabledByLowMemory)},BackForwardCacheDisabledByCommandLine:{name:x(S.backForwardCacheDisabledByCommandLine)},NetworkRequestDatapipeDrainedAsBytesConsumer:{name:x(S.networkRequestDatapipeDrainedAsBytesConsumer)},NetworkRequestRedirected:{name:x(S.networkRequestRedirected)},NetworkRequestTimeout:{name:x(S.networkRequestTimeout)},NetworkExceedsBufferLimit:{name:x(S.networkExceedsBufferLimit)},NavigationCancelledWhileRestoring:{name:x(S.navigationCancelledWhileRestoring)},BackForwardCacheDisabledForPrerender:{name:x(S.backForwardCacheDisabledForPrerender)},UserAgentOverrideDiffers:{name:x(S.userAgentOverrideDiffers)},ForegroundCacheLimit:{name:x(S.foregroundCacheLimit)},BackForwardCacheDisabledForDelegate:{name:x(S.backForwardCacheDisabledForDelegate)},UnloadHandlerExistsInMainFrame:{name:x(S.unloadHandlerExistsInMainFrame)},UnloadHandlerExistsInSubFrame:{name:x(S.unloadHandlerExistsInSubFrame)},ServiceWorkerUnregistration:{name:x(S.serviceWorkerUnregistration)},NoResponseHead:{name:x(S.noResponseHead)},CacheControlNoStore:{name:x(S.cacheControlNoStore)},CacheControlNoStoreCookieModified:{name:x(S.cacheControlNoStore)},CacheControlNoStoreHTTPOnlyCookieModified:{name:x(S.cacheControlNoStore)},DisableForRenderFrameHostCalled:{name:x(S.ineligibleAPI)},BlocklistedFeatures:{name:x(S.ineligibleAPI)},SchedulerTrackedFeatureUsed:{name:x(S.ineligibleAPI)},DomainNotAllowed:{name:x(S.internalError)},ConflictingBrowsingInstance:{name:x(S.internalError)},NotMostRecentNavigationEntry:{name:x(S.internalError)},IgnoreEventAndEvict:{name:x(S.internalError)},BrowsingInstanceNotSwapped:{name:x(S.internalError)},ActivationNavigationsDisallowedForBug1234857:{name:x(S.internalError)},Unknown:{name:x(S.internalError)},RenderFrameHostReused_SameSite:{name:x(S.internalError)},RenderFrameHostReused_CrossSite:{name:x(S.internalError)},WebSocket:{name:x(S.webSocket)},WebTransport:{name:x(S.webTransport)},WebRTC:{name:x(S.webRTC)},MainResourceHasCacheControlNoStore:{name:x(S.mainResourceHasCacheControlNoStore)},MainResourceHasCacheControlNoCache:{name:x(S.mainResourceHasCacheControlNoCache)},SubresourceHasCacheControlNoStore:{name:x(S.subresourceHasCacheControlNoStore)},SubresourceHasCacheControlNoCache:{name:x(S.subresourceHasCacheControlNoCache)},ContainsPlugins:{name:x(S.containsPlugins)},DocumentLoaded:{name:x(S.documentLoaded)},DedicatedWorkerOrWorklet:{name:x(S.dedicatedWorkerOrWorklet)},OutstandingNetworkRequestOthers:{name:x(S.outstandingNetworkRequestOthers)},OutstandingIndexedDBTransaction:{name:x(S.outstandingIndexedDBTransaction)},RequestedNotificationsPermission:{name:x(S.requestedNotificationsPermission)},RequestedMIDIPermission:{name:x(S.requestedMIDIPermission)},RequestedAudioCapturePermission:{name:x(S.requestedAudioCapturePermission)},RequestedVideoCapturePermission:{name:x(S.requestedVideoCapturePermission)},RequestedBackForwardCacheBlockedSensors:{name:x(S.requestedBackForwardCacheBlockedSensors)},RequestedBackgroundWorkPermission:{name:x(S.requestedBackgroundWorkPermission)},BroadcastChannel:{name:x(S.broadcastChannel)},IndexedDBConnection:{name:x(S.indexedDBConnection)},WebXR:{name:x(S.webXR)},SharedWorker:{name:x(S.sharedWorker)},WebLocks:{name:x(S.webLocks)},WebHID:{name:x(S.webHID)},WebShare:{name:x(S.webShare)},RequestedStorageAccessGrant:{name:x(S.requestedStorageAccessGrant)},WebNfc:{name:x(S.webNfc)},OutstandingNetworkRequestFetch:{name:x(S.outstandingNetworkRequestFetch)},OutstandingNetworkRequestXHR:{name:x(S.outstandingNetworkRequestXHR)},AppBanner:{name:x(S.appBanner)},Printing:{name:x(S.printing)},WebDatabase:{name:x(S.webDatabase)},PictureInPicture:{name:x(S.pictureInPicture)},Portal:{name:x(S.portal)},SpeechRecognizer:{name:x(S.speechRecognizer)},IdleManager:{name:x(S.idleManager)},PaymentManager:{name:x(S.paymentManager)},SpeechSynthesis:{name:x(S.speechSynthesis)},KeyboardLock:{name:x(S.keyboardLock)},WebOTPService:{name:x(S.webOTPService)},OutstandingNetworkRequestDirectSocket:{name:x(S.outstandingNetworkRequestDirectSocket)},InjectedJavascript:{name:x(S.injectedJavascript)},InjectedStyleSheet:{name:x(S.injectedStyleSheet)},Dummy:{name:x(S.internalError)},ContentSecurityHandler:{name:x(S.contentSecurityHandler)},ContentWebAuthenticationAPI:{name:x(S.contentWebAuthenticationAPI)},ContentFileChooser:{name:x(S.contentFileChooser)},ContentSerial:{name:x(S.contentSerial)},ContentFileSystemAccess:{name:x(S.contentFileSystemAccess)},ContentMediaDevicesDispatcherHost:{name:x(S.contentMediaDevicesDispatcherHost)},ContentWebBluetooth:{name:x(S.contentWebBluetooth)},ContentWebUSB:{name:x(S.contentWebUSB)},ContentMediaSession:{name:x(S.contentMediaSession)},ContentMediaSessionService:{name:x(S.contentMediaSessionService)},ContentMediaPlay:{name:x(S.contentMediaPlay)},ContentScreenReader:{name:x(S.contentScreenReader)},EmbedderPopupBlockerTabHelper:{name:x(S.embedderPopupBlockerTabHelper)},EmbedderSafeBrowsingTriggeredPopupBlocker:{name:x(S.embedderSafeBrowsingTriggeredPopupBlocker)},EmbedderSafeBrowsingThreatDetails:{name:x(S.embedderSafeBrowsingThreatDetails)},EmbedderAppBannerManager:{name:x(S.embedderAppBannerManager)},EmbedderDomDistillerViewerSource:{name:x(S.embedderDomDistillerViewerSource)},EmbedderDomDistillerSelfDeletingRequestDelegate:{name:x(S.embedderDomDistillerSelfDeletingRequestDelegate)},EmbedderOomInterventionTabHelper:{name:x(S.embedderOomInterventionTabHelper)},EmbedderOfflinePage:{name:x(S.embedderOfflinePage)},EmbedderChromePasswordManagerClientBindCredentialManager:{name:x(S.embedderChromePasswordManagerClientBindCredentialManager)},EmbedderPermissionRequestManager:{name:x(S.embedderPermissionRequestManager)},EmbedderModalDialog:{name:x(S.embedderModalDialog)},EmbedderExtensions:{name:x(S.embedderExtensions)},EmbedderExtensionMessaging:{name:x(S.embedderExtensionMessaging)},EmbedderExtensionMessagingForOpenPort:{name:x(S.embedderExtensionMessagingForOpenPort)},EmbedderExtensionSentMessageToCachedFrame:{name:x(S.embedderExtensionSentMessageToCachedFrame)},ErrorDocument:{name:x(S.errorDocument)},FencedFramesEmbedder:{name:x(S.fencedFramesEmbedder)}},$=new CSSStyleSheet;$.replaceSync(".inline-icon{vertical-align:sub}.gray-text{color:var(--color-text-secondary);margin:0 0 5px 56px;display:flex;flex-direction:row;align-items:center;flex:auto;overflow-wrap:break-word;overflow:hidden}.explanation-frames{margin-left:56px;grid-column-start:span 2}.help-outline-icon{margin:0 2px}.circled-exclamation-icon{margin-right:10px;flex-shrink:0}.status{margin-right:15px;flex-shrink:0}.report-line{grid-column-start:span 2;display:flex;align-items:center;margin:0 30px;line-height:28px}.report-key{color:var(--color-text-secondary);min-width:auto;overflow-wrap:break-word;align-self:start}.report-value{padding:0 6px;overflow-wrap:break-word;line-height:24px}.devtools-link,.link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0}.tree-outline li .selection{margin-left:-5px}\n/*# sourceURL=backForwardCacheView.css */\n");const N={mainFrame:"Main Frame",backForwardCacheTitle:"Back/forward cache",unavailable:"unavailable",url:"URL:",unknown:"Unknown Status",normalNavigation:"Not served from back/forward cache: to trigger back/forward cache, use Chrome's back/forward buttons, or use the test button below to automatically navigate away and back.",restoredFromBFCache:"Successfully served from back/forward cache.",pageSupportNeeded:"Actionable",pageSupportNeededExplanation:"These reasons are actionable i.e. they can be cleaned up to make the page eligible for back/forward cache.",circumstantial:"Not Actionable",circumstantialExplanation:"These reasons are not actionable i.e. caching was prevented by something outside of the direct control of the page.",supportPending:"Pending Support",runTest:"Test back/forward cache",runningTest:"Running test",learnMore:"Learn more: back/forward cache eligibility",neverUseUnload:"Learn more: Never use unload handler",supportPendingExplanation:"Chrome support for these reasons is pending i.e. they will not prevent the page from being eligible for back/forward cache in a future version of Chrome.",blockingExtensionId:"Extension id: ",framesTitle:"Frames",issuesInSingleFrame:"{n, plural, =1 {# issue found in 1 frame.} other {# issues found in 1 frame.}}",issuesInMultipleFrames:"{n, plural, =1 {# issue found in {m} frames.} other {# issues found in {m} frames.}}",framesPerIssue:"{n, plural, =1 {# frame} other {# frames}}",blankURLTitle:"Blank URL [{PH1}]"},P=e.i18n.registerUIStrings("panels/application/components/BackForwardCacheView.ts",N),I=e.i18n.getLocalizedString.bind(void 0,P);class D extends n.ThrottledWidget.ThrottledWidget{#e=new M;constructor(){super(!0,1e3),this.#t()?.addEventListener(r.ResourceTreeModel.Events.MainFrameNavigated,this.update,this),this.#t()?.addEventListener(r.ResourceTreeModel.Events.BackForwardCacheDetailsUpdated,this.update,this),this.contentElement.classList.add("overflow-auto"),this.contentElement.appendChild(this.#e),this.update()}async doUpdate(){this.#e.data={frame:this.#r()}}#t(){return r.TargetManager.TargetManager.instance().mainTarget()?.model(r.ResourceTreeModel.ResourceTreeModel)||null}#r(){return this.#t()?.mainFrame||null}}const E=c.RenderCoordinator.RenderCoordinator.instance();class M extends HTMLElement{static litTagName=a.literal`devtools-resources-back-forward-cache-view`;#a=this.attachShadow({mode:"open"});#o=null;#i="Result";connectedCallback(){this.#a.adoptedStyleSheets=[$]}set data(e){this.#o=e.frame,this.#n()}async#n(){await E.write("BackForwardCacheView render",(()=>{a.render(a.html` <${i.ReportView.Report.litTagName} .data="${{reportTitle:I(N.backForwardCacheTitle)}}"> ${this.#s()} </${i.ReportView.Report.litTagName}> `,this.#a,{host:this})}))}#l(){r.TargetManager.TargetManager.instance().removeModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#l,this),this.#i="Result",this.#n()}async#c(){r.TargetManager.TargetManager.instance().removeModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#c,this),this.#i="Running",this.#n();const e=r.TargetManager.TargetManager.instance().mainTarget();if(!e)return;const t=e.model(r.ResourceTreeModel.ResourceTreeModel);if(!t)return;const a=await t.navigationHistory();a&&(r.TargetManager.TargetManager.instance().addModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#l,this),t.navigateToHistoryEntry(a.entries[a.currentIndex-1]))}async#d(){const e=r.TargetManager.TargetManager.instance().mainTarget();if(!e)return;const t=e.model(r.ResourceTreeModel.ResourceTreeModel);t&&(r.TargetManager.TargetManager.instance().addModelListener(r.ResourceTreeModel.ResourceTreeModel,r.ResourceTreeModel.Events.FrameNavigated,this.#c,this),t.navigate("chrome://terms"))}#s(){if(!this.#o)return a.html` <${i.ReportView.ReportKey.litTagName}> ${I(N.mainFrame)} </${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${I(N.unavailable)} </${i.ReportView.ReportValue.litTagName}> `;const e="Running"===this.#i,r=this.#o.url.startsWith("devtools://");return a.html` ${this.#h(this.#o.backForwardCacheDetails.restoredFromCache)} <div class="report-line"> <div class="report-key"> ${I(N.url)} </div> <div class="report-value"> ${this.#o.url} </div> </div> ${this.#m(this.#o.backForwardCacheDetails.explanationsTree)} <${i.ReportView.ReportSection.litTagName}> <${t.Button.Button.litTagName} .disabled="${e||r}" .spinner="${e}" .variant="${"primary"}" @click="${this.#d}"> ${e?a.html` ${I(N.runningTest)}`:`\n            ${I(N.runTest)}\n          `} </${t.Button.Button.litTagName}> </${i.ReportView.ReportSection.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}> </${i.ReportView.ReportSectionDivider.litTagName}> ${this.#u(this.#o.backForwardCacheDetails.explanations,this.#o.backForwardCacheDetails.explanationsTree)} <${i.ReportView.ReportSection.litTagName}> <x-link href="https://web.dev/bfcache/" class="link"> ${I(N.learnMore)} </x-link> </${i.ReportView.ReportSection.litTagName}> `}#m(e){if(!e||0===e.explanations.length&&0===e.children.length||!o.Runtime.experiments.isEnabled("bfcacheDisplayTree"))return a.nothing;const t=new n.TreeOutline.TreeOutlineInShadow;t.registerCSSFiles([$]);const r=new n.TreeOutline.TreeElement;t.appendChild(r);const{frameCount:i,issueCount:s}=this.#g(r,{blankCount:1},e);r.title=1===i?I(N.issuesInSingleFrame,{n:s}):I(N.issuesInMultipleFrames,{n:s,m:i});const l=r.childAt(0);return l&&(l.expand(),l.setLeadingIcons([n.Icon.Icon.create("mediumicon-frame")])),a.html` <div class="report-line"> <div class="report-key"> ${I(N.framesTitle)} </div> <div class="report-value"> ${t.element} </div> </div>`}#g(e,t,r){if(!r||0===r.explanations.length&&0===r.children.length)return{frameCount:0,issueCount:0};const a=n.Icon.Icon.create("mediumicon-frame-embedded");let o,i=r.explanations.length,s=0;r.url.length>0?o=r.url:(o=I(N.blankURLTitle,{PH1:String(t.blankCount)}),t.blankCount+=1);const l=new n.TreeOutline.TreeElement;return e.appendChild(l),l.setLeadingIcons([a]),r.explanations.forEach((e=>{l.appendChild(new n.TreeOutline.TreeElement(e.reason))})),r.children.forEach((e=>{const r=this.#g(l,t,e);s+=r.frameCount,i+=r.issueCount})),i>0?(l.title="("+String(i)+") "+o,s+=1):0===s&&e.removeChild(l),{frameCount:s,issueCount:i}}#h(e){switch(e){case!0:return a.html` <${i.ReportView.ReportSection.litTagName}> <div class="status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"ic_checkmark_16x16",color:"green",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> ${I(N.restoredFromBFCache)} </${i.ReportView.ReportSection.litTagName}> `;case!1:return a.html` <${i.ReportView.ReportSection.litTagName}> <div class="status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"circled_backslash_icon",color:"var(--color-text-secondary)",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> ${I(N.normalNavigation)} </${i.ReportView.ReportSection.litTagName}> `}return a.html` <${i.ReportView.ReportSection.litTagName}> ${I(N.unknown)} </${i.ReportView.ReportSection.litTagName}> `}#p(e,t,r){let a=e.url;0===a.length&&(a=I(N.blankURLTitle,{PH1:String(t.blankCount)}),t.blankCount+=1),e.explanations.forEach((e=>{let t=r.get(e.reason);void 0===t?(t=[a],r.set(e.reason,t)):t.push(a)})),e.children.map((e=>{this.#p(e,t,r)}))}#u(e,t){if(0===e.length)return a.nothing;const r=e.filter((e=>"PageSupportNeeded"===e.type)),o=e.filter((e=>"SupportPending"===e.type)),i=e.filter((e=>"Circumstantial"===e.type)),n=new Map;return t&&this.#p(t,{blankCount:1},n),a.html` ${this.#b(I(N.pageSupportNeeded),I(N.pageSupportNeededExplanation),r,n)} ${this.#b(I(N.supportPending),I(N.supportPendingExplanation),o,n)} ${this.#b(I(N.circumstantial),I(N.circumstantialExplanation),i,n)} `}#b(e,t,r,o){return a.html` ${r.length>0?a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${e} <div class="help-outline-icon"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"help_outline",color:"var(--color-text-secondary)",width:"16px",height:"16px"}}" title="${t}"> </${s.Icon.Icon.litTagName}> </div> </${i.ReportView.ReportSectionHeader.litTagName}> ${r.map((e=>this.#w(e,o.get(e.reason))))} `:a.nothing} `}#f(e){if("EmbedderExtensionSentMessageToCachedFrame"===e.reason&&e.context){const t="chrome://extensions/?id="+e.context;return a.html`${I(N.blockingExtensionId)} <${d.ChromeLink.ChromeLink.litTagName} .href="${t}">${e.context}</${d.ChromeLink.ChromeLink.litTagName}>`}return a.nothing}#v(e){if(void 0===e||0===e.length||!o.Runtime.experiments.isEnabled("bfcacheDisplayTree"))return a.nothing;const t=[a.html`<div>${I(N.framesPerIssue,{n:e.length})}</div>`];return t.push(...e.map((e=>a.html`<div class="text-ellipsis" title="${e}">${e}</div>`))),a.html` <div class="explanation-frames"> <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:t}}"></${h.ExpandableList.ExpandableList.litTagName}> </div> `}#k(e){return"UnloadHandlerExistsInMainFrame"===e.reason||"UnloadHandlerExistsInSubFrame"===e.reason?a.html` <x-link href="https://web.dev/bfcache/#never-use-the-unload-event" class="link"> ${I(N.neverUseUnload)} </x-link>`:a.nothing}#w(e,t){return a.html` <${i.ReportView.ReportSection.litTagName}> ${e.reason in C?a.html` <div class="circled-exclamation-icon"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"circled_exclamation_icon",color:"orange",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </div> <div> ${C[e.reason].name()} ${this.#k(e)} ${this.#f(e)} </div>`:a.nothing} </${i.ReportView.ReportSection.litTagName}> <div class="gray-text"> ${e.reason} </div> ${this.#v(t)} `}}l.CustomElements.defineComponent("devtools-resources-back-forward-cache-view",M);var F=Object.freeze({__proto__:null,BackForwardCacheViewWrapper:D,BackForwardCacheView:M});const A=new CSSStyleSheet;A.replaceSync(":host{overflow:auto;height:100%}.reporting-container{height:100%;display:flex;flex-direction:column}.reporting-header{font-size:15px;background-color:var(--color-background-elevation-1);padding:1px 4px}.reporting-placeholder{flex-grow:1;display:flex;align-items:center;justify-content:center;font-size:13px;color:var(--color-text-secondary)}devtools-data-grid-controller{border:1px solid var(--color-details-hairline)}.inline-icon{vertical-align:text-bottom}\n/*# sourceURL=reportingApiGrid.css */\n");const V={noEndpointsToDisplay:"No endpoints to display"},L=e.i18n.registerUIStrings("panels/application/components/EndpointsGrid.ts",V),H=e.i18n.getLocalizedString.bind(void 0,L),{render:B,html:O}=a;class U extends HTMLElement{static litTagName=a.literal`devtools-resources-endpoints-grid`;#a=this.attachShadow({mode:"open"});#T=new Map;connectedCallback(){this.#a.adoptedStyleSheets=[A],this.#n()}set data(e){this.#T=e.endpoints,this.#n()}#n(){const t={columns:[{id:"origin",title:e.i18n.lockedString("Origin"),widthWeighting:30,hideable:!1,visible:!0},{id:"name",title:e.i18n.lockedString("Name"),widthWeighting:20,hideable:!1,visible:!0},{id:"url",title:e.i18n.lockedString("URL"),widthWeighting:30,hideable:!1,visible:!0}],rows:this.#y()};B(O` <div class="reporting-container"> <div class="reporting-header">${e.i18n.lockedString("Endpoints")}</div> ${this.#T.size>0?O` <${m.DataGridController.DataGridController.litTagName} .data="${t}"> </${m.DataGridController.DataGridController.litTagName}> `:O` <div class="reporting-placeholder"> <div>${H(V.noEndpointsToDisplay)}</div> </div> `} </div> `,this.#a,{host:this})}#y(){return Array.from(this.#T).map((([e,t])=>t.map((t=>({cells:[{columnId:"origin",value:e},{columnId:"name",value:t.groupName},{columnId:"url",value:t.url}]}))))).flat()}}l.CustomElements.defineComponent("devtools-resources-endpoints-grid",U);var W=Object.freeze({__proto__:null,i18nString:H,EndpointsGrid:U});const q=new CSSStyleSheet;q.replaceSync(".stack-trace-row{display:flex}.stack-trace-function-name{width:100px}.stack-trace-source-location{display:flex;overflow:hidden}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ignore-list-link{opacity:60%}.devtools-link,.link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0}\n/*# sourceURL=stackTraceRow.css */\n");const _=new CSSStyleSheet;_.replaceSync("button.link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0;border:none;background:0 0;font-family:inherit;font-size:inherit}\n/*# sourceURL=stackTraceLinkButton.css */\n");const z={cannotRenderStackTrace:"Cannot render stack trace",showSMoreFrames:"{n, plural, =1 {Show # more frame} other {Show # more frames}}"},G=e.i18n.registerUIStrings("panels/application/components/StackTrace.ts",z),j=e.i18n.getLocalizedString.bind(void 0,G);class K extends HTMLElement{static litTagName=a.literal`devtools-stack-trace-row`;#a=this.attachShadow({mode:"open"});#S=null;set data(e){this.#S=e.stackTraceRowItem,this.#n()}connectedCallback(){this.#a.adoptedStyleSheets=[q]}#n(){this.#S&&a.render(a.html` <div class="stack-trace-row"> <div class="stack-trace-function-name text-ellipsis" title="${this.#S.functionName}"> ${this.#S.functionName} </div> <div class="stack-trace-source-location"> ${this.#S.link?a.html`<div class="text-ellipsis">\xA0@\xA0${this.#S.link}</div>`:a.nothing} </div> </div> `,this.#a,{host:this})}}class X extends HTMLElement{static litTagName=a.literal`devtools-stack-trace-link-button`;#a=this.attachShadow({mode:"open"});#R=()=>{};#x=null;set data(e){this.#R=e.onShowAllClick,this.#x=e.hiddenCallFramesCount,this.#n()}connectedCallback(){this.#a.adoptedStyleSheets=[_]}#n(){this.#x&&a.render(a.html` <div class="stack-trace-row"> <button class="link" @click="${()=>this.#R()}"> ${j(z.showSMoreFrames,{n:this.#x})} </button> </div> `,this.#a,{host:this})}}class J extends HTMLElement{static litTagName=a.literal`devtools-resources-stack-trace`;#a=this.attachShadow({mode:"open"});#C=new u.Linkifier.Linkifier;#$=[];#N=!1;set data(e){const t=e.frame,{creationStackTrace:r,creationStackTraceTarget:a}=t.getCreationStackTraceData();r&&(this.#$=e.buildStackTraceRows(r,a,this.#C,!0,this.#P.bind(this))),this.#n()}#P(e){this.#$=e,this.#n()}#R(){this.#N=!0,this.#n()}createRowTemplates(){const e=[];let t=0;for(const r of this.#$)!this.#N&&r.ignoreListHide||("functionName"in r&&e.push(a.html` <${K.litTagName} data-stack-trace-row .data="${{stackTraceRowItem:r}}"></${K.litTagName}>`),"asyncDescription"in r&&e.push(a.html` <div>${r.asyncDescription}</div> `)),!this.#N&&"functionName"in r&&r.ignoreListHide&&t++;return t&&e.push(a.html` <${X.litTagName} data-stack-trace-row .data="${{onShowAllClick:this.#R.bind(this),hiddenCallFramesCount:t}}"></${X.litTagName}> `),e}#n(){if(!this.#$.length)return void a.render(a.html` <span>${j(z.cannotRenderStackTrace)}</span> `,this.#a,{host:this});const e=this.createRowTemplates();a.render(a.html` <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:e}}"> </${h.ExpandableList.ExpandableList.litTagName}> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-stack-trace-row",K),l.CustomElements.defineComponent("devtools-stack-trace-link-button",X),l.CustomElements.defineComponent("devtools-resources-stack-trace",J);var Q=Object.freeze({__proto__:null,StackTraceRow:K,StackTraceLinkButton:X,StackTrace:J});const Y=new CSSStyleSheet;Y.replaceSync(":host{display:contents}.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.devtools-link,.link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0}button.link{border:none;background:0 0;font-family:inherit;font-size:inherit}.policies-list{padding-top:3px}.permissions-row{display:flex;line-height:22px}.permissions-row div{padding-right:5px}.feature-name{width:135px}.allowed-icon{padding:2.5px 0}.block-reason{width:215px}\n/*# sourceURL=permissionsPolicySection.css */\n");const Z={showDetails:"Show details",hideDetails:"Hide details",allowedFeatures:"Allowed Features",disabledFeatures:"Disabled Features",clickToShowHeader:'Click to reveal the request whose "`Permissions-Policy`" HTTP header disables this feature.',clickToShowIframe:"Click to reveal the top-most iframe which does not allow this feature in the elements panel.",disabledByIframe:'missing in iframe "`allow`" attribute',disabledByHeader:'disabled by "`Permissions-Policy`" header',disabledByFencedFrame:"disabled inside a `fencedframe`"},ee=e.i18n.registerUIStrings("panels/application/components/PermissionsPolicySection.ts",Z),te=e.i18n.getLocalizedString.bind(void 0,ee),re=c.RenderCoordinator.RenderCoordinator.instance();function ae(e,t,r){return a.html` <button class="link" role="link" tabindex="0" @click="${r}" title="${t}"> <${s.Icon.Icon.litTagName} .data="${{iconName:e,color:"var(--color-primary)",width:"16px",height:"16px"}}"> </${s.Icon.Icon.litTagName}> </button> `}class oe extends HTMLElement{static litTagName=a.literal`devtools-resources-permissions-policy-section`;#a=this.attachShadow({mode:"open"});#I={policies:[],showDetails:!1};set data(e){this.#I=e,this.#n()}connectedCallback(){this.#a.adoptedStyleSheets=[Y]}#D(){this.#I.showDetails=!this.#I.showDetails,this.#n()}#E(){const e=this.#I.policies.filter((e=>e.allowed)).map((e=>e.feature)).sort();return e.length?a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.allowedFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${e.join(", ")} </${i.ReportView.ReportValue.litTagName}> `:a.nothing}async#M(){const e=this.#I.policies.filter((e=>!e.allowed)).sort(((e,t)=>e.feature.localeCompare(t.feature)));if(!e.length)return a.nothing;if(!this.#I.showDetails)return a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.disabledFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${e.map((e=>e.feature)).join(", ")} <button class="link" @click="${()=>this.#D()}"> ${te(Z.showDetails)} </button> </${i.ReportView.ReportValue.litTagName}> `;const t=r.FrameManager.FrameManager.instance(),o=await Promise.all(e.map((async e=>{const r=e.locator?t.getFrame(e.locator.frameId):null,o=e.locator?.blockReason,i=await("IframeAttribute"===o&&r&&r.getOwnerDOMNodeOrDocument()),n=r&&r.resourceForURL(r.url),l="Header"===o&&n&&n.request,c=(()=>{switch(o){case"IframeAttribute":return te(Z.disabledByIframe);case"Header":return te(Z.disabledByHeader);case"InFencedFrameTree":return te(Z.disabledByFencedFrame);default:return""}})();return a.html` <div class="permissions-row"> <div> <${s.Icon.Icon.litTagName} class="allowed-icon" .data="${{color:"",iconName:"error_icon",width:"14px"}}"> </${s.Icon.Icon.litTagName}> </div> <div class="feature-name text-ellipsis"> ${e.feature} </div> <div class="block-reason">${c}</div> <div> ${i?ae("elements_panel_icon",te(Z.clickToShowIframe),(()=>p.Revealer.reveal(i))):a.nothing} ${l?ae("network_panel_icon",te(Z.clickToShowHeader),(async()=>{if(!l)return;const e=l.responseHeaderValue("permissions-policy")?"permissions-policy":"feature-policy",t=g.UIRequestLocation.UIRequestLocation.responseHeaderMatch(l,{name:e,value:""});await p.Revealer.reveal(t)})):a.nothing} </div> </div> `})));return a.html` <${i.ReportView.ReportKey.litTagName}>${te(Z.disabledFeatures)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="policies-list"> ${o} <div class="permissions-row"> <button class="link" @click="${()=>this.#D()}"> ${te(Z.hideDetails)} </button> </div> </${i.ReportView.ReportValue.litTagName}> `}async#n(){await re.write("PermissionsPolicySection render",(()=>{a.render(a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${e.i18n.lockedString("Permissions Policy")}</${i.ReportView.ReportSectionHeader.litTagName}> ${this.#E()} ${a.Directives.until(this.#M(),a.nothing)} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `,this.#a,{host:this})}))}}l.CustomElements.defineComponent("devtools-resources-permissions-policy-section",oe);const ie=new CSSStyleSheet;ie.replaceSync(":host .badge-error{--override-adorner-text-color:var(--color-red);--override-adorner-border-color:var(--color-red)}:host .badge-success{--override-adorner-text-color:var(--color-accent-green);--override-adorner-border-color:var(--color-accent-green)}:host .badge-secondary{--override-adorner-text-color:var(--color-text-secondary);--override-adorner-border-color:var(--color-text-secondary)}:host{font-family:var(--source-code-font-family)}\n/*# sourceURL=badge.css */\n");const ne=new CSSStyleSheet;ne.replaceSync(".content{display:grid;grid-template-columns:min-content 1fr}.key{color:var(--color-text-secondary);padding:0 6px;text-align:right;white-space:pre}.value{color:var(--color-text-primary);margin-inline-start:0;padding:0 6px}.error-text{color:var(--color-red);font-weight:700}\n/*# sourceURL=originTrialTokenRows.css */\n");const se=new CSSStyleSheet;se.replaceSync(":host{--legacy-item-selection-bg-color:transparent}\n/*# sourceURL=originTrialTreeView.css */\n");const le={origin:"Origin",trialName:"Trial Name",expiryTime:"Expiry Time",usageRestriction:"Usage Restriction",isThirdParty:"Third Party",matchSubDomains:"Subdomain Matching",rawTokenText:"Raw Token",status:"Token Status",token:"Token",tokens:"{PH1} tokens"},ce=e.i18n.registerUIStrings("panels/application/components/OriginTrialTreeView.ts",le),de=e.i18n.getLocalizedString.bind(void 0,ce);class he extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-tree-view-badge`;#a=this.attachShadow({mode:"open"});#F=new v.Adorner.Adorner;set data(e){this.#n(e)}connectedCallback(){this.#a.adoptedStyleSheets=[ie]}#n(e){const t=document.createElement("span");t.textContent=e.badgeContent,this.#F.data={name:"badge",content:t},this.#F.classList.add(`badge-${e.style}`),a.render(a.html` ${this.#F} `,this.#a,{host:this})}}function me(e){return{treeNodeData:e,id:"OriginTrialTreeNode#"+e.trialName,children:async()=>e.tokensWithStatus.length>1?e.tokensWithStatus.map(ue):pe(e.tokensWithStatus[0]),renderer:e=>{const t=e.treeNodeData,r=a.html` <${he.litTagName} .data="${{badgeContent:de(le.tokens,{PH1:t.tokensWithStatus.length}),style:"secondary"}}"></${he.litTagName}> `;return a.html` ${t.trialName} <${he.litTagName} .data="${{badgeContent:t.status,style:"Enabled"===t.status?"success":"error"}}"></${he.litTagName}> ${t.tokensWithStatus.length>1?r:a.nothing} `}}}function ue(e){return{treeNodeData:e.status,id:"TokenNode#"+e.rawTokenText,children:async()=>pe(e),renderer:(e,t)=>{const r=e.treeNodeData,o=a.html` <${he.litTagName} .data="${{badgeContent:r,style:"Success"===r?"success":"error"}}"></${he.litTagName}> `;return a.html`${de(le.token)} ${t.isExpanded?a.nothing:o}`}}}function ge(e){return a.html` <${we.litTagName} .data="${{node:e}}"> </${we.litTagName}> `}function pe(e){return[{treeNodeData:e,id:"TokenDetailsNode#"+e.rawTokenText,renderer:ge},(t=e.rawTokenText,{treeNodeData:de(le.rawTokenText),id:"TokenRawTextContainerNode#"+t,children:async()=>[{treeNodeData:t,id:"TokenRawTextNode#"+t,renderer:e=>{const t=e.treeNodeData;return a.html` <div style="overflow-wrap: break-word;"> ${t} </div> `}}]})];var t}function be(e){return a.html`${String(e.treeNodeData)}`}l.CustomElements.defineComponent("devtools-resources-origin-trial-tree-view-badge",he);class we extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-token-rows`;#a=this.attachShadow({mode:"open"});#A=null;#V=[];#L=new Intl.DateTimeFormat(e.DevToolsLocale.DevToolsLocale.instance().locale,{dateStyle:"long",timeStyle:"long"});set data(e){this.#A=e.node.treeNodeData,this.#H()}connectedCallback(){this.#a.adoptedStyleSheets=[ne],this.#n()}#B=(e,t)=>a.html` <div class="${a.Directives.ifDefined(t?"error-text":void 0)}"> ${e} </div>`;#H(){this.#A?.parsedToken&&(this.#V=[{name:de(le.origin),value:this.#B(this.#A.parsedToken.origin,"WrongOrigin"===this.#A.status)},{name:de(le.expiryTime),value:this.#B(this.#L.format(1e3*this.#A.parsedToken.expiryTime),"Expired"===this.#A.status)},{name:de(le.usageRestriction),value:this.#B(this.#A.parsedToken.usageRestriction)},{name:de(le.isThirdParty),value:this.#B(this.#A.parsedToken.isThirdParty.toString())},{name:de(le.matchSubDomains),value:this.#B(this.#A.parsedToken.matchSubDomains.toString())}],"UnknownTrial"===this.#A.status&&(this.#V=[{name:de(le.trialName),value:this.#B(this.#A.parsedToken.trialName)},...this.#V]))}#n(){if(!this.#A)return;const e=[{name:de(le.status),value:a.html` <${he.litTagName} .data="${{badgeContent:this.#A.status,style:"Success"===this.#A.status?"success":"error"}}"></${he.litTagName}>`},...this.#V].map((e=>a.html` <div class="key">${e.name}</div> <div class="value">${e.value}</div> `));a.render(a.html` <div class="content"> ${e} </div> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-resources-origin-trial-token-rows",we);class fe extends HTMLElement{static litTagName=a.literal`devtools-resources-origin-trial-tree-view`;#a=this.attachShadow({mode:"open"});set data(e){this.#n(e.trials)}connectedCallback(){this.#a.adoptedStyleSheets=[se]}#n(e){e.length&&a.render(a.html` <${k.TreeOutline.TreeOutline.litTagName} .data="${{tree:e.map(me),defaultRenderer:be}}"> </${k.TreeOutline.TreeOutline.litTagName}> `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-resources-origin-trial-tree-view",fe);var ve=Object.freeze({__proto__:null,Badge:he,OriginTrialTokenRows:we,OriginTrialTreeView:fe});const ke=new CSSStyleSheet;ke.replaceSync('.text-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}button~.text-ellipsis{padding-left:2px}.devtools-link,.link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0}button.link{border:none;background:0 0;font-family:inherit;font-size:inherit}.inline-button{padding-left:1ex}.inline-comment{padding-left:1ex;white-space:pre-line}.inline-comment::before{content:"("}.inline-comment::after{content:")"}.inline-name{color:var(--color-text-secondary);padding-left:2ex;user-select:none;white-space:pre-line}.inline-name::after{content:":\\u00a0"}.inline-items{display:flex}.span-cols{grid-column-start:span 2;margin:0 0 8px 30px;line-height:28px}.button-icon-with-text{vertical-align:sub}.without-min-width{min-width:auto}\n/*# sourceURL=frameDetailsReportView.css */\n');const Te={Activated:"Activated.",Destroyed:"A prerendered page was abandoned for unknown reasons.",LowEndDevice:"Prerendering is not supported for low-memory devices.",CrossOriginRedirect:"Attempted to prerender a URL which redirected to a cross-origin URL. Currently prerendering cross-origin pages is disallowed.",CrossOriginNavigation:"The prerendered page navigated to a cross-origin URL after loading. Currently prerendering cross-origin pages is disallowed.",InvalidSchemeRedirect:"Attempted to prerender a URL that redirected to a non-HTTP(S) URL. Only HTTP(S) pages can be prerendered.",InvalidSchemeNavigation:"Only HTTP(S) navigation allowed for Prerender.",InProgressNavigation:"InProgressNavigation.",NavigationRequestBlockedByCsp:"Navigation request is blocked by CSP.",MainFrameNavigation:"Navigations after the initial prerendering navigation are disallowed",MojoBinderPolicy:"A disallowed API was used by the prerendered page",RendererProcessCrashed:"The prerendered page crashed.",RendererProcessKilled:"The renderer process for the prerendering page was killed.",Download:"Download is disallowed in Prerender.",TriggerDestroyed:"Prerender is not activated and destroyed with the trigger.",NavigationNotCommitted:"The prerendering page is not committed in the end.",NavigationBadHttpStatus:"The initial prerendering navigation was not successful due to the server returning a non-200/204/205 status code.",ClientCertRequested:"The page is requesting client cert, which is not suitable for a hidden page like prerendering.",NavigationRequestNetworkError:"Encountered a network error during prerendering.",MaxNumOfRunningPrerendersExceeded:"Max number of prerendering exceeded.",CancelAllHostsForTesting:"CancelAllHostsForTesting.",DidFailLoad:"DidFailLoadWithError happened during prerendering.",Stop:"The tab is stopped.",SslCertificateError:"SSL certificate error.",LoginAuthRequested:"Prerender does not support auth requests from UI.",UaChangeRequiresReload:"Reload is needed after UserAgentOverride.",BlockedByClient:"Resource load is blocked by the client.",AudioOutputDeviceRequested:"Prerendering has not supported the AudioContext API yet.",MixedContent:"Prerendering is canceled by a mixed content frame.",TriggerBackgrounded:"The tab is in the background",EmbedderTriggeredAndSameOriginRedirected:"Prerendering triggered by Chrome internal (e.g., Omnibox prerendering) is canceled because the navigation is redirected to another same-origin page.",EmbedderTriggeredAndCrossOriginRedirected:"Prerendering triggered by Chrome internal (e.g., Omnibox prerendering) is is canceled because the navigation is redirected to another cross-origin page.",EmbedderTriggeredAndDestroyed:"Prerendering triggered by Chrome internal (e.g., Omnibox prerendering) is is destroyed in the destructor.",MemoryLimitExceeded:"Memory limit exceeded",FailToGetMemoryUsage:"Fail to get memory usage"},ye=e.i18n.registerUIStrings("panels/application/components/Prerender2.ts",Te),Se=e.i18n.getLazilyComputedLocalizedString.bind(void 0,ye),Re={Activated:{name:Se(Te.Activated)},Destroyed:{name:Se(Te.Destroyed)},LowEndDevice:{name:Se(Te.LowEndDevice)},CrossOriginRedirect:{name:Se(Te.CrossOriginRedirect)},CrossOriginNavigation:{name:Se(Te.CrossOriginNavigation)},InvalidSchemeRedirect:{name:Se(Te.InvalidSchemeRedirect)},InvalidSchemeNavigation:{name:Se(Te.InvalidSchemeNavigation)},InProgressNavigation:{name:Se(Te.InProgressNavigation)},NavigationRequestBlockedByCsp:{name:Se(Te.NavigationRequestBlockedByCsp)},MainFrameNavigation:{name:Se(Te.MainFrameNavigation)},MojoBinderPolicy:{name:Se(Te.MojoBinderPolicy)},RendererProcessCrashed:{name:Se(Te.RendererProcessCrashed)},RendererProcessKilled:{name:Se(Te.RendererProcessKilled)},Download:{name:Se(Te.Download)},TriggerDestroyed:{name:Se(Te.TriggerDestroyed)},NavigationNotCommitted:{name:Se(Te.NavigationNotCommitted)},NavigationBadHttpStatus:{name:Se(Te.NavigationBadHttpStatus)},ClientCertRequested:{name:Se(Te.ClientCertRequested)},NavigationRequestNetworkError:{name:Se(Te.NavigationRequestNetworkError)},MaxNumOfRunningPrerendersExceeded:{name:Se(Te.MaxNumOfRunningPrerendersExceeded)},CancelAllHostsForTesting:{name:Se(Te.CancelAllHostsForTesting)},DidFailLoad:{name:Se(Te.DidFailLoad)},Stop:{name:Se(Te.Stop)},SslCertificateError:{name:Se(Te.SslCertificateError)},LoginAuthRequested:{name:Se(Te.LoginAuthRequested)},UaChangeRequiresReload:{name:Se(Te.UaChangeRequiresReload)},BlockedByClient:{name:Se(Te.BlockedByClient)},AudioOutputDeviceRequested:{name:Se(Te.AudioOutputDeviceRequested)},MixedContent:{name:Se(Te.MixedContent)},TriggerBackgrounded:{name:Se(Te.TriggerBackgrounded)},EmbedderTriggeredAndSameOriginRedirected:{name:Se(Te.EmbedderTriggeredAndSameOriginRedirected)},EmbedderTriggeredAndCrossOriginRedirected:{name:Se(Te.EmbedderTriggeredAndCrossOriginRedirected)},EmbedderTriggeredAndDestroyed:{name:Se(Te.EmbedderTriggeredAndDestroyed)},MemoryLimitExceeded:{name:Se(Te.MemoryLimitExceeded)},FailToGetMemoryUsage:{name:Se(Te.FailToGetMemoryUsage)}},xe={additionalInformation:"Additional Information",thisAdditionalDebugging:"This additional (debugging) information is shown because the 'Protocol Monitor' experiment is enabled.",frameId:"Frame ID",document:"Document",url:"URL",clickToRevealInSourcesPanel:"Click to reveal in Sources panel",clickToRevealInNetworkPanel:"Click to reveal in Network panel",unreachableUrl:"Unreachable URL",clickToRevealInNetworkPanelMight:"Click to reveal in Network panel (might require page reload)",origin:"Origin",ownerElement:"Owner Element",clickToRevealInElementsPanel:"Click to reveal in Elements panel",adStatus:"Ad Status",rootDescription:"This frame has been identified as the root frame of an ad",root:"root",childDescription:"This frame has been identified as a child frame of an ad",child:"child",securityIsolation:"Security & Isolation",secureContext:"Secure Context",yes:"Yes",no:"No",crossoriginIsolated:"Cross-Origin Isolated",localhostIsAlwaysASecureContext:"`Localhost` is always a secure context",aFrameAncestorIsAnInsecure:"A frame ancestor is an insecure context",theFramesSchemeIsInsecure:"The frame's scheme is insecure",reportingTo:"reporting to",apiAvailability:"API availability",availabilityOfCertainApisDepends:"Availability of certain APIs depends on the document being cross-origin isolated.",availableTransferable:"available, transferable",availableNotTransferable:"available, not transferable",unavailable:"unavailable",sharedarraybufferConstructorIs:"`SharedArrayBuffer` constructor is available and `SABs` can be transferred via `postMessage`",sharedarraybufferConstructorIsAvailable:"`SharedArrayBuffer` constructor is available but `SABs` cannot be transferred via `postMessage`",willRequireCrossoriginIsolated:"⚠️ will require cross-origin isolated context in the future",requiresCrossoriginIsolated:"requires cross-origin isolated context",transferRequiresCrossoriginIsolatedPermission:"`SharedArrayBuffer` transfer requires enabling the permission policy:",available:"available",thePerformanceAPI:"The `performance.measureUserAgentSpecificMemory()` API is available",thePerformancemeasureuseragentspecificmemory:"The `performance.measureUserAgentSpecificMemory()` API is not available",measureMemory:"Measure Memory",learnMore:"Learn more",creationStackTrace:"Frame Creation `Stack Trace`",creationStackTraceExplanation:"This frame was created programmatically. The `stack trace` shows where this happened.",parentIsAdExplanation:"This frame is considered an ad frame because its parent frame is an ad frame.",matchedBlockingRuleExplanation:"This frame is considered an ad frame because its current (or previous) main document is an ad resource.",createdByAdScriptExplanation:"There was an ad script in the `(async) stack` when this frame was created. Examining the creation `stack trace` of this frame might provide more insight.",refresh:"Refresh",prerendering:"Prerendering",prerenderingStatus:"Prerendering Status",creatorAdScript:"Creator Ad Script"},Ce=e.i18n.registerUIStrings("panels/application/components/FrameDetailsView.ts",xe),$e=e.i18n.getLocalizedString.bind(void 0,Ce);class Ne extends n.ThrottledWidget.ThrottledWidget{#O=new Ie;#o;constructor(e){super(),this.#o=e,this.contentElement.classList.add("overflow-auto"),this.contentElement.appendChild(this.#O),this.update(),e.resourceTreeModel().addEventListener(r.ResourceTreeModel.Events.PrerenderingStatusUpdated,this.update,this)}async doUpdate(){const e=this.#o?.getDebuggerId(),t=(e?await r.DebuggerModel.DebuggerModel.modelForDebuggerId(e):null)?.target();this.#O.data={frame:this.#o,target:t}}}const Pe=c.RenderCoordinator.RenderCoordinator.instance();class Ie extends HTMLElement{static litTagName=a.literal`devtools-resources-frame-details-view`;#a=this.attachShadow({mode:"open"});#o;#U;#W=!1;#q=null;#I={policies:[],showDetails:!1};#_=new fe;#C=new u.Linkifier.Linkifier;connectedCallback(){this.#W=o.Runtime.experiments.isEnabled("protocolMonitor"),this.#a.adoptedStyleSheets=[ke]}set data(e){this.#o=e.frame,this.#U=e.target,!this.#q&&this.#o&&(this.#q=this.#o.getPermissionsPolicyState()),this.#n()}async#n(){await Pe.write("FrameDetailsView render",(()=>{this.#o&&a.render(a.html` <${i.ReportView.Report.litTagName} .data="${{reportTitle:this.#o.displayName()}}"> ${this.#z()} ${this.#G()} ${this.#j()} ${this.#K()} ${a.Directives.until(this.#q?.then((e=>(this.#I.policies=e||[],a.html` <${oe.litTagName} .data="${this.#I}"> </${oe.litTagName}> `))),a.nothing)} ${this.#X()} ${this.#W?this.#J():a.nothing} </${i.ReportView.Report.litTagName}> `,this.#a,{host:this})}))}#K(){if(!this.#o)return a.nothing;this.#_.classList.add("span-cols");const t=this.#o,r=()=>{t.getOriginTrials().then((e=>{this.#_.data={trials:e}}))};return r(),a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${e.i18n.lockedString("Origin Trials")} <${s.IconButton.IconButton.litTagName} class="inline-button" .data="${{clickHandler:r,groups:[{iconName:"refresh_12x12_icon",text:$e(xe.refresh),iconColor:"var(--color-text-primary)"}]}}"> </${s.IconButton.IconButton.litTagName}> </${i.ReportView.ReportSectionHeader.litTagName}> ${this.#_} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `}#z(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(xe.document)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(xe.url)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="inline-items"> ${this.#Q()} ${this.#Y()} <div class="text-ellipsis" title="${this.#o.url}">${this.#o.url}</div> </div> </${i.ReportView.ReportValue.litTagName}> ${this.#Z()} ${this.#ee()} ${a.Directives.until(this.#te(),a.nothing)} ${this.#re()} ${this.#ae()} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#Q(){if(!this.#o||this.#o.unreachableUrl())return a.nothing;const e=this.#oe(this.#o);return ae("sources_panel_icon",$e(xe.clickToRevealInSourcesPanel),(()=>p.Revealer.reveal(e)))}#Y(){if(this.#o){const e=this.#o.resourceForURL(this.#o.url);if(e&&e.request){const t=e.request;return ae("network_panel_icon",$e(xe.clickToRevealInNetworkPanel),(()=>{const e=g.UIRequestLocation.UIRequestLocation.tab(t,g.UIRequestLocation.UIRequestTabs.Headers);return p.Revealer.reveal(e)}))}}return a.nothing}#oe(e){for(const t of f.Workspace.WorkspaceImpl.instance().projects()){const r=b.NetworkProject.NetworkProject.getTargetForProject(t);if(r&&r===e.resourceTreeModel().target()){const r=t.uiSourceCodeForURL(e.url);if(r)return r}}return null}#Z(){return this.#o&&this.#o.unreachableUrl()?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.unreachableUrl)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="inline-items"> ${this.#ie()} <div class="text-ellipsis" title="${this.#o.unreachableUrl()}">${this.#o.unreachableUrl()}</div> </div> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}#ie(){if(this.#o){const e=p.ParsedURL.ParsedURL.fromString(this.#o.unreachableUrl());if(e)return ae("network_panel_icon",$e(xe.clickToRevealInNetworkPanelMight),(()=>{p.Revealer.reveal(g.UIFilter.UIRequestFilter.filters([{filterType:g.UIFilter.FilterType.Domain,filterValue:e.domain()},{filterType:null,filterValue:e.path}]))}))}return a.nothing}#ee(){return this.#o&&this.#o.securityOrigin&&"://"!==this.#o.securityOrigin?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.origin)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#o.securityOrigin}">${this.#o.securityOrigin}</div> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}async#te(){if(this.#o){const e=await this.#o.getOwnerDOMNodeOrDocument();if(e)return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.ownerElement)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="without-min-width"> <button class="link" role="link" tabindex="0" title="${$e(xe.clickToRevealInElementsPanel)}" @mouseenter="${()=>this.#o?.highlight()}" @mouseleave="${()=>r.OverlayModel.OverlayModel.hideDOMNodeHighlight()}" @click="${()=>p.Revealer.reveal(e)}"> <${s.Icon.Icon.litTagName} class="button-icon-with-text" .data="${{iconName:"elements_panel_icon",color:"var(--color-primary)",width:"16px",height:"16px"}}"></${s.Icon.Icon.litTagName}> &lt;${e.nodeName().toLocaleLowerCase()}> </button> </${i.ReportView.ReportValue.litTagName}> `}return a.nothing}#re(){const e=this.#o?.getCreationStackTraceData();return e&&e.creationStackTrace?a.html` <${i.ReportView.ReportKey.litTagName} title="${$e(xe.creationStackTraceExplanation)}">${$e(xe.creationStackTrace)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <${J.litTagName} .data="${{frame:this.#o,buildStackTraceRows:u.JSPresentationUtils.buildStackTraceRows}}"> </${J.litTagName}> </${i.ReportView.ReportValue.litTagName}> `:a.nothing}#ne(e){switch(e){case"child":return{value:$e(xe.child),description:$e(xe.childDescription)};case"root":return{value:$e(xe.root),description:$e(xe.rootDescription)}}}#se(e){switch(e){case"CreatedByAdScript":return $e(xe.createdByAdScriptExplanation);case"MatchedBlockingRule":return $e(xe.matchedBlockingRuleExplanation);case"ParentIsAd":return $e(xe.parentIsAdExplanation)}}#ae(){if(!this.#o)return a.nothing;const e=this.#o.adFrameType();if("none"===e)return a.nothing;const t=this.#ne(e),r=[a.html`<div title="${t.description}">${t.value}</div>`];for(const e of this.#o.adFrameStatus()?.explanations||[])r.push(a.html`<div>${this.#se(e)}</div>`);const o=this.#U?this.#C.linkifyScriptLocation(this.#U,this.#o.getAdScriptId(),w.DevToolsPath.EmptyUrlString,void 0,void 0):null;return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.adStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <${h.ExpandableList.ExpandableList.litTagName} .data="${{rows:r}}"></${h.ExpandableList.ExpandableList.litTagName}></${i.ReportView.ReportValue.litTagName}> ${this.#U?a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.creatorAdScript)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} class="ad-script-link">${o}</${i.ReportView.ReportValue.litTagName}> `:a.nothing} `}#G(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(xe.securityIsolation)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(xe.secureContext)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${this.#o.isSecureContext()?$e(xe.yes):$e(xe.no)}\xA0${this.#le()} </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(xe.crossoriginIsolated)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${this.#o.isCrossOriginIsolated()?$e(xe.yes):$e(xe.no)} </${i.ReportView.ReportValue.litTagName}> ${a.Directives.until(this.#ce(),a.nothing)} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#le(){const e=this.#de();return e?a.html`<span class="inline-comment">${e}</span>`:a.nothing}#de(){switch(this.#o?.getSecureContextType()){case"Secure":return null;case"SecureLocalhost":return $e(xe.localhostIsAlwaysASecureContext);case"InsecureAncestor":return $e(xe.aFrameAncestorIsAnInsecure);case"InsecureScheme":return $e(xe.theFramesSchemeIsInsecure)}return null}async#ce(){if(this.#o){const t=this.#o.resourceTreeModel().target().model(r.NetworkManager.NetworkManager),o=t&&await t.getSecurityIsolationStatus(this.#o.id);if(o)return a.html` ${this.#he(o.coep,e.i18n.lockedString("Cross-Origin Embedder Policy (COEP)"),"None")} ${this.#he(o.coop,e.i18n.lockedString("Cross-Origin Opener Policy (COOP)"),"UnsafeNone")} `}return a.nothing}#he(e,t,r){if(!e)return a.nothing;const o=e.value!==r,n=!o&&e.reportOnlyValue!==r,s=o?e.reportingEndpoint:e.reportOnlyReportingEndpoint;return a.html` <${i.ReportView.ReportKey.litTagName}>${t}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> ${o?e.value:e.reportOnlyValue} ${n?a.html`<span class="inline-comment">report-only</span>`:a.nothing} ${s?a.html`<span class="inline-name">${$e(xe.reportingTo)}</span>${s}`:a.nothing} </${i.ReportView.ReportValue.litTagName}> `}#j(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName}>${$e(xe.apiAvailability)}</${i.ReportView.ReportSectionHeader.litTagName}> <div class="span-cols"> ${$e(xe.availabilityOfCertainApisDepends)} <x-link href="https://web.dev/why-coop-coep/" class="link">${$e(xe.learnMore)}</x-link> </div> ${this.#me()} ${this.#ue()} <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}#me(){if(this.#o){const e=this.#o.getGatedAPIFeatures();if(e){const t=e.includes("SharedArrayBuffers"),r=t&&e.includes("SharedArrayBuffersTransferAllowed"),o=$e(r?xe.availableTransferable:t?xe.availableNotTransferable:xe.unavailable),n=r?$e(xe.sharedarraybufferConstructorIs):t?$e(xe.sharedarraybufferConstructorIsAvailable):"";function s(e){switch(e.getCrossOriginIsolatedContextType()){case"Isolated":return a.nothing;case"NotIsolated":return t?a.html`<span class="inline-comment">${$e(xe.willRequireCrossoriginIsolated)}</span>`:a.html`<span class="inline-comment">${$e(xe.requiresCrossoriginIsolated)}</span>`;case"NotIsolatedFeatureDisabled":if(!r)return a.html`<span class="inline-comment">${$e(xe.transferRequiresCrossoriginIsolatedPermission)} <code>cross-origin-isolated</code></span>`}return a.nothing}return a.html` <${i.ReportView.ReportKey.litTagName}>SharedArrayBuffers</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName} title="${n}"> ${o}\xA0${s(this.#o)} </${i.ReportView.ReportValue.litTagName}> `}}return a.nothing}#ue(){if(this.#o){const e=this.#o.isCrossOriginIsolated(),t=$e(e?xe.available:xe.unavailable),r=$e(e?xe.thePerformanceAPI:xe.thePerformancemeasureuseragentspecificmemory);return a.html` <${i.ReportView.ReportKey.litTagName}>${$e(xe.measureMemory)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <span title="${r}">${t}</span>\xA0<x-link class="link" href="https://web.dev/monitor-total-page-memory-usage/">${$e(xe.learnMore)}</x-link> </${i.ReportView.ReportValue.litTagName}> `}return a.nothing}#X(){if(!this.#o||!this.#o.prerenderFinalStatus)return a.nothing;const e=Re[this.#o.prerenderFinalStatus].name();return a.html` <${i.ReportView.ReportSectionHeader.litTagName}> ${$e(xe.prerendering)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(xe.prerenderingStatus)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${e}">${e}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}>`}#J(){return this.#o?a.html` <${i.ReportView.ReportSectionHeader.litTagName} title="${$e(xe.thisAdditionalDebugging)}">${$e(xe.additionalInformation)}</${i.ReportView.ReportSectionHeader.litTagName}> <${i.ReportView.ReportKey.litTagName}>${$e(xe.frameId)}</${i.ReportView.ReportKey.litTagName}> <${i.ReportView.ReportValue.litTagName}> <div class="text-ellipsis" title="${this.#o.id}">${this.#o.id}</div> </${i.ReportView.ReportValue.litTagName}> <${i.ReportView.ReportSectionDivider.litTagName}></${i.ReportView.ReportSectionDivider.litTagName}> `:a.nothing}}l.CustomElements.defineComponent("devtools-resources-frame-details-view",Ie);var De=Object.freeze({__proto__:null,FrameDetailsView:Ne,FrameDetailsReportView:Ie});const Ee=new CSSStyleSheet;Ee.replaceSync(":host{padding:20px}.heading{font-size:15px}devtools-data-grid-controller{border:1px solid var(--color-details-hairline);margin-top:20px}.info-icon{vertical-align:text-bottom;height:14px}.no-events-message{margin-top:20px}\n/*# sourceURL=interestGroupAccessGrid.css */\n");const Me={allInterestGroupStorageEvents:"All interest group storage events.",eventTime:"Event Time",eventType:"Access Type",groupOwner:"Owner",groupName:"Name",noEvents:"No interest group events recorded."},Fe=e.i18n.registerUIStrings("panels/application/components/InterestGroupAccessGrid.ts",Me),Ae=e.i18n.getLocalizedString.bind(void 0,Fe);class Ve extends HTMLElement{static litTagName=a.literal`devtools-interest-group-access-grid`;#a=this.attachShadow({mode:"open"});#ge=[];connectedCallback(){this.#a.adoptedStyleSheets=[Ee],this.#n()}set data(e){this.#ge=e,this.#n()}#n(){a.render(a.html` <div> <span class="heading">Interest Groups</span> <${s.Icon.Icon.litTagName} class="info-icon" title="${Ae(Me.allInterestGroupStorageEvents)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}> ${this.#pe()} </div> `,this.#a,{host:this})}#pe(){if(0===this.#ge.length)return a.html`<div class="no-events-message">${Ae(Me.noEvents)}</div>`;const e={columns:[{id:"event-time",title:Ae(Me.eventTime),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-type",title:Ae(Me.eventType),widthWeighting:5,hideable:!1,visible:!0,sortable:!0},{id:"event-group-owner",title:Ae(Me.groupOwner),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"event-group-name",title:Ae(Me.groupName),widthWeighting:10,hideable:!1,visible:!0,sortable:!0}],rows:this.#be(),initialSort:{columnId:"event-time",direction:"ASC"}};return a.html` <${m.DataGridController.DataGridController.litTagName} .data="${e}"></${m.DataGridController.DataGridController.litTagName}> `}#be(){return this.#ge.map((e=>({cells:[{columnId:"event-time",value:e.accessTime,renderer:this.#we.bind(this)},{columnId:"event-type",value:e.type},{columnId:"event-group-owner",value:e.ownerOrigin},{columnId:"event-group-name",value:e.name}]})))}#we(e){const t=new Date(1e3*e);return a.html`${t.toLocaleString()}`}}l.CustomElements.defineComponent("devtools-interest-group-access-grid",Ve);var Le=Object.freeze({__proto__:null,i18nString:Ae,InterestGroupAccessGrid:Ve});const He=new CSSStyleSheet;He.replaceSync('*{box-sizing:border-box;min-width:0;min-height:0}:root{height:100%;overflow:hidden;--legacy-accent-color:#1a73e8;--legacy-accent-fg-color:#1a73e8;--legacy-accent-color-hover:#3b86e8;--legacy-accent-fg-color-hover:#1567d3;--legacy-active-control-bg-color:#5a5a5a;--legacy-focus-bg-color:hsl(214deg 40% 92%);--legacy-focus-ring-inactive-shadow-color:#e0e0e0;--legacy-input-validation-error:#db1600;--legacy-toolbar-hover-bg-color:#eaeaea;--legacy-selection-fg-color:#fff;--legacy-selection-bg-color:var(--legacy-accent-color);--legacy-selection-inactive-fg-color:#5a5a5a;--legacy-selection-inactive-bg-color:#dadada;--legacy-tab-selected-fg-color:#333;--legacy-divider-border:1px solid var(--color-details-hairline);--legacy-focus-ring-inactive-shadow:0 0 0 1px var(--legacy-focus-ring-inactive-shadow-color);--legacy-focus-ring-active-shadow:0 0 0 1px var(--legacy-accent-color);--legacy-item-selection-bg-color:#cfe8fc;--legacy-item-selection-inactive-bg-color:#e0e0e0;--item-hover-color:rgb(56 121 217 / 10%);--monospace-font-size:10px;--monospace-font-family:monospace;--source-code-font-size:11px;--source-code-font-family:monospace;--override-force-white-icons-background:#fafafa}.-theme-with-dark-background{color-scheme:dark;--legacy-accent-color:#0e639c;--legacy-accent-fg-color:#ccc;--legacy-accent-fg-color-hover:#fff;--legacy-accent-color-hover:rgb(17 119 187);--legacy-active-control-bg-color:#cdcdcd;--legacy-focus-bg-color:hsl(214deg 19% 27%);--legacy-focus-ring-inactive-shadow-color:#5a5a5a;--legacy-toolbar-hover-bg-color:#202020;--legacy-selection-fg-color:#cdcdcd;--legacy-selection-inactive-fg-color:#cdcdcd;--legacy-selection-inactive-bg-color:hsl(0deg 0% 28%);--legacy-tab-selected-fg-color:#eaeaea;--legacy-focus-ring-inactive-shadow:0 0 0 1px var(--legacy-focus-ring-inactive-shadow-color);--legacy-item-selection-bg-color:hsl(207deg 88% 22%);--legacy-item-selection-inactive-bg-color:#454545}body{height:100%;width:100%;position:relative;overflow:hidden;margin:0;cursor:default;font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande",sans-serif;font-size:12px;tab-size:4;user-select:none;color:var(--color-text-primary);background:var(--color-background)}.platform-linux{font-family:Roboto,Ubuntu,Arial,sans-serif}.platform-mac{font-family:".SFNSDisplay-Regular","Helvetica Neue","Lucida Grande",sans-serif}.platform-linux,.platform-mac{--override-text-color:rgb(48 57 66);color:var(--override-text-color)}.platform-windows{font-family:"Segoe UI",Tahoma,sans-serif}:focus{outline-width:0}.platform-mac,:host-context(.platform-mac){--monospace-font-size:11px;--monospace-font-family:menlo,monospace;--source-code-font-size:11px;--source-code-font-family:menlo,monospace}.platform-windows,:host-context(.platform-windows){--monospace-font-size:12px;--monospace-font-family:consolas,lucida console,courier new,monospace;--source-code-font-size:12px;--source-code-font-family:consolas,lucida console,courier new,monospace}.platform-linux,:host-context(.platform-linux){--monospace-font-size:11px;--monospace-font-family:dejavu sans mono,monospace;--source-code-font-size:11px;--source-code-font-family:dejavu sans mono,monospace}.-theme-with-dark-background .platform-linux,.-theme-with-dark-background .platform-mac,:host-context(.-theme-with-dark-background) .platform-linux,:host-context(.-theme-with-dark-background) .platform-mac{--override-text-color:rgb(189 198 207)}.monospace{font-family:var(--monospace-font-family);font-size:var(--monospace-font-size)!important}.source-code{font-family:var(--source-code-font-family);font-size:var(--source-code-font-size)!important;white-space:pre-wrap}img{-webkit-user-drag:none}a img,iframe{border:none}.fill{position:absolute;top:0;left:0;right:0;bottom:0}iframe.fill{width:100%;height:100%}.widget{position:relative;flex:auto;contain:style}.hbox{display:flex;flex-direction:row!important;position:relative}.vbox{display:flex;flex-direction:column!important;position:relative}.view-container>.toolbar{border-bottom:1px solid var(--color-details-hairline)}.flex-auto{flex:auto}.flex-none{flex:none}.flex-centered{display:flex;align-items:center;justify-content:center}.overflow-auto{overflow:auto;background-color:var(--color-background)}iframe.widget{position:absolute;width:100%;height:100%;left:0;right:0;top:0;bottom:0}.hidden{display:none!important}.highlighted-search-result{--override-highlighted-search-result-background-color:rgb(255 255 0 / 80%);border-radius:1px;background-color:var(--override-highlighted-search-result-background-color);outline:1px solid var(--override-highlighted-search-result-background-color)}.-theme-with-dark-background .highlighted-search-result,:host-context(.-theme-with-dark-background) .highlighted-search-result{--override-highlighted-search-result-background-color:hsl(133deg 100% 30%);color:#333}.link{cursor:pointer;text-decoration:underline;color:var(--color-link)}button,input,select{font-family:inherit;font-size:inherit}input,select optgroup,select option{background-color:var(--color-background)}input{color:inherit}input::placeholder{--override-input-placeholder-color:rgb(0 0 0 / 54%);color:var(--override-input-placeholder-color)}.-theme-with-dark-background input::placeholder,:host-context(.-theme-with-dark-background) input::placeholder{--override-input-placeholder-color:rgb(230 230 230 / 54%)}:host-context(.-theme-with-dark-background) input[type=checkbox]:not(.-theme-preserve){accent-color:var(--color-checkbox-accent-color)}.harmony-input:not([type]),.harmony-input[type=number],.harmony-input[type=text]{padding:3px 6px;height:24px;border:none;box-shadow:var(--legacy-focus-ring-inactive-shadow)}.harmony-input:not([type]).error-input,.harmony-input:not([type]):invalid,.harmony-input[type=number].error-input,.harmony-input[type=number]:invalid,.harmony-input[type=text].error-input,.harmony-input[type=text]:invalid{box-shadow:0 0 0 1px var(--color-red)}.harmony-input:not([type]):not(.error-input):not(:invalid):hover,.harmony-input[type=number]:not(.error-input):not(:invalid):hover,.harmony-input[type=text]:not(.error-input):not(:invalid):hover{box-shadow:var(--legacy-focus-ring-inactive-shadow)}.harmony-input:not([type]):not(.error-input):not(:invalid):focus,.harmony-input[type=number]:not(.error-input):not(:invalid):focus,.harmony-input[type=text]:not(.error-input):not(:invalid):focus{box-shadow:var(--legacy-focus-ring-active-shadow)}.highlighted-search-result.current-search-result{--override-current-search-result-background-color:rgb(255 127 0 / 80%);border-radius:1px;padding:1px;margin:-1px;background-color:var(--override-current-search-result-background-color)}.dimmed{opacity:60%}.editing{box-shadow:var(--drop-shadow);background-color:var(--color-background);text-overflow:clip!important;padding-left:2px;margin-left:-2px;padding-right:2px;margin-right:-2px;margin-bottom:-1px;padding-bottom:1px;opacity:100%!important}.editing,.editing *{color:var(--color-text-primary)!important;text-decoration:none!important}.chrome-select{--override-chrome-select-border-color:rgb(0 0 0 / 20%);appearance:none;user-select:none;border:1px solid var(--override-chrome-select-border-color);border-radius:2px;color:var(--color-text-primary);font:inherit;margin:0;outline:0;padding-right:20px;padding-left:6px;background-image:var(--image-file-chromeSelect);background-color:var(--color-background-elevation-0);background-position:right center;background-repeat:no-repeat;min-height:24px;min-width:80px;background-size:15px}.chrome-select:disabled{opacity:38%}.-theme-with-dark-background .chrome-select,:host-context(.-theme-with-dark-background) .chrome-select{--override-chrome-select-border-color:rgb(230 230 230 / 20%);background-image:var(--image-file-chromeSelectDark)}.chrome-select:enabled:active,.chrome-select:enabled:focus,.chrome-select:enabled:hover{--override-select-box-shadow:0 0 0 2px var(--color-button-outline-focus);background-color:var(--color-background-elevation-1);box-shadow:var(--override-select-box-shadow)}.chrome-select:enabled:active{background-color:var(--color-background-elevation-2)}.chrome-select:enabled:focus{border-color:transparent}.-theme-with-dark-background .chrome-select:enabled:active,.-theme-with-dark-background .chrome-select:enabled:focus,.-theme-with-dark-background .chrome-select:enabled:hover,:host-context(.-theme-with-dark-background) .chrome-select:enabled:active,:host-context(.-theme-with-dark-background) .chrome-select:enabled:focus,:host-context(.-theme-with-dark-background) .chrome-select:enabled:hover{--override-select-box-shadow:0 0 0 2px var(--color-button-outline-focus)}.chrome-select-label{margin:0 22px;flex:none}.chrome-select-label p p{margin-top:0;color:var(--color-text-secondary)}.settings-select{margin:0}.chrome-select optgroup,.chrome-select option{background-color:var(--color-background-elevation-1);color:var(--color-text-primary)}.gray-info-message{text-align:center;font-style:italic;padding:6px;color:var(--color-text-secondary);white-space:nowrap}span[is=dt-icon-label]{flex:none}.full-widget-dimmed-banner a{color:inherit}.full-widget-dimmed-banner{color:var(--color-text-secondary);background-color:var(--color-background);display:flex;justify-content:center;align-items:center;text-align:center;padding:20px;position:absolute;top:0;right:0;bottom:0;left:0;font-size:13px;overflow:auto;z-index:500}[is=ui-icon]{display:inline-block;flex-shrink:0}.-theme-with-dark-background [is=ui-icon].icon-invert,:host-context(.-theme-with-dark-background) [is=ui-icon].icon-invert{filter:invert(80%) hue-rotate(180deg)}[is=ui-icon].icon-mask{--override-icon-mask-background-color:rgb(110 110 110);background-color:var(--override-icon-mask-background-color);-webkit-mask-position:var(--spritesheet-position)}.-theme-with-dark-background [is=ui-icon].icon-mask,:host-context(.-theme-with-dark-background) [is=ui-icon].icon-mask{--override-icon-mask-background-color:rgb(145 145 145)}[is=ui-icon]:not(.icon-mask){background-position:var(--spritesheet-position)}.spritesheet-smallicons:not(.icon-mask){background-image:var(--image-file-smallIcons)}.spritesheet-smallicons.icon-mask{-webkit-mask-image:var(--image-file-smallIcons)}.spritesheet-largeicons:not(.icon-mask){background-image:var(--image-file-largeIcons)}.spritesheet-largeicons.icon-mask{-webkit-mask-image:var(--image-file-largeIcons)}.spritesheet-mediumicons:not(.icon-mask){background-image:var(--image-file-mediumIcons)}.spritesheet-mediumicons.icon-mask{-webkit-mask-image:var(--image-file-mediumIcons)}.spritesheet-arrowicons{background-image:var(--image-file-popoverArrows)}.-theme-preserve,.force-white-icons [is=ui-icon].spritesheet-smallicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-smallicons,[is=ui-icon].force-white-icons.spritesheet-smallicons{-webkit-mask-image:var(--image-file-smallIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.-theme-preserve,.force-white-icons [is=ui-icon].spritesheet-largeicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-largeicons,[is=ui-icon].force-white-icons.spritesheet-largeicons{-webkit-mask-image:var(--image-file-largeIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.-theme-preserve,.force-white-icons [is=ui-icon].spritesheet-mediumicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-mediumicons,[is=ui-icon].force-white-icons.spritesheet-mediumicons{-webkit-mask-image:var(--image-file-mediumIcons);-webkit-mask-position:var(--spritesheet-position);background:var(--override-force-white-icons-background)!important}.mediumicon-file-sync.purple-dot{filter:hue-rotate(160deg)}.-theme-with-dark-background [is=ui-icon].icon-invert.mediumicon-file-sync.purple-dot,:host-context(.-theme-with-dark-background) [is=ui-icon].icon-invert.mediumicon-file-sync.purple-dot{filter:invert(80%) hue-rotate(350deg)}.expandable-inline-button{background-color:var(--color-background-elevation-2);color:var(--color-text-primary);cursor:pointer;border-radius:3px}.expandable-inline-button,.undisplayable-text{padding:1px 3px;margin:0 2px;font-size:11px;font-family:sans-serif;white-space:nowrap;display:inline-block}.expandable-inline-button::after,.undisplayable-text::after{content:attr(data-text)}.undisplayable-text{color:var(--color-text-disabled);font-style:italic}.expandable-inline-button:focus-visible,.expandable-inline-button:hover{background-color:var(--color-background-elevation-1)}.expandable-inline-button:focus-visible{background-color:var(--color-background-elevation-1)}::selection{--override-selection-background-color:rgb(141 199 248 / 60%);background-color:var(--override-selection-background-color)}.-theme-with-dark-background ::selection,:host-context(.-theme-with-dark-background) ::selection{background-color:rgb(93 93 93 / 60%)}.reload-warning{align-self:center;margin-left:10px}button.link{border:none;background:0 0;padding:3px}button.link:focus-visible{--override-link-focus-background-color:rgb(0 0 0 / 8%);background-color:var(--override-link-focus-background-color);border-radius:2px}.-theme-with-dark-background button.link:focus-visible,:host-context(.-theme-with-dark-background) button.link:focus-visible{--override-link-focus-background-color:rgb(230 230 230 / 8%)}@media (forced-colors:active){.chrome-select:disabled,.dimmed{opacity:100%}.-theme-preserve,.force-white-icons [is=ui-icon].spritesheet-largeicons,.force-white-icons [is=ui-icon].spritesheet-mediumicons,.force-white-icons [is=ui-icon].spritesheet-smallicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-largeicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-mediumicons,:host-context(.force-white-icons) [is=ui-icon].spritesheet-smallicons,[is=ui-icon].force-white-icons.spritesheet-largeicons,[is=ui-icon].force-white-icons.spritesheet-mediumicons,[is=ui-icon].force-white-icons.spritesheet-smallicons,[is=ui-icon].icon-mask{forced-color-adjust:none;background-color:ButtonText}.harmony-input:not([type]),.harmony-input[type=number],.harmony-input[type=text]{border:1px solid ButtonText}.harmony-input:not([type]):focus,.harmony-input[type=number]:focus,.harmony-input[type=text]:focus{border:1px solid Highlight}}input.custom-search-input::-webkit-search-cancel-button{appearance:none;cursor:pointer;width:16px;height:15px;margin-right:0;background-position:-32px 32px;background-image:var(--image-file-mediumIcons)}.spinner::before{display:block;width:var(--dimension,24px);height:var(--dimension,24px);border:var(--override-spinner-size,3px) solid var(--override-spinner-color,var(--color-text-secondary));border-radius:12px;clip:rect(0,var(--clip-size,15px),var(--clip-size,15px),0);content:"";position:absolute;animation:spinner-animation 1s linear infinite;box-sizing:border-box}@keyframes spinner-animation{from{transform:rotate(0)}to{transform:rotate(360deg)}}.adorner-container{display:inline-block}.adorner-container.hidden{display:none}.adorner-container devtools-adorner{margin-left:3px}:host-context(.-theme-with-dark-background) devtools-adorner{--override-adorner-background-color:rgb(var(--color-syntax-2-rgb) / 15%);--override-adorner-border-color:rgb(var(--color-syntax-2-rgb) / 50%);--override-adorner-focus-border-color:var(--color-syntax-2);--override-adorner-active-background-color:var(--color-syntax-8)}.panel{display:flex;overflow:hidden;position:absolute;top:0;left:0;right:0;bottom:0;z-index:0;background-color:var(--color-background)}.panel-sidebar{overflow-x:hidden;background-color:var(--color-background-elevation-1)}iframe.extension{flex:auto;width:100%;height:100%}iframe.panel.extension{display:block;height:100%}@media (forced-colors:active){:root{--legacy-accent-color:Highlight;--legacy-focus-ring-inactive-shadow-color:ButtonText}}\n/*# sourceURL=inspectorCommon.css */\n');const Be=new CSSStyleSheet;Be.replaceSync(".devtools-link{color:var(--color-link);text-decoration:underline;cursor:pointer;padding:2px 0}.devtools-link:focus-visible{outline-width:unset}input.devtools-text-input[type=text]{padding:3px 6px;margin-left:4px;margin-right:4px;width:250px;height:25px}.protocol-handlers-row{margin:10px 0 2px 18px}.inline-icon{vertical-align:text-bottom}@media (forced-colors:active){.devtools-link:not(.devtools-link-prevent-click){color:linktext}.devtools-link:focus-visible{background:Highlight;color:HighlightText}}\n/*# sourceURL=protocolHandlersView.css */\n");const Oe={protocolDetected:"Found valid protocol handler registration in the {PH1}. With the app installed, test the registered protocols.",protocolNotDetected:"Define protocol handlers in the {PH1} to register your app as a handler for custom protocols when your app is installed.",needHelpReadOur:"Need help? Read {PH1}.",protocolHandlerRegistrations:"URL protocol handler registration for PWAs",manifest:"manifest",testProtocol:"Test protocol",dropdownLabel:"Select protocol handler",textboxLabel:"Query parameter or endpoint for protocol handler"},Ue=e.i18n.registerUIStrings("panels/application/components/ProtocolHandlersView.ts",Oe),We=e.i18n.getLocalizedString.bind(void 0,Ue);class qe extends HTMLElement{static litTagName=a.literal`devtools-protocol-handlers-view`;#a=this.attachShadow({mode:"open"});#fe=[];#ve=w.DevToolsPath.EmptyUrlString;#ke="";#Te="";set data(e){const t=this.#ve!==e.manifestLink;this.#fe=e.protocolHandlers,this.#ve=e.manifestLink,t&&this.#ye()}#ye(){this.#Te="",this.#ke=this.#fe[0]?.protocol??"",this.#n()}#Se(){const t=n.XLink.XLink.create(this.#ve,We(Oe.manifest)),r=this.#fe.length>0?Oe.protocolDetected:Oe.protocolNotDetected,o={iconName:this.#fe.length>0?"ic_checkmark_16x16":"ic_info_black_18dp",color:this.#fe.length>0?"var( --color-ic-file-image)":"var(--color-link)",width:"16px"};return a.html` <div class="protocol-handlers-row status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${o}"> </${s.Icon.Icon.litTagName}> ${e.i18n.getFormatLocalizedString(Ue,r,{PH1:t})} </div> `}#Re(){if(0===this.#fe.length)return a.nothing;const e=this.#fe.filter((e=>e.protocol)).map((e=>a.html`<option value="${e.protocol}">${e.protocol}://`));return a.html` <div class="protocol-handlers-row"> <select class="chrome-select protocol-select" @change="${this.#xe}" aria-label="${We(Oe.dropdownLabel)}"> ${e} </select> <input .value="${this.#Te}" class="devtools-text-input" type="text" @change="${this.#Ce}" aria-label="${We(Oe.textboxLabel)}/"> <${t.Button.Button.litTagName} .variant="${"primary"}" @click="${this.#$e}"> ${We(Oe.testProtocol)} </${t.Button.Button.litTagName}> </div> `}#xe=e=>{this.#ke=e.target.value};#Ce=e=>{this.#Te=e.target.value,this.#n()};#$e=()=>{const e=`${this.#ke}://${this.#Te}`;T.InspectorFrontendHost.InspectorFrontendHostInstance.openInNewTab(e),T.userMetrics.actionTaken(T.UserMetrics.Action.CaptureTestProtocolClicked)};connectedCallback(){this.#a.adoptedStyleSheets=[Be,He,y.textInputStyles]}#n(){const t=n.XLink.XLink.create("https://web.dev/url-protocol-handler/",We(Oe.protocolHandlerRegistrations));a.render(a.html` ${this.#Se()} <div class="protocol-handlers-row"> ${e.i18n.getFormatLocalizedString(Ue,Oe.needHelpReadOur,{PH1:t})} </div> ${this.#Re()} `,this.#a,{host:this})}}l.CustomElements.defineComponent("devtools-protocol-handlers-view",qe);var _e=Object.freeze({__proto__:null,ProtocolHandlersView:qe});const ze={noReportsToDisplay:"No reports to display",status:"Status",destination:"Destination",generatedAt:"Generated at"},Ge=e.i18n.registerUIStrings("panels/application/components/ReportsGrid.ts",ze),je=e.i18n.getLocalizedString.bind(void 0,Ge),{render:Ke,html:Xe}=a;class Je extends HTMLElement{static litTagName=a.literal`devtools-resources-reports-grid-status-header`;#a=this.attachShadow({mode:"open"});connectedCallback(){this.#a.adoptedStyleSheets=[A],this.#n()}#n(){Ke(Xe` ${je(ze.status)} <x-link href="https://web.dev/reporting-api/#report-status"> <${s.Icon.Icon.litTagName} class="inline-icon" .data="${{iconName:"help_outline",color:"var(--color-primary)",width:"16px",height:"16px"}}"></${s.Icon.Icon.litTagName}> </x-link> `,this.#a,{host:this})}}class Qe extends HTMLElement{static litTagName=a.literal`devtools-resources-reports-grid`;#a=this.attachShadow({mode:"open"});#Ne=[];#W=!1;connectedCallback(){this.#a.adoptedStyleSheets=[A],this.#W=o.Runtime.experiments.isEnabled("protocolMonitor"),this.#n()}set data(e){this.#Ne=e.reports,this.#n()}#n(){const t={columns:[{id:"url",title:e.i18n.lockedString("URL"),widthWeighting:30,hideable:!1,visible:!0},{id:"type",title:e.i18n.lockedString("Type"),widthWeighting:20,hideable:!1,visible:!0},{id:"status",title:je(ze.status),widthWeighting:20,hideable:!1,visible:!0,titleElement:Xe` <${Je.litTagName}></${Je.litTagName}> `},{id:"destination",title:je(ze.destination),widthWeighting:20,hideable:!1,visible:!0},{id:"timestamp",title:je(ze.generatedAt),widthWeighting:20,hideable:!1,visible:!0},{id:"body",title:e.i18n.lockedString("Body"),widthWeighting:20,hideable:!1,visible:!0}],rows:this.#y()};this.#W&&t.columns.unshift({id:"id",title:"ID",widthWeighting:30,hideable:!1,visible:!0}),Ke(Xe` <div class="reporting-container"> <div class="reporting-header">${e.i18n.lockedString("Reports")}</div> ${this.#Ne.length>0?Xe` <${m.DataGridController.DataGridController.litTagName} .data="${t}"> </${m.DataGridController.DataGridController.litTagName}> `:Xe` <div class="reporting-placeholder"> <div>${je(ze.noReportsToDisplay)}</div> </div> `} </div> `,this.#a,{host:this})}#y(){return this.#Ne.map((e=>({cells:[{columnId:"id",value:e.id},{columnId:"url",value:e.initiatorUrl},{columnId:"type",value:e.type},{columnId:"status",value:e.status},{columnId:"destination",value:e.destination},{columnId:"timestamp",value:new Date(1e3*e.timestamp).toLocaleString()},{columnId:"body",value:JSON.stringify(e.body)}]})))}}l.CustomElements.defineComponent("devtools-resources-reports-grid-status-header",Je),l.CustomElements.defineComponent("devtools-resources-reports-grid",Qe);var Ye=Object.freeze({__proto__:null,i18nString:je,ReportsGridStatusHeader:Je,ReportsGrid:Qe});const Ze=new CSSStyleSheet;Ze.replaceSync(":host{padding:20px}.heading{font-size:15px}devtools-data-grid-controller{border:1px solid var(--color-details-hairline);margin-top:20px}.info-icon{vertical-align:text-bottom;height:14px}.no-tt-message{margin-top:20px}\n/*# sourceURL=trustTokensView.css */\n");const et=new CSSStyleSheet;et.replaceSync(".delete-button{width:16px;height:16px;background:0 0;overflow:hidden;border:none;padding:0;outline:0}.delete-button:hover devtools-icon{--icon-color:var(--color-text-primary)}.delete-button:focus devtools-icon{--icon-color:var(--color-text-secondary)}.button-container{display:block;text-align:center}\n/*# sourceURL=trustTokensViewDeleteButton.css */\n");const tt={issuer:"Issuer",storedTokenCount:"Stored token count",allStoredTrustTokensAvailableIn:"All stored Trust Tokens available in this browser instance.",noTrustTokensStored:"No Trust Tokens are currently stored.",deleteTrustTokens:"Delete all stored Trust Tokens issued by {PH1}."},rt=e.i18n.registerUIStrings("panels/application/components/TrustTokensView.ts",tt),at=e.i18n.getLocalizedString.bind(void 0,rt);class ot extends HTMLElement{static litTagName=a.literal`devtools-trust-tokens-delete-button`;#a=this.attachShadow({mode:"open"});#Pe=null;#Ie=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[et]}set data(e){this.#Pe=e.issuer,this.#Ie=e.deleteClickHandler,this.#n()}#n(){this.#Pe&&a.render(a.html` <span class="button-container"> <button class="delete-button" title="${at(tt.deleteTrustTokens,{PH1:this.#Pe})}" @click="${()=>this.#Ie(this.#Pe)}"> <${s.Icon.Icon.litTagName} .data="${{iconName:"trash_bin_icon",color:"var(--color-text-secondary)",width:"9px",height:"14px"}}"> </${s.Icon.Icon.litTagName}> </button> </span>`,this.#a,{host:this})}}class it extends HTMLElement{static litTagName=a.literal`devtools-trust-tokens-storage-view`;#a=this.attachShadow({mode:"open"});#De=[];#Ie=()=>{};connectedCallback(){this.#a.adoptedStyleSheets=[Ze],this.#n()}set data(e){this.#De=e.tokens,this.#Ie=e.deleteClickHandler,this.#n()}#n(){a.render(a.html` <div> <span class="heading">Trust Tokens</span> <${s.Icon.Icon.litTagName} class="info-icon" title="${at(tt.allStoredTrustTokensAvailableIn)}" .data="${{iconName:"ic_info_black_18dp",color:"var(--color-link)",width:"14px"}}"> </${s.Icon.Icon.litTagName}> ${this.#pe()} </div> `,this.#a,{host:this})}#pe(){if(0===this.#De.length)return a.html`<div class="no-tt-message">${at(tt.noTrustTokensStored)}</div>`;const e={columns:[{id:"issuer",title:at(tt.issuer),widthWeighting:10,hideable:!1,visible:!0,sortable:!0},{id:"count",title:at(tt.storedTokenCount),widthWeighting:5,hideable:!1,visible:!0,sortable:!0},{id:"delete-button",title:"",widthWeighting:1,hideable:!1,visible:!0,sortable:!1}],rows:this.#Ee(),initialSort:{columnId:"issuer",direction:"ASC"}};return a.html` <${m.DataGridController.DataGridController.litTagName} .data="${e}"></${m.DataGridController.DataGridController.litTagName}> `}#Ee(){return this.#De.filter((e=>e.count>0)).map((e=>({cells:[{columnId:"delete-button",value:nt(e.issuerOrigin),renderer:this.#Me.bind(this)},{columnId:"issuer",value:nt(e.issuerOrigin)},{columnId:"count",value:e.count}]})))}#Me(e){return a.html`<${ot.litTagName} .data="${{issuer:e,deleteClickHandler:this.#Ie}}"></${ot.litTagName}>`}}function nt(e){return e.replace(/\/$/,"")}l.CustomElements.defineComponent("devtools-trust-tokens-delete-button",ot),l.CustomElements.defineComponent("devtools-trust-tokens-storage-view",it);var st=Object.freeze({__proto__:null,i18nString:at,TrustTokensView:it});export{F as BackForwardCacheView,W as EndpointsGrid,De as FrameDetailsView,Le as InterestGroupAccessGrid,ve as OriginTrialTreeView,_e as ProtocolHandlersView,Ye as ReportsGrid,Q as StackTrace,st as TrustTokensView};
