import"../shell/shell.js";import*as e from"../../core/sdk/sdk.js";import*as t from"../../ui/legacy/legacy.js";import*as i from"../../core/i18n/i18n.js";import*as o from"../../core/root/root.js";import*as n from"../../core/common/common.js";import*as a from"../../models/issues_manager/issues_manager.js";import*as r from"../../models/workspace/workspace.js";import*as s from"../../panels/network/forward/forward.js";import*as l from"../../panels/mobile_throttling/mobile_throttling.js";import*as c from"../../ui/legacy/components/utils/utils.js";import*as g from"../main/main.js";const d={showEventListenerBreakpoints:"Show Event Listener Breakpoints",eventListenerBreakpoints:"Event Listener Breakpoints",showCspViolationBreakpoints:"Show CSP Violation Breakpoints",cspViolationBreakpoints:"CSP Violation Breakpoints",showXhrfetchBreakpoints:"Show XHR/fetch Breakpoints",xhrfetchBreakpoints:"XHR/fetch Breakpoints",showDomBreakpoints:"Show DOM Breakpoints",domBreakpoints:"DOM Breakpoints",showGlobalListeners:"Show Global Listeners",globalListeners:"Global Listeners",page:"Page",showPage:"Show Page",overrides:"Overrides",showOverrides:"Show Overrides",contentScripts:"Content scripts",showContentScripts:"Show Content scripts"},m=i.i18n.registerUIStrings("panels/browser_debugger/browser_debugger-meta.ts",d),p=i.i18n.getLazilyComputedLocalizedString.bind(void 0,m);let w,y;async function u(){return w||(w=await import("../../panels/browser_debugger/browser_debugger.js")),w}async function S(){return y||(y=await import("../../panels/sources/sources.js")),y}t.ViewManager.registerViewExtension({loadView:async()=>(await u()).EventListenerBreakpointsSidebarPane.EventListenerBreakpointsSidebarPane.instance(),id:"sources.eventListenerBreakpoints",location:"sources.sidebar-bottom",commandPrompt:p(d.showEventListenerBreakpoints),title:p(d.eventListenerBreakpoints),order:9,persistence:"permanent"}),t.ViewManager.registerViewExtension({loadView:async()=>(await u()).CSPViolationBreakpointsSidebarPane.CSPViolationBreakpointsSidebarPane.instance(),id:"sources.cspViolationBreakpoints",location:"sources.sidebar-bottom",commandPrompt:p(d.showCspViolationBreakpoints),title:p(d.cspViolationBreakpoints),order:10,persistence:"permanent"}),t.ViewManager.registerViewExtension({loadView:async()=>(await u()).XHRBreakpointsSidebarPane.XHRBreakpointsSidebarPane.instance(),id:"sources.xhrBreakpoints",location:"sources.sidebar-bottom",commandPrompt:p(d.showXhrfetchBreakpoints),title:p(d.xhrfetchBreakpoints),order:5,persistence:"permanent",hasToolbar:!0}),t.ViewManager.registerViewExtension({loadView:async()=>(await u()).DOMBreakpointsSidebarPane.DOMBreakpointsSidebarPane.instance(),id:"sources.domBreakpoints",location:"sources.sidebar-bottom",commandPrompt:p(d.showDomBreakpoints),title:p(d.domBreakpoints),order:7,persistence:"permanent"}),t.ViewManager.registerViewExtension({loadView:async()=>(await u()).ObjectEventListenersSidebarPane.ObjectEventListenersSidebarPane.instance(),id:"sources.globalListeners",location:"sources.sidebar-bottom",commandPrompt:p(d.showGlobalListeners),title:p(d.globalListeners),order:8,persistence:"permanent",hasToolbar:!0}),t.ViewManager.registerViewExtension({loadView:async()=>(await u()).DOMBreakpointsSidebarPane.DOMBreakpointsSidebarPane.instance(),id:"elements.domBreakpoints",location:"elements-sidebar",commandPrompt:p(d.showDomBreakpoints),title:p(d.domBreakpoints),order:6,persistence:"permanent"}),t.ViewManager.registerViewExtension({location:"navigator-view",id:"navigator-network",title:p(d.page),commandPrompt:p(d.showPage),order:2,persistence:"permanent",loadView:async()=>(await S()).SourcesNavigator.NetworkNavigatorView.instance()}),t.ViewManager.registerViewExtension({location:"navigator-view",id:"navigator-overrides",title:p(d.overrides),commandPrompt:p(d.showOverrides),order:4,persistence:"permanent",loadView:async()=>(await S()).SourcesNavigator.OverridesNavigatorView.instance()}),t.ViewManager.registerViewExtension({location:"navigator-view",id:"navigator-contentScripts",title:p(d.contentScripts),commandPrompt:p(d.showContentScripts),order:5,persistence:"permanent",loadView:async()=>(await S()).SourcesNavigator.ContentScriptsNavigatorView.instance()}),t.ContextMenu.registerProvider({contextTypes:()=>[e.DOMModel.DOMNode],loadProvider:async()=>(await u()).DOMBreakpointsSidebarPane.ContextMenuProvider.instance(),experiment:void 0}),t.Context.registerListener({contextTypes:()=>[e.DebuggerModel.DebuggerPausedDetails],loadListener:async()=>(await u()).XHRBreakpointsSidebarPane.XHRBreakpointsSidebarPane.instance()}),t.Context.registerListener({contextTypes:()=>[e.DebuggerModel.DebuggerPausedDetails],loadListener:async()=>(await u()).DOMBreakpointsSidebarPane.DOMBreakpointsSidebarPane.instance()});const R={developerResources:"Developer Resources",showDeveloperResources:"Show Developer Resources"},E=i.i18n.registerUIStrings("panels/developer_resources/developer_resources-meta.ts",R),A=i.i18n.getLazilyComputedLocalizedString.bind(void 0,E);let h;t.ViewManager.registerViewExtension({location:"drawer-view",id:"resource-loading-pane",title:A(R.developerResources),commandPrompt:A(R.showDeveloperResources),order:100,persistence:"closeable",experiment:o.Runtime.ExperimentName.DEVELOPER_RESOURCES_VIEW,loadView:async()=>(await async function(){return h||(h=await import("../../panels/developer_resources/developer_resources.js")),h}()).DeveloperResourcesView.DeveloperResourcesView.instance()});const T={showElements:"Show Elements",elements:"Elements",showEventListeners:"Show Event Listeners",eventListeners:"Event Listeners",showProperties:"Show Properties",properties:"Properties",showStackTrace:"Show Stack Trace",stackTrace:"Stack Trace",showLayout:"Show Layout",layout:"Layout",hideElement:"Hide element",editAsHtml:"Edit as HTML",duplicateElement:"Duplicate element",undo:"Undo",redo:"Redo",captureAreaScreenshot:"Capture area screenshot",selectAnElementInThePageTo:"Select an element in the page to inspect it",wordWrap:"Word wrap",enableDomWordWrap:"Enable `DOM` word wrap",disableDomWordWrap:"Disable `DOM` word wrap",showHtmlComments:"Show `HTML` comments",hideHtmlComments:"Hide `HTML` comments",revealDomNodeOnHover:"Reveal `DOM` node on hover",showDetailedInspectTooltip:"Show detailed inspect tooltip",copyStyles:"Copy styles",showUserAgentShadowDOM:"Show user agent shadow `DOM`"},v=i.i18n.registerUIStrings("panels/elements/elements-meta.ts",T),P=i.i18n.getLazilyComputedLocalizedString.bind(void 0,v);let C;async function k(){return C||(C=await import("../../panels/elements/elements.js")),C}function b(e){return void 0===C?[]:e(C)}t.ViewManager.registerViewExtension({location:"panel",id:"elements",commandPrompt:P(T.showElements),title:P(T.elements),order:10,persistence:"permanent",hasToolbar:!1,loadView:async()=>(await k()).ElementsPanel.ElementsPanel.instance()}),t.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.eventListeners",commandPrompt:P(T.showEventListeners),title:P(T.eventListeners),order:5,hasToolbar:!0,persistence:"permanent",loadView:async()=>(await k()).EventListenersWidget.EventListenersWidget.instance()}),t.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.domProperties",commandPrompt:P(T.showProperties),title:P(T.properties),order:7,persistence:"permanent",loadView:async()=>(await k()).PropertiesWidget.PropertiesWidget.instance()}),t.ViewManager.registerViewExtension({experiment:o.Runtime.ExperimentName.CAPTURE_NODE_CREATION_STACKS,location:"elements-sidebar",id:"elements.domCreation",commandPrompt:P(T.showStackTrace),title:P(T.stackTrace),order:10,persistence:"permanent",loadView:async()=>(await k()).NodeStackTraceWidget.NodeStackTraceWidget.instance()}),t.ViewManager.registerViewExtension({location:"elements-sidebar",id:"elements.layout",commandPrompt:P(T.showLayout),title:P(T.layout),order:4,persistence:"permanent",loadView:async()=>(await k()).LayoutSidebarPane.LayoutSidebarPane.instance()}),t.ActionRegistration.registerActionExtension({actionId:"elements.hide-element",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.hideElement),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"H"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.edit-as-html",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.editAsHtml),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"F2"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.duplicate-element",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.duplicateElement),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Shift+Alt+Down"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.copy-styles",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.copyStyles),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Alt+C",platform:"windows,linux"},{shortcut:"Meta+Alt+C",platform:"mac"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.undo",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.undo),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Z",platform:"windows,linux"},{shortcut:"Meta+Z",platform:"mac"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.redo",category:t.ActionRegistration.ActionCategory.ELEMENTS,title:P(T.redo),loadActionDelegate:async()=>(await k()).ElementsPanel.ElementsActionDelegate.instance(),contextTypes:()=>b((e=>[e.ElementsPanel.ElementsPanel])),bindings:[{shortcut:"Ctrl+Y",platform:"windows,linux"},{shortcut:"Meta+Shift+Z",platform:"mac"}]}),t.ActionRegistration.registerActionExtension({actionId:"elements.capture-area-screenshot",loadActionDelegate:async()=>(await k()).InspectElementModeController.ToggleSearchActionDelegate.instance(),condition:o.Runtime.ConditionName.CAN_DOCK,title:P(T.captureAreaScreenshot),category:t.ActionRegistration.ActionCategory.SCREENSHOT}),t.ActionRegistration.registerActionExtension({category:t.ActionRegistration.ActionCategory.ELEMENTS,actionId:"elements.toggle-element-search",toggleable:!0,loadActionDelegate:async()=>(await k()).InspectElementModeController.ToggleSearchActionDelegate.instance(),title:P(T.selectAnElementInThePageTo),iconClass:"largeicon-node-search",bindings:[{shortcut:"Ctrl+Shift+C",platform:"windows,linux"},{shortcut:"Meta+Shift+C",platform:"mac"}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ELEMENTS,storageType:n.Settings.SettingStorageType.Synced,order:1,title:P(T.showUserAgentShadowDOM),settingName:"showUAShadowDOM",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!1}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ELEMENTS,storageType:n.Settings.SettingStorageType.Synced,order:2,title:P(T.wordWrap),settingName:"domWordWrap",settingType:n.Settings.SettingType.BOOLEAN,options:[{value:!0,title:P(T.enableDomWordWrap)},{value:!1,title:P(T.disableDomWordWrap)}],defaultValue:!0}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ELEMENTS,storageType:n.Settings.SettingStorageType.Synced,order:3,title:P(T.showHtmlComments),settingName:"showHTMLComments",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!0,options:[{value:!0,title:P(T.showHtmlComments)},{value:!1,title:P(T.hideHtmlComments)}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ELEMENTS,storageType:n.Settings.SettingStorageType.Synced,order:4,title:P(T.revealDomNodeOnHover),settingName:"highlightNodeOnHoverInOverlay",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!0}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ELEMENTS,storageType:n.Settings.SettingStorageType.Synced,order:5,title:P(T.showDetailedInspectTooltip),settingName:"showDetailedInspectTooltip",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!0}),n.Settings.registerSettingExtension({settingName:"showEventListenersForAncestors",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!0}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.ADORNER,storageType:n.Settings.SettingStorageType.Synced,settingName:"adornerSettings",settingType:n.Settings.SettingType.ARRAY,defaultValue:[]}),t.ContextMenu.registerProvider({contextTypes:()=>[e.RemoteObject.RemoteObject,e.DOMModel.DOMNode,e.DOMModel.DeferredDOMNode],loadProvider:async()=>(await k()).ElementsPanel.ContextMenuProvider.instance(),experiment:void 0}),t.ViewManager.registerLocationResolver({name:"elements-sidebar",category:t.ViewManager.ViewLocationCategoryValues.ELEMENTS,loadResolver:async()=>(await k()).ElementsPanel.ElementsPanel.instance()}),n.Revealer.registerRevealer({contextTypes:()=>[e.DOMModel.DOMNode,e.DOMModel.DeferredDOMNode,e.RemoteObject.RemoteObject],destination:n.Revealer.RevealerDestination.ELEMENTS_PANEL,loadRevealer:async()=>(await k()).ElementsPanel.DOMNodeRevealer.instance()}),n.Revealer.registerRevealer({contextTypes:()=>[e.CSSProperty.CSSProperty],destination:n.Revealer.RevealerDestination.STYLES_SIDEBAR,loadRevealer:async()=>(await k()).ElementsPanel.CSSPropertyRevealer.instance()}),t.Toolbar.registerToolbarItem({loadItem:async()=>(await k()).LayersWidget.ButtonProvider.instance(),order:1,location:t.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),t.Toolbar.registerToolbarItem({loadItem:async()=>(await k()).ElementStatePaneWidget.ButtonProvider.instance(),order:2,location:t.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),t.Toolbar.registerToolbarItem({loadItem:async()=>(await k()).ClassesPaneWidget.ButtonProvider.instance(),order:3,location:t.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),t.Toolbar.registerToolbarItem({loadItem:async()=>(await k()).StylesSidebarPane.ButtonProvider.instance(),order:100,location:t.Toolbar.ToolbarItemLocation.STYLES_SIDEBARPANE_TOOLBAR,showLabel:void 0,condition:void 0,separator:void 0,actionId:void 0}),t.Toolbar.registerToolbarItem({actionId:"elements.toggle-element-search",location:t.Toolbar.ToolbarItemLocation.MAIN_TOOLBAR_LEFT,order:0,showLabel:void 0,condition:void 0,separator:void 0,loadItem:void 0}),t.UIUtils.registerRenderer({contextTypes:()=>[e.DOMModel.DOMNode,e.DOMModel.DeferredDOMNode],loadRenderer:async()=>(await k()).ElementsTreeOutline.Renderer.instance()}),n.Linkifier.registerLinkifier({contextTypes:()=>[e.DOMModel.DOMNode,e.DOMModel.DeferredDOMNode],loadLinkifier:async()=>(await k()).DOMLinkifier.Linkifier.instance()});const f={issues:"Issues",showIssues:"Show Issues",cspViolations:"CSP Violations",showCspViolations:"Show CSP Violations"},L=i.i18n.registerUIStrings("panels/issues/issues-meta.ts",f),N=i.i18n.getLazilyComputedLocalizedString.bind(void 0,L);let D;async function M(){return D||(D=await import("../../panels/issues/issues.js")),D}t.ViewManager.registerViewExtension({location:"drawer-view",id:"issues-pane",title:N(f.issues),commandPrompt:N(f.showIssues),order:100,persistence:"closeable",loadView:async()=>(await M()).IssuesPane.IssuesPane.instance()}),t.ViewManager.registerViewExtension({location:"drawer-view",id:"csp-violations-pane",title:N(f.cspViolations),commandPrompt:N(f.showCspViolations),order:100,persistence:"closeable",loadView:async()=>(await M()).CSPViolationsView.CSPViolationsView.instance(),experiment:o.Runtime.ExperimentName.CSP_VIOLATIONS_VIEW}),n.Revealer.registerRevealer({contextTypes:()=>[a.Issue.Issue],destination:n.Revealer.RevealerDestination.ISSUES_VIEW,loadRevealer:async()=>(await M()).IssueRevealer.IssueRevealer.instance()});const x={resetView:"Reset view",switchToPanMode:"Switch to pan mode",switchToRotateMode:"Switch to rotate mode",zoomIn:"Zoom in",zoomOut:"Zoom out",panOrRotateUp:"Pan or rotate up",panOrRotateDown:"Pan or rotate down",panOrRotateLeft:"Pan or rotate left",panOrRotateRight:"Pan or rotate right"},I=i.i18n.registerUIStrings("panels/layer_viewer/layer_viewer-meta.ts",x),O=i.i18n.getLazilyComputedLocalizedString.bind(void 0,I);t.ActionRegistration.registerActionExtension({actionId:"layers.reset-view",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.resetView),bindings:[{shortcut:"0"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.pan-mode",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.switchToPanMode),bindings:[{shortcut:"x"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.rotate-mode",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.switchToRotateMode),bindings:[{shortcut:"v"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.zoom-in",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.zoomIn),bindings:[{shortcut:"Shift+Plus"},{shortcut:"NumpadPlus"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.zoom-out",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.zoomOut),bindings:[{shortcut:"Shift+Minus"},{shortcut:"NumpadMinus"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.up",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.panOrRotateUp),bindings:[{shortcut:"Up"},{shortcut:"w"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.down",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.panOrRotateDown),bindings:[{shortcut:"Down"},{shortcut:"s"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.left",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.panOrRotateLeft),bindings:[{shortcut:"Left"},{shortcut:"a"}]}),t.ActionRegistration.registerActionExtension({actionId:"layers.right",category:t.ActionRegistration.ActionCategory.LAYERS,title:O(x.panOrRotateRight),bindings:[{shortcut:"Right"},{shortcut:"d"}]});const V={throttling:"Throttling",showThrottling:"Show Throttling",goOffline:"Go offline",device:"device",throttlingTag:"throttling",enableSlowGThrottling:"Enable slow `3G` throttling",enableFastGThrottling:"Enable fast `3G` throttling",goOnline:"Go online"},B=i.i18n.registerUIStrings("panels/mobile_throttling/mobile_throttling-meta.ts",V),_=i.i18n.getLazilyComputedLocalizedString.bind(void 0,B);let W;async function U(){return W||(W=await import("../../panels/mobile_throttling/mobile_throttling.js")),W}t.ViewManager.registerViewExtension({location:"settings-view",id:"throttling-conditions",title:_(V.throttling),commandPrompt:_(V.showThrottling),order:35,loadView:async()=>(await U()).ThrottlingSettingsTab.ThrottlingSettingsTab.instance(),settings:["customNetworkConditions"]}),t.ActionRegistration.registerActionExtension({actionId:"network-conditions.network-offline",category:t.ActionRegistration.ActionCategory.NETWORK,title:_(V.goOffline),loadActionDelegate:async()=>(await U()).ThrottlingManager.ActionDelegate.instance(),tags:[_(V.device),_(V.throttlingTag)]}),t.ActionRegistration.registerActionExtension({actionId:"network-conditions.network-low-end-mobile",category:t.ActionRegistration.ActionCategory.NETWORK,title:_(V.enableSlowGThrottling),loadActionDelegate:async()=>(await U()).ThrottlingManager.ActionDelegate.instance(),tags:[_(V.device),_(V.throttlingTag)]}),t.ActionRegistration.registerActionExtension({actionId:"network-conditions.network-mid-tier-mobile",category:t.ActionRegistration.ActionCategory.NETWORK,title:_(V.enableFastGThrottling),loadActionDelegate:async()=>(await U()).ThrottlingManager.ActionDelegate.instance(),tags:[_(V.device),_(V.throttlingTag)]}),t.ActionRegistration.registerActionExtension({actionId:"network-conditions.network-online",category:t.ActionRegistration.ActionCategory.NETWORK,title:_(V.goOnline),loadActionDelegate:async()=>(await U()).ThrottlingManager.ActionDelegate.instance(),tags:[_(V.device),_(V.throttlingTag)]}),n.Settings.registerSettingExtension({storageType:n.Settings.SettingStorageType.Synced,settingName:"customNetworkConditions",settingType:n.Settings.SettingType.ARRAY,defaultValue:[]});const F={showNetwork:"Show Network",network:"Network",showNetworkRequestBlocking:"Show Network request blocking",networkRequestBlocking:"Network request blocking",showNetworkConditions:"Show Network conditions",networkConditions:"Network conditions",diskCache:"disk cache",networkThrottling:"network throttling",showSearch:"Show Search",search:"Search",recordNetworkLog:"Record network log",stopRecordingNetworkLog:"Stop recording network log",hideRequestDetails:"Hide request details",colorcodeResourceTypes:"Color-code resource types",colorCode:"color code",resourceType:"resource type",colorCodeByResourceType:"Color code by resource type",useDefaultColors:"Use default colors",groupNetworkLogByFrame:"Group network log by frame",netWork:"network",frame:"frame",group:"group",groupNetworkLogItemsByFrame:"Group network log items by frame",dontGroupNetworkLogItemsByFrame:"Don't group network log items by frame",enableUNCLoading:"Allow `DevTools` to load resources, such as source maps, from Windows Shares via `UNC` paths. Disabled by default for security reasons."},j=i.i18n.registerUIStrings("panels/network/network-meta.ts",F),z=i.i18n.getLazilyComputedLocalizedString.bind(void 0,j);let H;async function q(){return H||(H=await import("../../panels/network/network.js")),H}function Y(e){return void 0===H?[]:e(H)}t.ViewManager.registerViewExtension({location:"panel",id:"network",commandPrompt:z(F.showNetwork),title:z(F.network),order:40,loadView:async()=>(await q()).NetworkPanel.NetworkPanel.instance()}),t.ViewManager.registerViewExtension({location:"drawer-view",id:"network.blocked-urls",commandPrompt:z(F.showNetworkRequestBlocking),title:z(F.networkRequestBlocking),persistence:"closeable",order:60,loadView:async()=>(await q()).BlockedURLsPane.BlockedURLsPane.instance()}),t.ViewManager.registerViewExtension({location:"drawer-view",id:"network.config",commandPrompt:z(F.showNetworkConditions),title:z(F.networkConditions),persistence:"closeable",order:40,tags:[z(F.diskCache),z(F.networkThrottling),i.i18n.lockedLazyString("useragent"),i.i18n.lockedLazyString("user agent"),i.i18n.lockedLazyString("user-agent")],loadView:async()=>(await q()).NetworkConfigView.NetworkConfigView.instance()}),t.ViewManager.registerViewExtension({location:"network-sidebar",id:"network.search-network-tab",commandPrompt:z(F.showSearch),title:z(F.search),persistence:"permanent",loadView:async()=>(await q()).NetworkPanel.SearchNetworkView.instance()}),t.ActionRegistration.registerActionExtension({actionId:"network.toggle-recording",category:t.ActionRegistration.ActionCategory.NETWORK,iconClass:"largeicon-start-recording",toggleable:!0,toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:!0,contextTypes:()=>Y((e=>[e.NetworkPanel.NetworkPanel])),loadActionDelegate:async()=>(await q()).NetworkPanel.ActionDelegate.instance(),options:[{value:!0,title:z(F.recordNetworkLog)},{value:!1,title:z(F.stopRecordingNetworkLog)}],bindings:[{shortcut:"Ctrl+E",platform:"windows,linux"},{shortcut:"Meta+E",platform:"mac"}]}),t.ActionRegistration.registerActionExtension({actionId:"network.hide-request-details",category:t.ActionRegistration.ActionCategory.NETWORK,title:z(F.hideRequestDetails),contextTypes:()=>Y((e=>[e.NetworkPanel.NetworkPanel])),loadActionDelegate:async()=>(await q()).NetworkPanel.ActionDelegate.instance(),bindings:[{shortcut:"Esc"}]}),t.ActionRegistration.registerActionExtension({actionId:"network.search",category:t.ActionRegistration.ActionCategory.NETWORK,title:z(F.search),contextTypes:()=>Y((e=>[e.NetworkPanel.NetworkPanel])),loadActionDelegate:async()=>(await q()).NetworkPanel.ActionDelegate.instance(),bindings:[{platform:"mac",shortcut:"Meta+F",keybindSets:["devToolsDefault","vsCode"]},{platform:"windows,linux",shortcut:"Ctrl+F",keybindSets:["devToolsDefault","vsCode"]}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.NETWORK,storageType:n.Settings.SettingStorageType.Synced,title:z(F.colorcodeResourceTypes),settingName:"networkColorCodeResourceTypes",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!1,tags:[z(F.colorCode),z(F.resourceType)],options:[{value:!0,title:z(F.colorCodeByResourceType)},{value:!1,title:z(F.useDefaultColors)}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.NETWORK,storageType:n.Settings.SettingStorageType.Synced,title:z(F.groupNetworkLogByFrame),settingName:"network.group-by-frame",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!1,tags:[z(F.netWork),z(F.frame),z(F.group)],options:[{value:!0,title:z(F.groupNetworkLogItemsByFrame)},{value:!1,title:z(F.dontGroupNetworkLogItemsByFrame)}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.SOURCES,storageType:n.Settings.SettingStorageType.Synced,title:z(F.enableUNCLoading),settingName:"network.enable-unc-loading",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!1}),t.ViewManager.registerLocationResolver({name:"network-sidebar",category:t.ViewManager.ViewLocationCategoryValues.NETWORK,loadResolver:async()=>(await q()).NetworkPanel.NetworkPanel.instance()}),t.ContextMenu.registerProvider({contextTypes:()=>[e.NetworkRequest.NetworkRequest,e.Resource.Resource,r.UISourceCode.UISourceCode],loadProvider:async()=>(await q()).NetworkPanel.ContextMenuProvider.instance(),experiment:void 0}),n.Revealer.registerRevealer({contextTypes:()=>[e.NetworkRequest.NetworkRequest],destination:n.Revealer.RevealerDestination.NETWORK_PANEL,loadRevealer:async()=>(await q()).NetworkPanel.RequestRevealer.instance()}),n.Revealer.registerRevealer({contextTypes:()=>[s.UIRequestLocation.UIRequestLocation],loadRevealer:async()=>(await q()).NetworkPanel.RequestLocationRevealer.instance(),destination:void 0}),n.Revealer.registerRevealer({contextTypes:()=>[s.NetworkRequestId.NetworkRequestId],destination:n.Revealer.RevealerDestination.NETWORK_PANEL,loadRevealer:async()=>(await q()).NetworkPanel.RequestIdRevealer.instance()}),n.Revealer.registerRevealer({contextTypes:()=>[s.UIFilter.UIRequestFilter],destination:n.Revealer.RevealerDestination.NETWORK_PANEL,loadRevealer:async()=>(await q()).NetworkPanel.NetworkLogWithFilterRevealer.instance()});const G={application:"Application",showApplication:"Show Application",pwa:"pwa",clearSiteData:"Clear site data",clearSiteDataIncludingThirdparty:"Clear site data (including third-party cookies)",startRecordingEvents:"Start recording events",stopRecordingEvents:"Stop recording events"},K=i.i18n.registerUIStrings("panels/application/application-meta.ts",G),J=i.i18n.getLazilyComputedLocalizedString.bind(void 0,K);let X;async function Z(){return X||(X=await import("../../panels/application/application.js")),X}t.ViewManager.registerViewExtension({location:"panel",id:"resources",title:J(G.application),commandPrompt:J(G.showApplication),order:70,loadView:async()=>(await Z()).ResourcesPanel.ResourcesPanel.instance(),tags:[J(G.pwa)]}),t.ActionRegistration.registerActionExtension({category:t.ActionRegistration.ActionCategory.RESOURCES,actionId:"resources.clear",title:J(G.clearSiteData),loadActionDelegate:async()=>(await Z()).StorageView.ActionDelegate.instance()}),t.ActionRegistration.registerActionExtension({category:t.ActionRegistration.ActionCategory.RESOURCES,actionId:"resources.clear-incl-third-party-cookies",title:J(G.clearSiteDataIncludingThirdparty),loadActionDelegate:async()=>(await Z()).StorageView.ActionDelegate.instance()}),t.ActionRegistration.registerActionExtension({actionId:"background-service.toggle-recording",iconClass:"largeicon-start-recording",toggleable:!0,toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:!0,contextTypes:()=>void 0===X?[]:(e=>[e.BackgroundServiceView.BackgroundServiceView])(X),loadActionDelegate:async()=>(await Z()).BackgroundServiceView.ActionDelegate.instance(),category:t.ActionRegistration.ActionCategory.BACKGROUND_SERVICES,options:[{value:!0,title:J(G.startRecordingEvents)},{value:!1,title:J(G.stopRecordingEvents)}],bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]}),n.Revealer.registerRevealer({contextTypes:()=>[e.Resource.Resource],destination:n.Revealer.RevealerDestination.APPLICATION_PANEL,loadRevealer:async()=>(await Z()).ResourcesPanel.ResourceRevealer.instance()}),n.Revealer.registerRevealer({contextTypes:()=>[e.ResourceTreeModel.ResourceTreeFrame],destination:n.Revealer.RevealerDestination.APPLICATION_PANEL,loadRevealer:async()=>(await Z()).ResourcesPanel.FrameDetailsRevealer.instance()});const Q={performance:"Performance",showPerformance:"Show Performance",javascriptProfiler:"JavaScript Profiler",showJavascriptProfiler:"Show JavaScript Profiler",record:"Record",stop:"Stop",startProfilingAndReloadPage:"Start profiling and reload page",saveProfile:"Save profile…",loadProfile:"Load profile…",previousFrame:"Previous frame",nextFrame:"Next frame",showRecentTimelineSessions:"Show recent timeline sessions",previousRecording:"Previous recording",nextRecording:"Next recording",hideChromeFrameInLayersView:"Hide `chrome` frame in Layers view",startStopRecording:"Start/stop recording"},$=i.i18n.registerUIStrings("panels/timeline/timeline-meta.ts",Q),ee=i.i18n.getLazilyComputedLocalizedString.bind(void 0,$);let te,ie;async function oe(){return te||(te=await import("../../panels/timeline/timeline.js")),te}async function ne(){return ie||(ie=await import("../../panels/profiler/profiler.js")),ie}function ae(e){return void 0===te?[]:e(te)}t.ViewManager.registerViewExtension({location:"panel",id:"timeline",title:ee(Q.performance),commandPrompt:ee(Q.showPerformance),order:50,loadView:async()=>(await oe()).TimelinePanel.TimelinePanel.instance()}),t.ViewManager.registerViewExtension({location:"panel",id:"js_profiler",title:ee(Q.javascriptProfiler),commandPrompt:ee(Q.showJavascriptProfiler),persistence:"closeable",order:65,loadView:async()=>(await ne()).ProfilesPanel.JSProfilerPanel.instance()}),t.ActionRegistration.registerActionExtension({actionId:"timeline.toggle-recording",category:t.ActionRegistration.ActionCategory.PERFORMANCE,iconClass:"largeicon-start-recording",toggleable:!0,toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:!0,contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),options:[{value:!0,title:ee(Q.record)},{value:!1,title:ee(Q.stop)}],bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.record-reload",iconClass:"largeicon-refresh",contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),category:t.ActionRegistration.ActionCategory.PERFORMANCE,title:ee(Q.startProfilingAndReloadPage),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),bindings:[{platform:"windows,linux",shortcut:"Ctrl+Shift+E"},{platform:"mac",shortcut:"Meta+Shift+E"}]}),t.ActionRegistration.registerActionExtension({category:t.ActionRegistration.ActionCategory.PERFORMANCE,actionId:"timeline.save-to-file",contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),title:ee(Q.saveProfile),bindings:[{platform:"windows,linux",shortcut:"Ctrl+S"},{platform:"mac",shortcut:"Meta+S"}]}),t.ActionRegistration.registerActionExtension({category:t.ActionRegistration.ActionCategory.PERFORMANCE,actionId:"timeline.load-from-file",contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),title:ee(Q.loadProfile),bindings:[{platform:"windows,linux",shortcut:"Ctrl+O"},{platform:"mac",shortcut:"Meta+O"}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.jump-to-previous-frame",category:t.ActionRegistration.ActionCategory.PERFORMANCE,title:ee(Q.previousFrame),contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),bindings:[{shortcut:"["}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.jump-to-next-frame",category:t.ActionRegistration.ActionCategory.PERFORMANCE,title:ee(Q.nextFrame),contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),bindings:[{shortcut:"]"}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.show-history",loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),category:t.ActionRegistration.ActionCategory.PERFORMANCE,title:ee(Q.showRecentTimelineSessions),contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),bindings:[{platform:"windows,linux",shortcut:"Ctrl+H"},{platform:"mac",shortcut:"Meta+Y"}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.previous-recording",category:t.ActionRegistration.ActionCategory.PERFORMANCE,loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),title:ee(Q.previousRecording),contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),bindings:[{platform:"windows,linux",shortcut:"Alt+Left"},{platform:"mac",shortcut:"Meta+Left"}]}),t.ActionRegistration.registerActionExtension({actionId:"timeline.next-recording",category:t.ActionRegistration.ActionCategory.PERFORMANCE,loadActionDelegate:async()=>(await oe()).TimelinePanel.ActionDelegate.instance(),title:ee(Q.nextRecording),contextTypes:()=>ae((e=>[e.TimelinePanel.TimelinePanel])),bindings:[{platform:"windows,linux",shortcut:"Alt+Right"},{platform:"mac",shortcut:"Meta+Right"}]}),t.ActionRegistration.registerActionExtension({actionId:"profiler.js-toggle-recording",category:t.ActionRegistration.ActionCategory.JAVASCRIPT_PROFILER,title:ee(Q.startStopRecording),iconClass:"largeicon-start-recording",toggleable:!0,toggledIconClass:"largeicon-stop-recording",toggleWithRedColor:!0,contextTypes:()=>void 0===ie?[]:(e=>[e.ProfilesPanel.JSProfilerPanel])(ie),loadActionDelegate:async()=>(await ne()).ProfilesPanel.JSProfilerPanel.instance(),bindings:[{platform:"windows,linux",shortcut:"Ctrl+E"},{platform:"mac",shortcut:"Meta+E"}]}),n.Settings.registerSettingExtension({category:n.Settings.SettingCategory.PERFORMANCE,storageType:n.Settings.SettingStorageType.Synced,title:ee(Q.hideChromeFrameInLayersView),settingName:"frameViewerHideChromeWindow",settingType:n.Settings.SettingType.BOOLEAN,defaultValue:!1}),n.Linkifier.registerLinkifier({contextTypes:()=>ae((e=>[e.CLSLinkifier.CLSRect])),loadLinkifier:async()=>(await oe()).CLSLinkifier.Linkifier.instance()}),t.ContextMenu.registerItem({location:t.ContextMenu.ItemLocation.TIMELINE_MENU_OPEN,actionId:"timeline.load-from-file",order:10}),t.ContextMenu.registerItem({location:t.ContextMenu.ItemLocation.TIMELINE_MENU_OPEN,actionId:"timeline.save-to-file",order:15});const re={main:"Main"},se=i.i18n.registerUIStrings("entrypoints/worker_app/WorkerMain.ts",re),le=i.i18n.getLocalizedString.bind(void 0,se);let ce;class ge{static instance(e={forceNew:null}){const{forceNew:t}=e;return ce&&!t||(ce=new ge),ce}async run(){e.Connections.initMainConnection((async()=>{await e.TargetManager.TargetManager.instance().maybeAttachInitialTarget()||e.TargetManager.TargetManager.instance().createTarget("main",le(re.main),e.Target.Type.ServiceWorker,null)}),c.TargetDetachedDialog.TargetDetachedDialog.webSocketConnectionLost),new l.NetworkPanelIndicator.NetworkPanelIndicator}}n.Runnable.registerEarlyInitializationRunnable(ge.instance),e.ChildTargetManager.ChildTargetManager.install((async({target:t,waitingForDebugger:i})=>{if(t.parentTarget()||t.type()!==e.Target.Type.ServiceWorker||!i)return;const o=t.model(e.DebuggerModel.DebuggerModel);o&&(o.isReadyToPause()||await o.once(e.DebuggerModel.Events.DebuggerIsReadyToPause),o.pause())})),self.runtime=o.Runtime.Runtime.instance({forceNew:!0}),new g.MainImpl.MainImpl;
