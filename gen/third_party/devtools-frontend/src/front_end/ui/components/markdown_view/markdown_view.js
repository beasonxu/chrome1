import*as e from"../helpers/helpers.js";import*as t from"../icon_button/icon_button.js";import*as o from"../../lit-html/lit-html.js";import"../../legacy/legacy.js";const s=new CSSStyleSheet;s.replaceSync(".markdown-image{display:block}\n/*# sourceURL=markdownImage.css */\n");const a=new Map([]),n=e=>{const t=a.get(e);if(!t)throw new Error(`Markdown image with key '${e}' is not available, please check MarkdownImagesMap.ts`);return t};var r=Object.freeze({__proto__:null,markdownImages:a,getMarkdownImage:n});class i extends HTMLElement{static litTagName=o.literal`devtools-markdown-image`;#e=this.attachShadow({mode:"open"});#t;#o;constructor(){super()}connectedCallback(){this.#e.adoptedStyleSheets=[s]}set data(e){const{key:t,title:o}=e,s=n(t);this.#t=s,this.#o=o,this.#s()}#a(){if(!this.#t)return o.html``;const{src:e,color:s,width:a="100%",height:n="100%"}=this.#t;return o.html` <${t.Icon.Icon.litTagName} .data="${{iconPath:e,color:s,width:a,height:n}}"></${t.Icon.Icon.litTagName}> `}#n(){if(!this.#t)return o.html``;const{src:e,width:t="100%",height:s="100%"}=this.#t;return o.html` <img class="markdown-image" src="${e}" alt="${this.#o}" width="${t}" height="${s}/"> `}#s(){if(!this.#t)return;const{isIcon:e}=this.#t,t=e?this.#a():this.#n();o.render(t,this.#e,{host:this})}}e.CustomElements.defineComponent("devtools-markdown-image",i);var l=Object.freeze({__proto__:null,MarkdownImage:i});const c=new CSSStyleSheet;c.replaceSync(".devtools-link{color:var(--color-link);text-decoration:none}.devtools-link:hover{text-decoration:underline}\n/*# sourceURL=markdownLink.css */\n");const m=new Map([["issuesContrastWCAG21AA","https://www.w3.org/TR/WCAG21/#contrast-minimum"],["issuesContrastWCAG21AAA","https://www.w3.org/TR/WCAG21/#contrast-enhanced"],["issuesContrastSuggestColor","https://developers.google.com/web/updates/2020/08/devtools#accessible-color"],["issuesCSPSetStrict","https://web.dev/strict-csp"],["issuesCSPWhyStrictOverAllowlist","https://web.dev/strict-csp/#why-a-strict-csp-is-recommended-over-allowlist-csps"],["issueCorsPreflightRequest","https://web.dev/cross-origin-resource-sharing/#preflight-requests-for-complex-http-calls"],["issueQuirksModeDoctype","https://web.dev/doctype/"],["sameSiteAndSameOrigin","https://web.dev/same-site-same-origin/"],["punycodeReference","https://wikipedia.org/wiki/Punycode"],["https://xhr.spec.whatwg.org/","https://xhr.spec.whatwg.org/"],["https://goo.gle/chrome-insecure-origins","https://goo.gle/chrome-insecure-origins"],["https://webrtc.org/web-apis/chrome/unified-plan/","https://webrtc.org/web-apis/chrome/unified-plan/"],["https://developer.chrome.com/blog/enabling-shared-array-buffer/","https://developer.chrome.com/blog/enabling-shared-array-buffer/"],["https://developer.chrome.com/docs/extensions/mv3/","https://developer.chrome.com/docs/extensions/mv3/"],["https://developer.chrome.com/blog/immutable-document-domain/","https://developer.chrome.com/blog/immutable-document-domain/"]]),h=e=>{if(/^https:\/\/www.chromestatus.com\/feature\/\d+$/.test(e))return e;const t=m.get(e);if(!t)throw new Error(`Markdown link with key '${e}' is not available, please check MarkdownLinksMap.ts`);return t};var d=Object.freeze({__proto__:null,markdownLinks:m,getMarkdownLink:h});class p extends HTMLElement{static litTagName=o.literal`devtools-markdown-link`;#e=this.attachShadow({mode:"open"});#r="";#i="";connectedCallback(){this.#e.adoptedStyleSheets=[c]}set data(e){const{key:t,title:o}=e,s=h(t);this.#r=o,this.#i=s,this.#s()}#s(){const e=o.html` <x-link class="devtools-link" href="${this.#i}">${this.#r}</x-link> `;o.render(e,this.#e,{host:this})}}e.CustomElements.defineComponent("devtools-markdown-link",p);var g=Object.freeze({__proto__:null,MarkdownLink:p});const w=new CSSStyleSheet;w.replaceSync('.message{line-height:20px;font-size:14px;color:var(--color-text-secondary);margin-bottom:4px;user-select:text}.message p{margin-bottom:16px;margin-block-start:2px}.message ul{list-style-type:none;list-style-position:inside;padding-inline-start:0}.message li{margin-top:8px;display:list-item}.message li::before{content:"â†’";-webkit-mask-image:none;padding-right:5px;position:relative;top:-1px}.message code{color:var(--color-text-primary);font-size:12px;user-select:text;cursor:text;background:var(--color-background-elevation-1)}\n/*# sourceURL=markdownView.css */\n');const k=o.html,u=o.render;class v extends HTMLElement{static litTagName=o.literal`devtools-markdown-view`;#e=this.attachShadow({mode:"open"});#l=[];connectedCallback(){this.#e.adoptedStyleSheets=[w]}set data(e){this.#l=e.tokens,this.#c()}#c(){this.#s()}#s(){u(k` <div class="message"> ${this.#l.map(y)} </div> `,this.#e,{host:this})}}e.CustomElements.defineComponent("devtools-markdown-view",v);const b=e=>e.tokens.map(y),f=e=>{const t=new Map([["&amp;","&"],["&lt;","<"],["&gt;",">"],["&quot;",'"'],["&#39;","'"]]);return e.replace(/&(amp|lt|gt|quot|#39);/g,(e=>{const o=t.get(e);return o||e}))},x=new Map([["paragraph",e=>k`<p>${b(e)}`],["list",e=>k`<ul>${e.items.map(y)}</ul>`],["list_item",e=>k`<li>${b(e)}`],["text",e=>e.tokens&&e.tokens.length>0?k`${b(e)}`:k`${f(e.text)}`],["codespan",e=>k`<code>${f(e.text)}</code>`],["space",()=>k``],["link",e=>k`<${p.litTagName} .data="${{key:e.href,title:e.text}}"></${p.litTagName}>`],["image",e=>k`<${i.litTagName} .data="${{key:e.href,title:e.text}}"></${i.litTagName}>`]]),y=e=>{const t=x.get(e.type);if(!t)throw new Error(`Markdown token type '${e.type}' not supported.`);return t(e)};var S=Object.freeze({__proto__:null,MarkdownView:v,renderToken:y});export{l as MarkdownImage,r as MarkdownImagesMap,g as MarkdownLink,d as MarkdownLinksMap,S as MarkdownView};
