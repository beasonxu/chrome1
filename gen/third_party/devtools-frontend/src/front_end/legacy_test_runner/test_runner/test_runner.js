import*as e from"../../core/platform/platform.js";import*as n from"../../core/protocol_client/protocol_client.js";import*as t from"../../core/root/root.js";import*as r from"../../models/bindings/bindings.js";import*as o from"../../models/workspace/workspace.js";import*as s from"../../ui/components/code_highlighter/code_highlighter.js";import*as i from"../../ui/legacy/legacy.js";function a(){return!self.testRunner||Boolean(t.Runtime.Runtime.queryParam("debugFrontend"))}function u(){a()||(console.log=(...e)=>{f(`log: ${e}`)},console.error=(...e)=>{f(`error: ${e}`)},console.info=(...e)=>{f(`info: ${e}`)},console.assert=(e,...n)=>{e||f(`ASSERTION FAILURE: ${n.join(" ")}`)})}self.Platform=self.Platform||{},self.Platform.StringUtilities=e.StringUtilities,self.Platform.MapUtilities=e.MapUtilities,self.Platform.ArrayUtilities=e.ArrayUtilities,self.Platform.DOMUtilities=e.DOMUtilities,self.createPlainTextSearchRegex=e.StringUtilities.createPlainTextSearchRegex,String.sprintf=e.StringUtilities.sprintf,String.regexSpecialCharacters=e.StringUtilities.regexSpecialCharacters,String.caseInsensetiveComparator=e.StringUtilities.caseInsensetiveComparator,self.onerror=(e,n,t,r,o)=>{f("TEST ENDED IN ERROR: "+o.stack),T()},self.addEventListener("unhandledrejection",(e=>{f(`PROMISE FAILURE: ${e.reason.stack}`),T()})),u();let c=[],l=e=>{c.push(String(e))};function d(e){l=e}function f(e){l(e)}let p=!1,m=()=>{p||(p=!0,function(){Array.prototype.forEach.call(document.documentElement.childNodes,(e=>e.remove()));const e=document.createElement("div");e.style&&(e.style.whiteSpace="pre",e.style.height="10px",e.style.overflow="hidden");document.documentElement.appendChild(e);for(let n=0;n<c.length;n++)e.appendChild(document.createTextNode(c[n])),e.appendChild(document.createElement("br"));c=[]}(),self.testRunner.notifyDone())};function g(e){m=e}function T(){m()}function R(e){if(e)for(let n=0,t=e.length;n<t;++n)f(e[n])}function h(e){!function n(){const t=e.shift();if(!t)return void T();f("\ntest: "+t.name);let r=t();r instanceof Promise||(r=Promise.resolve());r.then(n)}()}function y(e,n,t,r){t=A(t);const o=e[n];if("function"!=typeof o)throw new Error("Cannot find method to override: "+n);e[n]=function(s){let i;try{i=o.apply(this,arguments)}finally{r||(e[n]=o)}try{Array.prototype.push.call(arguments,i),t.apply(this,arguments)}catch(e){throw new Error("Exception in overriden method '"+n+"': "+e)}return i}}function v(e,n){return new Promise((function(t,r){const o=e[n];"function"==typeof o?e[n]=function(s){let i;try{i=o.apply(this,arguments)}finally{e[n]=o}try{Array.prototype.push.call(arguments,i),t.apply(this,arguments)}catch(e){r("Exception in overridden method '"+n+"': "+e),T()}return i}:r("Cannot find method to override: "+n)}))}self.TestRunner=self.TestRunner||{};const S=new Map([["panels/animation","animation"],["panels/browser_debugger","browser_debugger"],["panels/changes","changes"],["panels/console","console"],["panels/elements","elements"],["panels/emulation","emulation"],["panels/mobile_throttling","mobile_throttling"],["panels/network","network"],["panels/profiler","profiler"],["panels/application","resources"],["panels/search","search"],["panels/sources","sources"],["panels/snippets","snippets"],["panels/settings","settings"],["panels/timeline","timeline"],["panels/web_audio","web_audio"],["models/persistence","persistence"],["models/workspace_diff","workspace_diff"],["entrypoints/main","main"],["third_party/diff","diff"],["ui/legacy/components/inline_editor","inline_editor"],["ui/legacy/components/data_grid","data_grid"],["ui/legacy/components/perf_ui","perf_ui"],["ui/legacy/components/source_frame","source_frame"],["ui/legacy/components/color_picker","color_picker"],["ui/legacy/components/cookie_table","cookie_table"],["ui/legacy/components/quick_open","quick_open"],["ui/legacy/components/utils","components"]]);async function w(e){let n=e;for(const[t,r]of S.entries())r===e&&(n=t);await import(`../../${n}/${n.split("/").reverse()[0]}-legacy.js`)}async function P(e){await import(`../${e}/${e}.js`)}function E(e){return i.ViewManager.ViewManager.instance().showView(e)}function x(e,n,t,r,o){return new KeyboardEvent("keydown",{key:e,bubbles:!0,cancelable:!0,ctrlKey:Boolean(n),altKey:Boolean(t),shiftKey:Boolean(r),metaKey:Boolean(o)})}function A(e,n){return function(){if(!e)return;const t=this;try{return e.apply(t,arguments)}catch(t){f("Exception while running: "+e+"\n"+(t.stack||t)),n?A(n)():T()}}}function M(e){return async function(){if(!e)return;const n=this;try{return await e.apply(n,arguments)}catch(n){f("Exception while running: "+e+"\n"+(n.stack||n)),T()}}}function D(e){function n(n){let t=0;for(;n&&n!==e;)"OL"!==n.nodeName||n.classList&&n.classList.contains("object-properties-section")||++t,n=n.parentNode;return Array(4*t+1).join(" ")}let t="",r=e,o=!1;for(;r.traverseNextNode(e);)if(r=r.traverseNextNode(e),r.nodeType===Node.TEXT_NODE)t+=r.nodeValue;else if("LI"===r.nodeName||"TR"===r.nodeName)o?o=!1:t+="\n"+n(r);else{if("STYLE"===r.nodeName){r=r.traverseNextNode(e);continue}r.classList&&r.classList.contains("object-properties-section")&&(o=!0)}return t}function b(e){return D(e).replace(/\s{3,}/g," ")}function I(e){let n="",t=e;for(;t.traverseNextNode(e);)t=t.traverseNextNode(e,"DEVTOOLS-CSS-LENGTH"===t.tagName),t.nodeType===Node.TEXT_NODE?n+=t.nodeValue:"STYLE"===t.nodeName&&(t=t.traverseNextNode(e));return n}async function k(e){const n=await N(e);return TestRunner.runtimeModel.createRemoteObject(n.result)}async function L(e,n){const t=await N(e);A(n)(t.result.value,t.exceptionDetails)}let C=0;async function N(e){const r=(new Error).stack.split("at "),o=t.Runtime.Runtime.queryParam("test"),s=r.reduce(((e,n)=>n.includes(o)?n:e),r[r.length-2]).trim().split("/"),i=s[s.length-1].slice(0,-1).split(":"),a=i[0],u=`test://evaluations/${C++}/`+a,c=parseInt(i[1],10);-1===(e="\n".repeat(c-1)+e).indexOf("sourceURL=")&&(e+=`//# sourceURL=${u}`);const l=await TestRunner.RuntimeAgent.invoke_evaluate({expression:e,objectGroup:"console"}),d=l[n.InspectorBackend.ProtocolError];return d?(f("Error: "+d),void T()):l}async function O(e,t){const r=await TestRunner.RuntimeAgent.invoke_evaluate({expression:e,objectGroup:"console",userGesture:t});if(!r[n.InspectorBackend.ProtocolError])return r.result.value;f("Error: "+(r.exceptionDetails&&r.exceptionDetails.text||"exception from evaluateInPageAnonymously.")),T()}function _(e){return new Promise((n=>L(e,n)))}async function F(e){const t=await TestRunner.RuntimeAgent.invoke_evaluate({expression:e,objectGroup:"console",includeCommandLineAPI:!1,awaitPromise:!0}),r=t[n.InspectorBackend.ProtocolError];if(!r&&!t.exceptionDetails)return t.result.value;let o="Error: ";r?o+=r:t.exceptionDetails&&(o+=t.exceptionDetails.text,t.exceptionDetails.exception&&(o+=" "+t.exceptionDetails.exception.description)),f(o),T()}function j(e,n){return F(e+"("+(n=n||[]).map((e=>JSON.stringify(e))).join(",")+")")}function U(e,n){O("setTimeout(unescape('"+escape(e)+"'), 1)",n)}function K(e,n){const t='internals.evaluateInInspectorOverlay("(" + '+e+' + ")()")';TestRunner.runtimeModel.executionContexts()[0].evaluate({expression:t,objectGroup:"",includeCommandLineAPI:!1,silent:!1,returnByValue:!0,generatePreview:!1},!1,!1).then((e=>{n(e.object.value)}))}function W(e,n){e||f("FAIL: "+n)}function B(e){ProtocolClient.test.deprecatedRunAfterPendingDispatches(e)}function $(e){if(!e.includes("<base")){const n=/(<!DOCTYPE.*?>)/i,t=`<base href="${Ne()}">`;e=e.match(n)?e.replace(n,"$1"+t):t+e}return O(`document.write(\`${e=e.replace(/'/g,"\\'").replace(/\n/g,"\\n")}\`);document.close();`)}function V(e){return F(`\n    (function(){\n      let script = document.createElement('script');\n      script.src = '${e}';\n      document.head.append(script);\n      return new Promise(f => script.onload = f);\n    })();\n  `)}function q(e){return F(`\n    (function(){\n      const link = document.createElement('link');\n      link.rel = 'stylesheet';\n      link.href = '${e}';\n      link.onload = onload;\n      document.head.append(link);\n      let resolve;\n      const promise = new Promise(r => resolve = r);\n      function onload() {\n        // TODO(chenwilliam): It shouldn't be necessary to force\n        // style recalc here but some tests rely on it.\n        window.getComputedStyle(document.body).color;\n        resolve();\n      }\n      return promise;\n    })();\n  `)}function H(e,n={}){return n.id=n.id||"",n.name=n.name||"",F(`\n    (function(){\n      const iframe = document.createElement('iframe');\n      iframe.src = '${e}';\n      iframe.id = '${n.id}';\n      iframe.name = '${n.name}';\n      document.body.appendChild(iframe);\n      return new Promise(f => iframe.onload = f);\n    })();\n  `)}async function G(e){await TestRunner.RuntimeAgent.invoke_evaluate({expression:e,objectGroup:"console"})}function Y(e){f("\nRunning: "+e)}function X(){ProtocolClient.test.dumpProtocol=self.testRunner.logToStderr.bind(self.testRunner)}function z(e,n,t){n+="\n//# sourceURL="+e;const r=TestRunner.runtimeModel.executionContexts().find((e=>e.frameId===t.id));TestRunner.RuntimeAgent.evaluate(n,"console",!1,!1,r.id)}const J={formatAsTypeName:e=>"<"+typeof e+">",formatAsTypeNameOrNull:e=>null===e?"null":J.formatAsTypeName(e),formatAsRecentTime(e){if("object"!=typeof e||!(e instanceof Date))return J.formatAsTypeName(e);const n=Date.now()-e;return 0<=n&&n<18e5?"<plausible>":e},formatAsURL(e){if(!e)return e;const n=e.lastIndexOf("devtools/");return n<0?e:".../"+e.substr(n)},formatAsDescription:e=>e?'"'+e.replace(/^function [gs]et /,"function ")+'"':e};function Q(e,n,t,r){t=t||"",f((r=r||t)+"{");const o=Object.keys(e);o.sort();for(let r=0;r<o.length;++r){const s=o[r];if(!e.hasOwnProperty(s))continue;const i="    "+t+s+" : ",a=e[s];if(n&&n[s]){const e=n[s];if("skip"!==e){f(i+(0,J[e])(a))}}else te(a,n,"    "+t,i)}f(t+"}")}function Z(e,n,t,r){t=t||"",f((r=r||t)+"[");for(let r=0;r<e.length;++r)te(e[r],n,t+"    ");f(t+"]")}function ee(e){!function e(n,t){const r=[];if(t.nodeType===Node.TEXT_NODE)return void(t.parentElement&&"STYLE"===t.parentElement.nodeName||f(t.nodeValue));r.push("<"+t.nodeName);const o=t.attributes;for(let e=0;o&&e<o.length;++e)r.push(o[e].name+"="+o[e].value);r.push(">"),f(n+r.join(" "));for(let r=t.firstChild;r;r=r.nextSibling)e(n+"    ",r);t.shadowRoot&&e(n+"    ",t.shadowRoot),f(n+"</"+t.nodeName+">")}("",e)}function ne(e){if(!e)return"";if(e.nodeType===Node.TEXT_NODE&&e.nodeValue)return e.parentElement&&"STYLE"===e.parentElement.nodeName?"":e.nodeValue;let n="";const t=e.childNodes;for(let e=0;e<t.length;++e)n+=ne(t[e]);return e.shadowRoot&&(n+=ne(e.shadowRoot)),n}function te(e,n,t,r){(r=r||t)&&r.length>80?f(r+"was skipped due to prefix length limit"):null===e?f(r+"null"):e&&e.constructor&&"Array"===e.constructor.name?Z(e,n,t,r):"object"==typeof e?Q(e,n,t,r):f("string"==typeof e?r+'"'+e+'"':r+e)}function re(e,n,t){return t=t||function(){return!0},new Promise((r=>{n.addEventListener(e,(function o(s){if(!t(s.data))return;n.removeEventListener(e,o),r(s.data)}))}))}function oe(e){e=e||(e=>!0);for(const n of self.SDK.targetManager.targets())if(e(n))return Promise.resolve(n);return new Promise((n=>{const t={targetAdded:function(r){e(r)&&(self.SDK.targetManager.unobserveTargets(t),n(r))},targetRemoved:function(){}};self.SDK.targetManager.observeTargets(t)}))}function se(e){return new Promise((n=>{const t={targetRemoved:function(r){r===e&&(self.SDK.targetManager.unobserveTargets(t),n(r))},targetAdded:function(){}};self.SDK.targetManager.observeTargets(t)}))}function ie(e){return e.executionContexts().length?Promise.resolve(e.executionContexts()[0]):e.once(SDK.RuntimeModel.Events.ExecutionContextCreated)}function ae(e){const n=e.runtimeModel;return-1===n.executionContexts().indexOf(e)?Promise.resolve():re(SDK.RuntimeModel.Events.ExecutionContextDestroyed,n,(n=>n===e))}function ue(e,n,t){e<n&&f("FAILED: "+(t?t+": ":"")+e+" < "+n)}let ce;function le(e,n){ce=A(n),TestRunner.resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.Load,fe),O("window.location.replace('"+e+"')")}function de(e){return new Promise((n=>le(e,n)))}function fe(){TestRunner.resourceTreeModel.removeEventListener(SDK.ResourceTreeModel.Events.Load,fe),ye()}function pe(e){Re(!0,void 0,e)}function me(e){Re(!1,void 0,e)}function ge(e,n){Re(!1,e,n)}function Te(){return new Promise((e=>me(e)))}function Re(e,n,t){ce=A(t),TestRunner.resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.Load,he),TestRunner.resourceTreeModel.reloadPage(e,n)}function he(){TestRunner.resourceTreeModel.removeEventListener(SDK.ResourceTreeModel.Events.Load,he),f("Page reloaded."),ye()}async function ye(){if(await ie(TestRunner.runtimeModel),ce){const e=ce;ce=void 0,e()}}function ve(e){TestRunner.resourceTreeModel.addEventListener(SDK.ResourceTreeModel.Events.Load,(function n(){TestRunner.resourceTreeModel.removeEventListener(SDK.ResourceTreeModel.Events.Load,n),e()}))}function Se(e){const n=ce;ce=A((function(){n&&n(),e()}))}function we(e){const n=e.slice();!function e(){if(!n.length)return void T();const t=n.shift();f(""),f("Running: "+/function\s([^(]*)/.exec(t)[1]),A(t)(e)}()}async function Pe(e){for(const n of e)f(""),f("Running: "+/function\s([^(]*)/.exec(n)[1]),await M(n)();T()}function Ee(e,n,t){if(e===n)return;let r;throw r=t?"Failure ("+t+"):":"Failure:",new Error(r+" expected <"+e+"> found <"+n+">")}function xe(e,n){Ee(!0,Boolean(e),n)}function Ae(e,n,t,r){t=A(t);const o=e[n];if("function"!=typeof o)throw new Error("Cannot find method to override: "+n);return e[n]=function(s){try{return t.apply(this,arguments)}catch(e){throw new Error("Exception in overriden method '"+n+"': "+e)}finally{r||(e[n]=o)}},o}function Me(e){let n=e.replace(/\(file:\/\/\/(?:[^)]+\)|[\w\/:-]+)/g,"(...)");return n=n.replace(/\(http:\/\/(?:[^)]+\)|[\w\/:-]+)/g,"(...)"),n=n.replace(/\(test:\/\/(?:[^)]+\)|[\w\/:-]+)/g,"(...)"),n=n.replace(/\(<anonymous>:[^)]+\)/g,"(...)"),n=n.replace(/VM\d+/g,"VM"),n.replace(/\s*at[^()]+\(native\)/g,"")}function De(){i.InspectorView.InspectorView.instance().element.setAttribute("style","display:none !important")}function be(){return TestRunner.resourceTreeModel.mainFrame}class Ie{constructor(e){this.callback=e,this.buffer=""}async open(e){return!0}async write(e){this.buffer+=e}async close(){this.callback(this.buffer)}}class ke{constructor(e){this.value=e}get(){return this.value}set(e){this.value=e}}function Le(e,n){function t(t){return(!n||t.project().type()===n)&&(!(!n&&t.project().type()===o.Workspace.projectTypes.Service)&&!(e&&!t.url().endsWith(e)))}for(const n of self.Workspace.workspace.uiSourceCodes())if(e&&t(n))return Promise.resolve(n);return re(o.Workspace.Events.UISourceCodeAdded,self.Workspace.workspace,t)}function Ce(e){self.Workspace.workspace.once(o.Workspace.Events.UISourceCodeRemoved).then(e)}function Ne(e=""){const n=t.Runtime.Runtime.queryParam("test");return new URL(e,n+"/../").href}function Oe(e,n){const t=document.createElement("span");return t.textContent=e,s.CodeHighlighter.highlightNode(t,n).then((function(){const n=[];for(let e=0;e<t.childNodes.length;e++)t.childNodes[e].getAttribute?n.push(t.childNodes[e].getAttribute("class")):n.push("*");f(e+": "+n.join(", "))}))}const _e=function(e){const n=function(e,n){const t=[];let r=e.indexOf(n);for(;-1!==r;)t.push(r),r=e.indexOf(n,r+n.length);return t}(e,"\n");return n.push(e.length),n};async function Fe(e){f(await F(`document.querySelector('${e}').innerText`))}async function je(){await r.DebuggerWorkspaceBinding.DebuggerWorkspaceBinding.instance().pendingLiveLocationChangesPromise(),await r.CSSWorkspaceBinding.CSSWorkspaceBinding.instance().pendingLiveLocationChangesPromise()}self.testRunner,TestRunner.StringOutputStream=Ie,TestRunner.MockSetting=ke,TestRunner.formatters=J,TestRunner.completeTest=T,TestRunner.addResult=f,TestRunner.addResults=R,TestRunner.runTests=h,TestRunner.addSniffer=y,TestRunner.addSnifferPromise=v,TestRunner.showPanel=E,TestRunner.createKeyEvent=x,TestRunner.safeWrap=A,TestRunner.textContentWithLineBreaks=D,TestRunner.textContentWithLineBreaksTrimmed=b,TestRunner.textContentWithoutStyles=I,TestRunner.evaluateInPagePromise=_,TestRunner.callFunctionInPageAsync=j,TestRunner.evaluateInPageWithTimeout=U,TestRunner.evaluateFunctionInOverlay=K,TestRunner.check=W,TestRunner.deprecatedRunAfterPendingDispatches=B,TestRunner.loadHTML=$,TestRunner.addScriptTag=V,TestRunner.addStylesheetTag=q,TestRunner.addIframe=H,TestRunner.markStep=Y,TestRunner.startDumpingProtocolMessages=X,TestRunner.addScriptForFrame=z,TestRunner.addObject=Q,TestRunner.addArray=Z,TestRunner.dumpDeepInnerHTML=ee,TestRunner.deepTextContent=ne,TestRunner.dump=te,TestRunner.waitForEvent=re,TestRunner.waitForTarget=oe,TestRunner.waitForTargetRemoved=se,TestRunner.waitForExecutionContext=ie,TestRunner.waitForExecutionContextDestroyed=ae,TestRunner.assertGreaterOrEqual=ue,TestRunner.navigate=le,TestRunner.navigatePromise=de,TestRunner.hardReloadPage=pe,TestRunner.reloadPage=me,TestRunner.reloadPageWithInjectedScript=ge,TestRunner.reloadPagePromise=Te,TestRunner.pageLoaded=he,TestRunner.waitForPageLoad=ve,TestRunner.runWhenPageLoads=Se,TestRunner.runTestSuite=we,TestRunner.assertEquals=Ee,TestRunner.assertTrue=xe,TestRunner.override=Ae,TestRunner.clearSpecificInfoFromStackFrames=Me,TestRunner.hideInspectorView=De,TestRunner.mainFrame=be,TestRunner.waitForUISourceCode=Le,TestRunner.waitForUISourceCodeRemoved=Ce,TestRunner.url=Ne,TestRunner.dumpSyntaxHighlight=Oe,TestRunner.loadLegacyModule=w,TestRunner.loadTestModule=P,TestRunner.evaluateInPageRemoteObject=k,TestRunner.evaluateInPage=L,TestRunner.evaluateInPageAnonymously=O,TestRunner.evaluateInPageAsync=F,TestRunner.deprecatedInitAsync=G,TestRunner.runAsyncTestSuite=Pe,TestRunner.dumpInspectedPageElementText=Fe,TestRunner.waitForPendingLiveLocationUpdates=je,TestRunner.findLineEndingIndexes=_e,TestRunner.isScrolledToBottom=i.UIUtils.isScrolledToBottom;var Ue=Object.freeze({__proto__:null,isDebugTest:a,_printDevToolsConsole:u,setInnerResult:d,addResult:f,setInnerCompleteTest:g,completeTest:T,addResults:R,runTests:h,addSniffer:y,addSnifferPromise:v,loadLegacyModule:w,loadTestModule:P,showPanel:E,createKeyEvent:x,safeWrap:A,textContentWithLineBreaks:D,textContentWithLineBreaksTrimmed:b,textContentWithoutStyles:I,evaluateInPageRemoteObject:k,evaluateInPage:L,_evaluateInPage:N,evaluateInPageAnonymously:O,evaluateInPagePromise:_,evaluateInPageAsync:F,callFunctionInPageAsync:j,evaluateInPageWithTimeout:U,evaluateFunctionInOverlay:K,check:W,deprecatedRunAfterPendingDispatches:B,loadHTML:$,addScriptTag:V,addStylesheetTag:q,addIframe:H,deprecatedInitAsync:G,markStep:Y,startDumpingProtocolMessages:X,addScriptForFrame:z,formatters:J,addObject:Q,addArray:Z,dumpDeepInnerHTML:ee,deepTextContent:ne,dump:te,waitForEvent:re,waitForTarget:oe,waitForTargetRemoved:se,waitForExecutionContext:ie,waitForExecutionContextDestroyed:ae,assertGreaterOrEqual:ue,navigate:le,navigatePromise:de,_pageNavigated:fe,hardReloadPage:pe,reloadPage:me,reloadPageWithInjectedScript:ge,reloadPagePromise:Te,_innerReloadPage:Re,pageLoaded:he,_handlePageLoaded:ye,waitForPageLoad:ve,runWhenPageLoads:Se,runTestSuite:we,runAsyncTestSuite:Pe,assertEquals:Ee,assertTrue:xe,override:Ae,clearSpecificInfoFromStackFrames:Me,hideInspectorView:De,mainFrame:be,StringOutputStream:Ie,MockSetting:ke,waitForUISourceCode:Le,waitForUISourceCodeRemoved:Ce,url:Ne,dumpSyntaxHighlight:Oe,findLineEndingIndexes:_e,dumpInspectedPageElementText:Fe,waitForPendingLiveLocationUpdates:je});async function Ke(){const e=Root.Runtime.queryParam("test");if(a())return d(console.log),g((()=>console.log("Test completed"))),void(self.test=async function(){await import(e)});try{await import(e)}catch(e){f("TEST ENDED EARLY DUE TO UNCAUGHT ERROR:"),f(e&&e.stack||e),f("=== DO NOT COMMIT THIS INTO -expected.txt ==="),T()}}self.Platform=self.Platform||{},self.Platform.StringUtilities=e.StringUtilities;let We=!1;class Be{targetAdded(e){"main"===e.id()&&function(e){self.TestRunner.BrowserAgent=e.browserAgent(),self.TestRunner.CSSAgent=e.cssAgent(),self.TestRunner.DeviceOrientationAgent=e.deviceOrientationAgent(),self.TestRunner.DOMAgent=e.domAgent(),self.TestRunner.DOMDebuggerAgent=e.domdebuggerAgent(),self.TestRunner.DebuggerAgent=e.debuggerAgent(),self.TestRunner.EmulationAgent=e.emulationAgent(),self.TestRunner.HeapProfilerAgent=e.heapProfilerAgent(),self.TestRunner.InputAgent=e.inputAgent(),self.TestRunner.InspectorAgent=e.inspectorAgent(),self.TestRunner.NetworkAgent=e.networkAgent(),self.TestRunner.OverlayAgent=e.overlayAgent(),self.TestRunner.PageAgent=e.pageAgent(),self.TestRunner.ProfilerAgent=e.profilerAgent(),self.TestRunner.RuntimeAgent=e.runtimeAgent(),self.TestRunner.TargetAgent=e.targetAgent(),self.TestRunner.networkManager=e.model(SDK.NetworkManager),self.TestRunner.securityOriginManager=e.model(SDK.SecurityOriginManager),self.TestRunner.resourceTreeModel=e.model(SDK.ResourceTreeModel),self.TestRunner.debuggerModel=e.model(SDK.DebuggerModel),self.TestRunner.runtimeModel=e.model(SDK.RuntimeModel),self.TestRunner.domModel=e.model(SDK.DOMModel),self.TestRunner.domDebuggerModel=e.model(SDK.DOMDebuggerModel),self.TestRunner.cssModel=e.model(SDK.CSSModel),self.TestRunner.cpuProfilerModel=e.model(SDK.CPUProfilerModel),self.TestRunner.overlayModel=e.model(SDK.OverlayModel),self.TestRunner.serviceWorkerManager=e.model(SDK.ServiceWorkerManager),self.TestRunner.tracingManager=e.model(SDK.TracingManager),self.TestRunner.mainTarget=e}(e),We||(We=!0,$(`\n      <head>\n        <base href="${Ne()}">\n      </head>\n      <body>\n      </body>\n    `).then((()=>Ke())))}targetRemoved(e){}}SDK.targetManager.observeTargets(new Be);export{Ue as TestRunner,Be as _TestObserver,Ke as _executeTestScript};
