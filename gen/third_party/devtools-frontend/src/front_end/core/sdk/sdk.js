import*as e from"../common/common.js";import*as t from"../platform/platform.js";import*as n from"../../models/text_utils/text_utils.js";import*as r from"../i18n/i18n.js";import*as s from"../host/host.js";import*as i from"../protocol_client/protocol_client.js";import*as a from"../root/root.js";const o=new Map;class l extends e.ObjectWrapper.ObjectWrapper{#e;constructor(e){super(),this.#e=e}target(){return this.#e}async preSuspendModel(e){}async suspendModel(e){}async resumeModel(){}async postResumeModel(){}dispose(){}static register(e,t){if(t.early&&!t.autostart)throw new Error(`Error registering model ${e.name}: early models must be autostarted.`);o.set(e,t)}static get registeredModels(){return o}}var d=Object.freeze({__proto__:null,SDKModel:l});const c=[{inherited:!0,name:"-webkit-border-horizontal-spacing"},{name:"-webkit-border-image"},{inherited:!0,name:"-webkit-border-vertical-spacing"},{keywords:["stretch","start","center","end","baseline"],name:"-webkit-box-align"},{keywords:["slice","clone"],name:"-webkit-box-decoration-break"},{inherited:!0,keywords:["normal","reverse"],name:"-webkit-box-direction"},{name:"-webkit-box-flex"},{name:"-webkit-box-ordinal-group"},{keywords:["horizontal","vertical"],name:"-webkit-box-orient"},{keywords:["start","center","end","justify"],name:"-webkit-box-pack"},{name:"-webkit-box-reflect"},{longhands:["break-after"],name:"-webkit-column-break-after"},{longhands:["break-before"],name:"-webkit-column-break-before"},{longhands:["break-inside"],name:"-webkit-column-break-inside"},{inherited:!0,name:"-webkit-font-smoothing"},{inherited:!0,name:"-webkit-highlight"},{inherited:!0,name:"-webkit-hyphenate-character"},{inherited:!0,keywords:["auto","loose","normal","strict","after-white-space","anywhere"],name:"-webkit-line-break"},{name:"-webkit-line-clamp"},{inherited:!0,name:"-webkit-locale"},{longhands:["-webkit-mask-image","-webkit-mask-position-x","-webkit-mask-position-y","-webkit-mask-size","-webkit-mask-repeat-x","-webkit-mask-repeat-y","-webkit-mask-origin","-webkit-mask-clip"],name:"-webkit-mask"},{longhands:["-webkit-mask-box-image-source","-webkit-mask-box-image-slice","-webkit-mask-box-image-width","-webkit-mask-box-image-outset","-webkit-mask-box-image-repeat"],name:"-webkit-mask-box-image"},{name:"-webkit-mask-box-image-outset"},{name:"-webkit-mask-box-image-repeat"},{name:"-webkit-mask-box-image-slice"},{name:"-webkit-mask-box-image-source"},{name:"-webkit-mask-box-image-width"},{name:"-webkit-mask-clip"},{name:"-webkit-mask-composite"},{name:"-webkit-mask-image"},{name:"-webkit-mask-origin"},{longhands:["-webkit-mask-position-x","-webkit-mask-position-y"],name:"-webkit-mask-position"},{name:"-webkit-mask-position-x"},{name:"-webkit-mask-position-y"},{longhands:["-webkit-mask-repeat-x","-webkit-mask-repeat-y"],name:"-webkit-mask-repeat"},{name:"-webkit-mask-repeat-x"},{name:"-webkit-mask-repeat-y"},{name:"-webkit-mask-size"},{name:"-webkit-perspective-origin-x"},{name:"-webkit-perspective-origin-y"},{inherited:!0,keywords:["economy","exact"],name:"-webkit-print-color-adjust"},{inherited:!0,keywords:["logical","visual"],name:"-webkit-rtl-ordering"},{inherited:!0,keywords:["before","after"],name:"-webkit-ruby-position"},{inherited:!0,name:"-webkit-tap-highlight-color"},{inherited:!0,name:"-webkit-text-combine"},{inherited:!0,name:"-webkit-text-decorations-in-effect"},{inherited:!0,name:"-webkit-text-fill-color"},{inherited:!0,name:"-webkit-text-orientation"},{inherited:!0,keywords:["none","disc","circle","square"],name:"-webkit-text-security"},{inherited:!0,longhands:["-webkit-text-stroke-width","-webkit-text-stroke-color"],name:"-webkit-text-stroke"},{inherited:!0,name:"-webkit-text-stroke-color"},{inherited:!0,name:"-webkit-text-stroke-width"},{name:"-webkit-transform-origin-x"},{name:"-webkit-transform-origin-y"},{name:"-webkit-transform-origin-z"},{keywords:["auto","none","element"],name:"-webkit-user-drag"},{inherited:!0,keywords:["read-only","read-write","read-write-plaintext-only"],name:"-webkit-user-modify"},{inherited:!0,name:"-webkit-writing-mode"},{inherited:!0,keywords:["auto","currentcolor"],name:"accent-color"},{name:"additive-symbols"},{name:"align-content"},{name:"align-items"},{name:"align-self"},{keywords:["auto","baseline","alphabetic","ideographic","middle","central","mathematical","before-edge","text-before-edge","after-edge","text-after-edge","hanging"],name:"alignment-baseline"},{name:"all"},{keywords:["none"],name:"anchor-name"},{keywords:["none"],name:"anchor-scroll"},{longhands:["animation-duration","animation-timing-function","animation-delay","animation-iteration-count","animation-direction","animation-fill-mode","animation-play-state","animation-name","animation-timeline"],name:"animation"},{name:"animation-delay"},{keywords:["normal","reverse","alternate","alternate-reverse"],name:"animation-direction"},{name:"animation-duration"},{keywords:["none","forwards","backwards","both"],name:"animation-fill-mode"},{keywords:["infinite"],name:"animation-iteration-count"},{keywords:["none"],name:"animation-name"},{keywords:["running","paused"],name:"animation-play-state"},{keywords:["none","auto"],name:"animation-timeline"},{keywords:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"],name:"animation-timing-function"},{keywords:["none","drag","no-drag"],name:"app-region"},{name:"appearance"},{name:"ascent-override"},{keywords:["auto"],name:"aspect-ratio"},{keywords:["none"],name:"backdrop-filter"},{keywords:["visible","hidden"],name:"backface-visibility"},{longhands:["background-image","background-position-x","background-position-y","background-size","background-repeat-x","background-repeat-y","background-attachment","background-origin","background-clip","background-color"],name:"background"},{keywords:["scroll","fixed","local"],name:"background-attachment"},{keywords:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],name:"background-blend-mode"},{keywords:["border-box","padding-box","content-box"],name:"background-clip"},{keywords:["currentcolor"],name:"background-color"},{keywords:["auto","none"],name:"background-image"},{keywords:["border-box","padding-box","content-box"],name:"background-origin"},{longhands:["background-position-x","background-position-y"],name:"background-position"},{name:"background-position-x"},{name:"background-position-y"},{longhands:["background-repeat-x","background-repeat-y"],name:"background-repeat"},{name:"background-repeat-x"},{name:"background-repeat-y"},{keywords:["auto","cover","contain"],name:"background-size"},{name:"base-palette"},{keywords:["baseline","sub","super"],name:"baseline-shift"},{keywords:["auto"],name:"block-size"},{longhands:["border-top-color","border-top-style","border-top-width","border-right-color","border-right-style","border-right-width","border-bottom-color","border-bottom-style","border-bottom-width","border-left-color","border-left-style","border-left-width","border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border"},{longhands:["border-block-start-color","border-block-start-style","border-block-start-width","border-block-end-color","border-block-end-style","border-block-end-width"],name:"border-block"},{longhands:["border-block-start-color","border-block-end-color"],name:"border-block-color"},{longhands:["border-block-end-width","border-block-end-style","border-block-end-color"],name:"border-block-end"},{name:"border-block-end-color"},{name:"border-block-end-style"},{name:"border-block-end-width"},{longhands:["border-block-start-width","border-block-start-style","border-block-start-color"],name:"border-block-start"},{name:"border-block-start-color"},{name:"border-block-start-style"},{name:"border-block-start-width"},{longhands:["border-block-start-style","border-block-end-style"],name:"border-block-style"},{longhands:["border-block-start-width","border-block-end-width"],name:"border-block-width"},{longhands:["border-bottom-width","border-bottom-style","border-bottom-color"],name:"border-bottom"},{keywords:["currentcolor"],name:"border-bottom-color"},{name:"border-bottom-left-radius"},{name:"border-bottom-right-radius"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-bottom-style"},{keywords:["thin","medium","thick"],name:"border-bottom-width"},{inherited:!0,keywords:["separate","collapse"],name:"border-collapse"},{longhands:["border-top-color","border-right-color","border-bottom-color","border-left-color"],name:"border-color"},{name:"border-end-end-radius"},{name:"border-end-start-radius"},{longhands:["border-image-source","border-image-slice","border-image-width","border-image-outset","border-image-repeat"],name:"border-image"},{name:"border-image-outset"},{keywords:["stretch","repeat","round","space"],name:"border-image-repeat"},{name:"border-image-slice"},{keywords:["none"],name:"border-image-source"},{keywords:["auto"],name:"border-image-width"},{longhands:["border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-end-color","border-inline-end-style","border-inline-end-width"],name:"border-inline"},{longhands:["border-inline-start-color","border-inline-end-color"],name:"border-inline-color"},{longhands:["border-inline-end-width","border-inline-end-style","border-inline-end-color"],name:"border-inline-end"},{name:"border-inline-end-color"},{name:"border-inline-end-style"},{name:"border-inline-end-width"},{longhands:["border-inline-start-width","border-inline-start-style","border-inline-start-color"],name:"border-inline-start"},{name:"border-inline-start-color"},{name:"border-inline-start-style"},{name:"border-inline-start-width"},{longhands:["border-inline-start-style","border-inline-end-style"],name:"border-inline-style"},{longhands:["border-inline-start-width","border-inline-end-width"],name:"border-inline-width"},{longhands:["border-left-width","border-left-style","border-left-color"],name:"border-left"},{keywords:["currentcolor"],name:"border-left-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-left-style"},{keywords:["thin","medium","thick"],name:"border-left-width"},{longhands:["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"],name:"border-radius"},{longhands:["border-right-width","border-right-style","border-right-color"],name:"border-right"},{keywords:["currentcolor"],name:"border-right-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-right-style"},{keywords:["thin","medium","thick"],name:"border-right-width"},{inherited:!0,longhands:["-webkit-border-horizontal-spacing","-webkit-border-vertical-spacing"],name:"border-spacing"},{name:"border-start-end-radius"},{name:"border-start-start-radius"},{keywords:["none"],longhands:["border-top-style","border-right-style","border-bottom-style","border-left-style"],name:"border-style"},{longhands:["border-top-width","border-top-style","border-top-color"],name:"border-top"},{keywords:["currentcolor"],name:"border-top-color"},{name:"border-top-left-radius"},{name:"border-top-right-radius"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"border-top-style"},{keywords:["thin","medium","thick"],name:"border-top-width"},{longhands:["border-top-width","border-right-width","border-bottom-width","border-left-width"],name:"border-width"},{keywords:["auto"],name:"bottom"},{keywords:["none"],name:"box-shadow"},{keywords:["content-box","border-box"],name:"box-sizing"},{keywords:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"],name:"break-after"},{keywords:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"],name:"break-before"},{keywords:["auto","avoid","avoid-column","avoid-page"],name:"break-inside"},{keywords:["auto","dynamic","static"],name:"buffered-rendering"},{inherited:!0,keywords:["top","bottom"],name:"caption-side"},{inherited:!0,keywords:["auto","currentcolor"],name:"caret-color"},{keywords:["none","left","right","both","inline-start","inline-end"],name:"clear"},{keywords:["auto"],name:"clip"},{keywords:["none"],name:"clip-path"},{inherited:!0,keywords:["nonzero","evenodd"],name:"clip-rule"},{inherited:!0,keywords:["currentcolor"],name:"color"},{inherited:!0,keywords:["auto","srgb","linearrgb"],name:"color-interpolation"},{inherited:!0,keywords:["auto","srgb","linearrgb"],name:"color-interpolation-filters"},{inherited:!0,keywords:["auto","optimizespeed","optimizequality"],name:"color-rendering"},{inherited:!0,name:"color-scheme"},{keywords:["auto"],name:"column-count"},{keywords:["balance","auto"],name:"column-fill"},{keywords:["normal"],name:"column-gap"},{longhands:["column-rule-width","column-rule-style","column-rule-color"],name:"column-rule"},{keywords:["currentcolor"],name:"column-rule-color"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"column-rule-style"},{keywords:["thin","medium","thick"],name:"column-rule-width"},{keywords:["none","all"],name:"column-span"},{keywords:["auto"],name:"column-width"},{longhands:["column-width","column-count"],name:"columns"},{keywords:["none","strict","content","size","layout","style","paint","inline-size","block-size"],name:"contain"},{name:"contain-intrinsic-block-size"},{keywords:["auto","none"],name:"contain-intrinsic-height"},{name:"contain-intrinsic-inline-size"},{longhands:["contain-intrinsic-width","contain-intrinsic-height"],name:"contain-intrinsic-size"},{keywords:["auto","none"],name:"contain-intrinsic-width"},{longhands:["container-name","container-type"],name:"container"},{keywords:["none"],name:"container-name"},{keywords:["normal","inline-size","size"],name:"container-type"},{name:"content"},{keywords:["visible","auto","hidden"],name:"content-visibility"},{keywords:["none"],name:"counter-increment"},{keywords:["none"],name:"counter-reset"},{keywords:["none"],name:"counter-set"},{inherited:!0,keywords:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"],name:"cursor"},{name:"cx"},{name:"cy"},{keywords:["none"],name:"d"},{name:"descent-override"},{inherited:!0,keywords:["ltr","rtl"],name:"direction"},{keywords:["inline","block","list-item","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid","contents","flow-root","none"],name:"display"},{inherited:!0,keywords:["auto","alphabetic","ideographic","middle","central","mathematical","hanging","use-script","no-change","reset-size","text-after-edge","text-before-edge"],name:"dominant-baseline"},{inherited:!0,keywords:["show","hide"],name:"empty-cells"},{name:"end"},{name:"fallback"},{inherited:!0,name:"fill"},{inherited:!0,name:"fill-opacity"},{inherited:!0,keywords:["nonzero","evenodd"],name:"fill-rule"},{keywords:["none"],name:"filter"},{longhands:["flex-grow","flex-shrink","flex-basis"],name:"flex"},{keywords:["auto","fit-content","min-content","max-content","content"],name:"flex-basis"},{keywords:["row","row-reverse","column","column-reverse"],name:"flex-direction"},{longhands:["flex-direction","flex-wrap"],name:"flex-flow"},{name:"flex-grow"},{name:"flex-shrink"},{keywords:["nowrap","wrap","wrap-reverse"],name:"flex-wrap"},{keywords:["none","left","right","inline-start","inline-end"],name:"float"},{keywords:["currentcolor"],name:"flood-color"},{name:"flood-opacity"},{inherited:!0,longhands:["font-style","font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian","font-weight","font-stretch","font-size","line-height","font-family"],name:"font"},{name:"font-display"},{inherited:!0,name:"font-family"},{inherited:!0,keywords:["normal"],name:"font-feature-settings"},{inherited:!0,keywords:["auto","normal","none"],name:"font-kerning"},{inherited:!0,keywords:["auto","none"],name:"font-optical-sizing"},{inherited:!0,keywords:["normal","light","dark"],name:"font-palette"},{inherited:!0,keywords:["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller","-webkit-xxx-large"],name:"font-size"},{inherited:!0,keywords:["none"],name:"font-size-adjust"},{inherited:!0,keywords:["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"],name:"font-stretch"},{inherited:!0,keywords:["normal","italic","oblique"],name:"font-style"},{inherited:!0,longhands:["font-synthesis-weight","font-synthesis-style","font-synthesis-small-caps"],name:"font-synthesis"},{inherited:!0,keywords:["auto","none"],name:"font-synthesis-small-caps"},{inherited:!0,keywords:["auto","none"],name:"font-synthesis-style"},{inherited:!0,keywords:["auto","none"],name:"font-synthesis-weight"},{inherited:!0,longhands:["font-variant-ligatures","font-variant-caps","font-variant-numeric","font-variant-east-asian"],name:"font-variant"},{inherited:!0,keywords:["normal","small-caps","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps"],name:"font-variant-caps"},{inherited:!0,keywords:["normal","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"],name:"font-variant-east-asian"},{inherited:!0,keywords:["normal","none","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual"],name:"font-variant-ligatures"},{inherited:!0,keywords:["normal","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero"],name:"font-variant-numeric"},{inherited:!0,keywords:["normal"],name:"font-variation-settings"},{inherited:!0,keywords:["normal","bold","bolder","lighter"],name:"font-weight"},{inherited:!0,keywords:["auto","none","preserve-parent-color"],name:"forced-color-adjust"},{longhands:["row-gap","column-gap"],name:"gap"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas","grid-auto-flow","grid-auto-rows","grid-auto-columns"],name:"grid"},{longhands:["grid-row-start","grid-column-start","grid-row-end","grid-column-end"],name:"grid-area"},{keywords:["auto","min-content","max-content"],name:"grid-auto-columns"},{keywords:["row","column"],name:"grid-auto-flow"},{keywords:["auto","min-content","max-content"],name:"grid-auto-rows"},{longhands:["grid-column-start","grid-column-end"],name:"grid-column"},{keywords:["auto"],name:"grid-column-end"},{longhands:["column-gap"],name:"grid-column-gap"},{keywords:["auto"],name:"grid-column-start"},{longhands:["row-gap","column-gap"],name:"grid-gap"},{longhands:["grid-row-start","grid-row-end"],name:"grid-row"},{keywords:["auto"],name:"grid-row-end"},{longhands:["row-gap"],name:"grid-row-gap"},{keywords:["auto"],name:"grid-row-start"},{longhands:["grid-template-rows","grid-template-columns","grid-template-areas"],name:"grid-template"},{keywords:["none"],name:"grid-template-areas"},{keywords:["none"],name:"grid-template-columns"},{keywords:["none"],name:"grid-template-rows"},{keywords:["auto","fit-content","min-content","max-content"],name:"height"},{inherited:!0,keywords:["none","manual","auto"],name:"hyphens"},{inherited:!0,name:"image-orientation"},{inherited:!0,keywords:["auto","optimizespeed","optimizequality","-webkit-optimize-contrast","pixelated"],name:"image-rendering"},{name:"inherits"},{name:"initial-value"},{keywords:["auto"],name:"inline-size"},{longhands:["top","right","bottom","left"],name:"inset"},{longhands:["inset-block-start","inset-block-end"],name:"inset-block"},{name:"inset-block-end"},{name:"inset-block-start"},{longhands:["inset-inline-start","inset-inline-end"],name:"inset-inline"},{name:"inset-inline-end"},{name:"inset-inline-start"},{keywords:["auto","isolate"],name:"isolation"},{name:"justify-content"},{name:"justify-items"},{name:"justify-self"},{keywords:["auto"],name:"left"},{inherited:!0,keywords:["normal"],name:"letter-spacing"},{keywords:["currentcolor"],name:"lighting-color"},{inherited:!0,keywords:["auto","loose","normal","strict","anywhere"],name:"line-break"},{name:"line-gap-override"},{inherited:!0,keywords:["normal"],name:"line-height"},{inherited:!0,name:"line-height-step"},{inherited:!0,longhands:["list-style-position","list-style-image","list-style-type"],name:"list-style"},{inherited:!0,keywords:["none"],name:"list-style-image"},{inherited:!0,keywords:["outside","inside"],name:"list-style-position"},{inherited:!0,keywords:["disc","circle","square","disclosure-open","disclosure-closed","decimal","none"],name:"list-style-type"},{longhands:["margin-top","margin-right","margin-bottom","margin-left"],name:"margin"},{longhands:["margin-block-start","margin-block-end"],name:"margin-block"},{keywords:["auto"],name:"margin-block-end"},{keywords:["auto"],name:"margin-block-start"},{keywords:["auto"],name:"margin-bottom"},{longhands:["margin-inline-start","margin-inline-end"],name:"margin-inline"},{keywords:["auto"],name:"margin-inline-end"},{keywords:["auto"],name:"margin-inline-start"},{keywords:["auto"],name:"margin-left"},{keywords:["auto"],name:"margin-right"},{keywords:["auto"],name:"margin-top"},{inherited:!0,longhands:["marker-start","marker-mid","marker-end"],name:"marker"},{inherited:!0,keywords:["none"],name:"marker-end"},{inherited:!0,keywords:["none"],name:"marker-mid"},{inherited:!0,keywords:["none"],name:"marker-start"},{name:"mask"},{keywords:["luminance","alpha"],name:"mask-type"},{inherited:!0,name:"math-depth"},{inherited:!0,keywords:["normal","compact"],name:"math-shift"},{inherited:!0,keywords:["normal","compact"],name:"math-style"},{keywords:["none"],name:"max-block-size"},{keywords:["none"],name:"max-height"},{keywords:["none"],name:"max-inline-size"},{keywords:["none"],name:"max-width"},{name:"max-zoom"},{name:"min-block-size"},{name:"min-height"},{name:"min-inline-size"},{name:"min-width"},{name:"min-zoom"},{keywords:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],name:"mix-blend-mode"},{name:"negative"},{keywords:["fill","contain","cover","none","scale-down"],name:"object-fit"},{name:"object-position"},{keywords:["none"],name:"object-view-box"},{longhands:["offset-position","offset-path","offset-distance","offset-rotate","offset-anchor"],name:"offset"},{keywords:["auto"],name:"offset-anchor"},{name:"offset-distance"},{keywords:["none"],name:"offset-path"},{keywords:["auto"],name:"offset-position"},{keywords:["auto","reverse"],name:"offset-rotate"},{name:"opacity"},{name:"order"},{name:"orientation"},{keywords:["normal","none"],name:"origin-trial-test-property"},{inherited:!0,name:"orphans"},{longhands:["outline-color","outline-style","outline-width"],name:"outline"},{keywords:["currentcolor"],name:"outline-color"},{name:"outline-offset"},{keywords:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"],name:"outline-style"},{keywords:["thin","medium","thick"],name:"outline-width"},{longhands:["overflow-x","overflow-y"],name:"overflow"},{inherited:!1,keywords:["visible","none","auto"],name:"overflow-anchor"},{name:"overflow-block"},{keywords:["border-box","content-box","padding-box"],name:"overflow-clip-margin"},{name:"overflow-inline"},{inherited:!0,keywords:["normal","break-word","anywhere"],name:"overflow-wrap"},{keywords:["visible","hidden","scroll","auto","overlay","clip"],name:"overflow-x"},{keywords:["visible","hidden","scroll","auto","overlay","clip"],name:"overflow-y"},{name:"override-colors"},{longhands:["overscroll-behavior-x","overscroll-behavior-y"],name:"overscroll-behavior"},{name:"overscroll-behavior-block"},{name:"overscroll-behavior-inline"},{keywords:["auto","contain","none"],name:"overscroll-behavior-x"},{keywords:["auto","contain","none"],name:"overscroll-behavior-y"},{name:"pad"},{longhands:["padding-top","padding-right","padding-bottom","padding-left"],name:"padding"},{longhands:["padding-block-start","padding-block-end"],name:"padding-block"},{name:"padding-block-end"},{name:"padding-block-start"},{name:"padding-bottom"},{longhands:["padding-inline-start","padding-inline-end"],name:"padding-inline"},{name:"padding-inline-end"},{name:"padding-inline-start"},{name:"padding-left"},{name:"padding-right"},{name:"padding-top"},{keywords:["auto"],name:"page"},{longhands:["break-after"],name:"page-break-after"},{longhands:["break-before"],name:"page-break-before"},{longhands:["break-inside"],name:"page-break-inside"},{name:"page-orientation"},{keywords:["none"],name:"page-transition-tag"},{inherited:!0,keywords:["normal","fill","stroke","markers"],name:"paint-order"},{keywords:["none"],name:"perspective"},{name:"perspective-origin"},{longhands:["align-content","justify-content"],name:"place-content"},{longhands:["align-items","justify-items"],name:"place-items"},{longhands:["align-self","justify-self"],name:"place-self"},{inherited:!0,keywords:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","bounding-box","all"],name:"pointer-events"},{name:"pop-up-hide-delay"},{name:"pop-up-show-delay"},{keywords:["static","relative","absolute","fixed","sticky"],name:"position"},{keywords:["none"],name:"position-fallback"},{name:"prefix"},{inherited:!0,keywords:["auto","none"],name:"quotes"},{name:"r"},{name:"range"},{keywords:["none","both","horizontal","vertical","block","inline"],name:"resize"},{keywords:["auto"],name:"right"},{name:"rotate"},{keywords:["normal"],name:"row-gap"},{inherited:!0,name:"ruby-position"},{keywords:["auto"],name:"rx"},{keywords:["auto"],name:"ry"},{name:"scale"},{keywords:["auto","smooth"],name:"scroll-behavior"},{name:"scroll-customization"},{longhands:["scroll-margin-top","scroll-margin-right","scroll-margin-bottom","scroll-margin-left"],name:"scroll-margin"},{longhands:["scroll-margin-block-start","scroll-margin-block-end"],name:"scroll-margin-block"},{name:"scroll-margin-block-end"},{name:"scroll-margin-block-start"},{name:"scroll-margin-bottom"},{longhands:["scroll-margin-inline-start","scroll-margin-inline-end"],name:"scroll-margin-inline"},{name:"scroll-margin-inline-end"},{name:"scroll-margin-inline-start"},{name:"scroll-margin-left"},{name:"scroll-margin-right"},{name:"scroll-margin-top"},{longhands:["scroll-padding-top","scroll-padding-right","scroll-padding-bottom","scroll-padding-left"],name:"scroll-padding"},{longhands:["scroll-padding-block-start","scroll-padding-block-end"],name:"scroll-padding-block"},{keywords:["auto"],name:"scroll-padding-block-end"},{keywords:["auto"],name:"scroll-padding-block-start"},{keywords:["auto"],name:"scroll-padding-bottom"},{longhands:["scroll-padding-inline-start","scroll-padding-inline-end"],name:"scroll-padding-inline"},{keywords:["auto"],name:"scroll-padding-inline-end"},{keywords:["auto"],name:"scroll-padding-inline-start"},{keywords:["auto"],name:"scroll-padding-left"},{keywords:["auto"],name:"scroll-padding-right"},{keywords:["auto"],name:"scroll-padding-top"},{keywords:["none","start","end","center"],name:"scroll-snap-align"},{keywords:["normal","always"],name:"scroll-snap-stop"},{keywords:["none","x","y","block","inline","both","mandatory","proximity"],name:"scroll-snap-type"},{inherited:!1,keywords:["auto","stable","both-edges"],name:"scrollbar-gutter"},{inherited:!1,keywords:["auto","thin","none"],name:"scrollbar-width"},{name:"shape-image-threshold"},{keywords:["none"],name:"shape-margin"},{keywords:["none"],name:"shape-outside"},{inherited:!0,keywords:["auto","optimizespeed","crispedges","geometricprecision"],name:"shape-rendering"},{name:"size"},{name:"size-adjust"},{name:"source"},{inherited:!0,keywords:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"],name:"speak"},{name:"speak-as"},{name:"src"},{name:"start"},{keywords:["currentcolor"],name:"stop-color"},{name:"stop-opacity"},{inherited:!0,name:"stroke"},{inherited:!0,keywords:["none"],name:"stroke-dasharray"},{inherited:!0,name:"stroke-dashoffset"},{inherited:!0,keywords:["butt","round","square"],name:"stroke-linecap"},{inherited:!0,keywords:["miter","bevel","round"],name:"stroke-linejoin"},{inherited:!0,name:"stroke-miterlimit"},{inherited:!0,name:"stroke-opacity"},{inherited:!0,name:"stroke-width"},{name:"suffix"},{name:"symbols"},{name:"syntax"},{name:"system"},{inherited:!0,name:"tab-size"},{keywords:["auto","fixed"],name:"table-layout"},{inherited:!0,keywords:["left","right","center","justify","-webkit-left","-webkit-right","-webkit-center","start","end"],name:"text-align"},{inherited:!0,keywords:["auto","start","end","left","right","center","justify"],name:"text-align-last"},{inherited:!0,keywords:["start","middle","end"],name:"text-anchor"},{inherited:!0,keywords:["none","all"],name:"text-combine-upright"},{longhands:["text-decoration-line","text-decoration-thickness","text-decoration-style","text-decoration-color"],name:"text-decoration"},{keywords:["currentcolor"],name:"text-decoration-color"},{keywords:["none","underline","overline","line-through","blink","spelling-error","grammar-error"],name:"text-decoration-line"},{inherited:!0,keywords:["none","auto"],name:"text-decoration-skip-ink"},{keywords:["solid","double","dotted","dashed","wavy"],name:"text-decoration-style"},{inherited:!0,keywords:["auto","from-font"],name:"text-decoration-thickness"},{inherited:!0,longhands:["text-emphasis-style","text-emphasis-color"],name:"text-emphasis"},{inherited:!0,keywords:["currentcolor"],name:"text-emphasis-color"},{inherited:!0,name:"text-emphasis-position"},{inherited:!0,name:"text-emphasis-style"},{inherited:!0,name:"text-indent"},{inherited:!0,keywords:["auto","none","inter-word","distribute"],name:"text-justify"},{inherited:!0,keywords:["sideways","mixed","upright"],name:"text-orientation"},{keywords:["clip","ellipsis"],name:"text-overflow"},{inherited:!0,keywords:["auto","optimizespeed","optimizelegibility","geometricprecision"],name:"text-rendering"},{inherited:!0,keywords:["none"],name:"text-shadow"},{inherited:!0,keywords:["none","auto"],name:"text-size-adjust"},{inherited:!0,keywords:["capitalize","uppercase","lowercase","none","math-auto"],name:"text-transform"},{inherited:!0,keywords:["auto"],name:"text-underline-offset"},{inherited:!0,keywords:["auto","from-font","under","left","right"],name:"text-underline-position"},{longhands:["toggle-root","toggle-trigger"],name:"toggle"},{keywords:["none"],name:"toggle-group"},{keywords:["none"],name:"toggle-root"},{keywords:["none"],name:"toggle-trigger"},{keywords:["auto"],name:"top"},{keywords:["auto","none","pan-x","pan-left","pan-right","pan-y","pan-up","pan-down","pinch-zoom","manipulation"],name:"touch-action"},{keywords:["none"],name:"transform"},{keywords:["fill-box","view-box"],name:"transform-box"},{name:"transform-origin"},{keywords:["flat","preserve-3d"],name:"transform-style"},{longhands:["transition-property","transition-duration","transition-timing-function","transition-delay"],name:"transition"},{name:"transition-delay"},{name:"transition-duration"},{keywords:["none"],name:"transition-property"},{keywords:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"],name:"transition-timing-function"},{name:"translate"},{keywords:["normal","embed","bidi-override","isolate","plaintext","isolate-override"],name:"unicode-bidi"},{name:"unicode-range"},{inherited:!0,keywords:["auto","none","text","all"],name:"user-select"},{name:"user-zoom"},{keywords:["none","non-scaling-stroke"],name:"vector-effect"},{keywords:["baseline","sub","super","text-top","text-bottom","middle"],name:"vertical-align"},{name:"viewport-fit"},{inherited:!0,keywords:["visible","hidden","collapse"],name:"visibility"},{inherited:!0,keywords:["normal","pre","pre-wrap","pre-line","nowrap","-webkit-nowrap","break-spaces"],name:"white-space"},{inherited:!0,name:"widows"},{keywords:["auto","fit-content","min-content","max-content"],name:"width"},{keywords:["auto"],name:"will-change"},{inherited:!0,keywords:["normal","break-all","keep-all","break-word"],name:"word-break"},{inherited:!0,keywords:["normal"],name:"word-spacing"},{inherited:!0,keywords:["horizontal-tb","vertical-rl","vertical-lr"],name:"writing-mode"},{name:"x"},{name:"y"},{keywords:["auto"],name:"z-index"},{name:"zoom"}],h={"-webkit-box-align":{values:["stretch","start","center","end","baseline"]},"-webkit-box-decoration-break":{values:["slice","clone"]},"-webkit-box-direction":{values:["normal","reverse"]},"-webkit-box-orient":{values:["horizontal","vertical"]},"-webkit-box-pack":{values:["start","center","end","justify"]},"-webkit-line-break":{values:["auto","loose","normal","strict","after-white-space","anywhere"]},"-webkit-print-color-adjust":{values:["economy","exact"]},"-webkit-rtl-ordering":{values:["logical","visual"]},"-webkit-ruby-position":{values:["before","after"]},"-webkit-text-security":{values:["none","disc","circle","square"]},"-webkit-user-drag":{values:["auto","none","element"]},"-webkit-user-modify":{values:["read-only","read-write","read-write-plaintext-only"]},"accent-color":{values:["auto","currentcolor"]},"alignment-baseline":{values:["auto","baseline","alphabetic","ideographic","middle","central","mathematical","before-edge","text-before-edge","after-edge","text-after-edge","hanging"]},"anchor-name":{values:["none"]},"anchor-scroll":{values:["none"]},"animation-direction":{values:["normal","reverse","alternate","alternate-reverse"]},"animation-fill-mode":{values:["none","forwards","backwards","both"]},"animation-iteration-count":{values:["infinite"]},"animation-name":{values:["none"]},"animation-play-state":{values:["running","paused"]},"animation-timeline":{values:["none","auto"]},"animation-timing-function":{values:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"]},"app-region":{values:["none","drag","no-drag"]},"aspect-ratio":{values:["auto"]},"backdrop-filter":{values:["none"]},"backface-visibility":{values:["visible","hidden"]},"background-attachment":{values:["scroll","fixed","local"]},"background-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},"background-clip":{values:["border-box","padding-box","content-box"]},"background-color":{values:["currentcolor"]},"background-image":{values:["auto","none"]},"background-origin":{values:["border-box","padding-box","content-box"]},"background-size":{values:["auto","cover","contain"]},"baseline-shift":{values:["baseline","sub","super"]},"block-size":{values:["auto"]},"border-bottom-color":{values:["currentcolor"]},"border-bottom-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-bottom-width":{values:["thin","medium","thick"]},"border-collapse":{values:["separate","collapse"]},"border-image-repeat":{values:["stretch","repeat","round","space"]},"border-image-source":{values:["none"]},"border-image-width":{values:["auto"]},"border-left-color":{values:["currentcolor"]},"border-left-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-left-width":{values:["thin","medium","thick"]},"border-right-color":{values:["currentcolor"]},"border-right-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-right-width":{values:["thin","medium","thick"]},"border-style":{values:["none"]},"border-top-color":{values:["currentcolor"]},"border-top-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"border-top-width":{values:["thin","medium","thick"]},bottom:{values:["auto"]},"box-shadow":{values:["none"]},"box-sizing":{values:["content-box","border-box"]},"break-after":{values:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"]},"break-before":{values:["auto","avoid","avoid-column","avoid-page","column","left","page","recto","right","verso"]},"break-inside":{values:["auto","avoid","avoid-column","avoid-page"]},"buffered-rendering":{values:["auto","dynamic","static"]},"caption-side":{values:["top","bottom"]},"caret-color":{values:["auto","currentcolor"]},clear:{values:["none","left","right","both","inline-start","inline-end"]},clip:{values:["auto"]},"clip-path":{values:["none"]},"clip-rule":{values:["nonzero","evenodd"]},color:{values:["currentcolor"]},"color-interpolation":{values:["auto","srgb","linearrgb"]},"color-interpolation-filters":{values:["auto","srgb","linearrgb"]},"color-rendering":{values:["auto","optimizespeed","optimizequality"]},"column-count":{values:["auto"]},"column-fill":{values:["balance","auto"]},"column-gap":{values:["normal"]},"column-rule-color":{values:["currentcolor"]},"column-rule-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"column-rule-width":{values:["thin","medium","thick"]},"column-span":{values:["none","all"]},"column-width":{values:["auto"]},contain:{values:["none","strict","content","size","layout","style","paint","inline-size","block-size"]},"contain-intrinsic-height":{values:["auto","none"]},"contain-intrinsic-width":{values:["auto","none"]},"container-name":{values:["none"]},"container-type":{values:["normal","inline-size","size"]},"content-visibility":{values:["visible","auto","hidden"]},"counter-increment":{values:["none"]},"counter-reset":{values:["none"]},"counter-set":{values:["none"]},cursor:{values:["auto","default","none","context-menu","help","pointer","progress","wait","cell","crosshair","text","vertical-text","alias","copy","move","no-drop","not-allowed","e-resize","n-resize","ne-resize","nw-resize","s-resize","se-resize","sw-resize","w-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","col-resize","row-resize","all-scroll","zoom-in","zoom-out","grab","grabbing"]},d:{values:["none"]},direction:{values:["ltr","rtl"]},display:{values:["inline","block","list-item","inline-block","table","inline-table","table-row-group","table-header-group","table-footer-group","table-row","table-column-group","table-column","table-cell","table-caption","-webkit-box","-webkit-inline-box","flex","inline-flex","grid","inline-grid","contents","flow-root","none"]},"dominant-baseline":{values:["auto","alphabetic","ideographic","middle","central","mathematical","hanging","use-script","no-change","reset-size","text-after-edge","text-before-edge"]},"empty-cells":{values:["show","hide"]},"fill-rule":{values:["nonzero","evenodd"]},filter:{values:["none"]},"flex-basis":{values:["auto","fit-content","min-content","max-content","content"]},"flex-direction":{values:["row","row-reverse","column","column-reverse"]},"flex-wrap":{values:["nowrap","wrap","wrap-reverse"]},float:{values:["none","left","right","inline-start","inline-end"]},"flood-color":{values:["currentcolor"]},"font-feature-settings":{values:["normal"]},"font-kerning":{values:["auto","normal","none"]},"font-optical-sizing":{values:["auto","none"]},"font-palette":{values:["normal","light","dark"]},"font-size":{values:["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller","-webkit-xxx-large"]},"font-size-adjust":{values:["none"]},"font-stretch":{values:["normal","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded","ultra-expanded"]},"font-style":{values:["normal","italic","oblique"]},"font-synthesis-small-caps":{values:["auto","none"]},"font-synthesis-style":{values:["auto","none"]},"font-synthesis-weight":{values:["auto","none"]},"font-variant-caps":{values:["normal","small-caps","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps"]},"font-variant-east-asian":{values:["normal","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"]},"font-variant-ligatures":{values:["normal","none","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual"]},"font-variant-numeric":{values:["normal","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero"]},"font-variation-settings":{values:["normal"]},"font-weight":{values:["normal","bold","bolder","lighter"]},"forced-color-adjust":{values:["auto","none","preserve-parent-color"]},"grid-auto-columns":{values:["auto","min-content","max-content"]},"grid-auto-flow":{values:["row","column"]},"grid-auto-rows":{values:["auto","min-content","max-content"]},"grid-column-end":{values:["auto"]},"grid-column-start":{values:["auto"]},"grid-row-end":{values:["auto"]},"grid-row-start":{values:["auto"]},"grid-template-areas":{values:["none"]},"grid-template-columns":{values:["none"]},"grid-template-rows":{values:["none"]},height:{values:["auto","fit-content","min-content","max-content"]},hyphens:{values:["none","manual","auto"]},"image-rendering":{values:["auto","optimizespeed","optimizequality","-webkit-optimize-contrast","pixelated"]},"inline-size":{values:["auto"]},isolation:{values:["auto","isolate"]},left:{values:["auto"]},"letter-spacing":{values:["normal"]},"lighting-color":{values:["currentcolor"]},"line-break":{values:["auto","loose","normal","strict","anywhere"]},"line-height":{values:["normal"]},"list-style-image":{values:["none"]},"list-style-position":{values:["outside","inside"]},"list-style-type":{values:["disc","circle","square","disclosure-open","disclosure-closed","decimal","none"]},"margin-block-end":{values:["auto"]},"margin-block-start":{values:["auto"]},"margin-bottom":{values:["auto"]},"margin-inline-end":{values:["auto"]},"margin-inline-start":{values:["auto"]},"margin-left":{values:["auto"]},"margin-right":{values:["auto"]},"margin-top":{values:["auto"]},"marker-end":{values:["none"]},"marker-mid":{values:["none"]},"marker-start":{values:["none"]},"mask-type":{values:["luminance","alpha"]},"math-shift":{values:["normal","compact"]},"math-style":{values:["normal","compact"]},"max-block-size":{values:["none"]},"max-height":{values:["none"]},"max-inline-size":{values:["none"]},"max-width":{values:["none"]},"mix-blend-mode":{values:["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},"object-fit":{values:["fill","contain","cover","none","scale-down"]},"object-view-box":{values:["none"]},"offset-anchor":{values:["auto"]},"offset-path":{values:["none"]},"offset-position":{values:["auto"]},"offset-rotate":{values:["auto","reverse"]},"origin-trial-test-property":{values:["normal","none"]},"outline-color":{values:["currentcolor"]},"outline-style":{values:["none","hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"outline-width":{values:["thin","medium","thick"]},"overflow-anchor":{values:["visible","none","auto"]},"overflow-clip-margin":{values:["border-box","content-box","padding-box"]},"overflow-wrap":{values:["normal","break-word","anywhere"]},"overflow-x":{values:["visible","hidden","scroll","auto","overlay","clip"]},"overflow-y":{values:["visible","hidden","scroll","auto","overlay","clip"]},"overscroll-behavior-x":{values:["auto","contain","none"]},"overscroll-behavior-y":{values:["auto","contain","none"]},page:{values:["auto"]},"page-transition-tag":{values:["none"]},"paint-order":{values:["normal","fill","stroke","markers"]},perspective:{values:["none"]},"pointer-events":{values:["none","auto","stroke","fill","painted","visible","visiblestroke","visiblefill","visiblepainted","bounding-box","all"]},position:{values:["static","relative","absolute","fixed","sticky"]},"position-fallback":{values:["none"]},quotes:{values:["auto","none"]},resize:{values:["none","both","horizontal","vertical","block","inline"]},right:{values:["auto"]},"row-gap":{values:["normal"]},rx:{values:["auto"]},ry:{values:["auto"]},"scroll-behavior":{values:["auto","smooth"]},"scroll-padding-block-end":{values:["auto"]},"scroll-padding-block-start":{values:["auto"]},"scroll-padding-bottom":{values:["auto"]},"scroll-padding-inline-end":{values:["auto"]},"scroll-padding-inline-start":{values:["auto"]},"scroll-padding-left":{values:["auto"]},"scroll-padding-right":{values:["auto"]},"scroll-padding-top":{values:["auto"]},"scroll-snap-align":{values:["none","start","end","center"]},"scroll-snap-stop":{values:["normal","always"]},"scroll-snap-type":{values:["none","x","y","block","inline","both","mandatory","proximity"]},"scrollbar-gutter":{values:["auto","stable","both-edges"]},"scrollbar-width":{values:["auto","thin","none"]},"shape-margin":{values:["none"]},"shape-outside":{values:["none"]},"shape-rendering":{values:["auto","optimizespeed","crispedges","geometricprecision"]},speak:{values:["none","normal","spell-out","digits","literal-punctuation","no-punctuation"]},"stop-color":{values:["currentcolor"]},"stroke-dasharray":{values:["none"]},"stroke-linecap":{values:["butt","round","square"]},"stroke-linejoin":{values:["miter","bevel","round"]},"table-layout":{values:["auto","fixed"]},"text-align":{values:["left","right","center","justify","-webkit-left","-webkit-right","-webkit-center","start","end"]},"text-align-last":{values:["auto","start","end","left","right","center","justify"]},"text-anchor":{values:["start","middle","end"]},"text-combine-upright":{values:["none","all"]},"text-decoration-color":{values:["currentcolor"]},"text-decoration-line":{values:["none","underline","overline","line-through","blink","spelling-error","grammar-error"]},"text-decoration-skip-ink":{values:["none","auto"]},"text-decoration-style":{values:["solid","double","dotted","dashed","wavy"]},"text-decoration-thickness":{values:["auto","from-font"]},"text-emphasis-color":{values:["currentcolor"]},"text-justify":{values:["auto","none","inter-word","distribute"]},"text-orientation":{values:["sideways","mixed","upright"]},"text-overflow":{values:["clip","ellipsis"]},"text-rendering":{values:["auto","optimizespeed","optimizelegibility","geometricprecision"]},"text-shadow":{values:["none"]},"text-size-adjust":{values:["none","auto"]},"text-transform":{values:["capitalize","uppercase","lowercase","none","math-auto"]},"text-underline-offset":{values:["auto"]},"text-underline-position":{values:["auto","from-font","under","left","right"]},"toggle-group":{values:["none"]},"toggle-root":{values:["none"]},"toggle-trigger":{values:["none"]},top:{values:["auto"]},"touch-action":{values:["auto","none","pan-x","pan-left","pan-right","pan-y","pan-up","pan-down","pinch-zoom","manipulation"]},transform:{values:["none"]},"transform-box":{values:["fill-box","view-box"]},"transform-style":{values:["flat","preserve-3d"]},"transition-property":{values:["none"]},"transition-timing-function":{values:["linear","ease","ease-in","ease-out","ease-in-out","jump-both","jump-end","jump-none","jump-start","step-start","step-end"]},"unicode-bidi":{values:["normal","embed","bidi-override","isolate","plaintext","isolate-override"]},"user-select":{values:["auto","none","text","all"]},"vector-effect":{values:["none","non-scaling-stroke"]},"vertical-align":{values:["baseline","sub","super","text-top","text-bottom","middle"]},visibility:{values:["visible","hidden","collapse"]},"white-space":{values:["normal","pre","pre-wrap","pre-line","nowrap","-webkit-nowrap","break-spaces"]},width:{values:["auto","fit-content","min-content","max-content"]},"will-change":{values:["auto"]},"word-break":{values:["normal","break-all","keep-all","break-word"]},"word-spacing":{values:["normal"]},"writing-mode":{values:["horizontal-tb","vertical-rl","vertical-lr"]},"z-index":{values:["auto"]}},u=new Map([["-epub-caption-side","caption-side"],["-epub-text-combine","-webkit-text-combine"],["-epub-text-emphasis","text-emphasis"],["-epub-text-emphasis-color","text-emphasis-color"],["-epub-text-emphasis-style","text-emphasis-style"],["-epub-text-orientation","-webkit-text-orientation"],["-epub-text-transform","text-transform"],["-epub-word-break","word-break"],["-epub-writing-mode","-webkit-writing-mode"],["-webkit-align-content","align-content"],["-webkit-align-items","align-items"],["-webkit-align-self","align-self"],["-webkit-animation","animation"],["-webkit-animation-delay","animation-delay"],["-webkit-animation-direction","animation-direction"],["-webkit-animation-duration","animation-duration"],["-webkit-animation-fill-mode","animation-fill-mode"],["-webkit-animation-iteration-count","animation-iteration-count"],["-webkit-animation-name","animation-name"],["-webkit-animation-play-state","animation-play-state"],["-webkit-animation-timing-function","animation-timing-function"],["-webkit-app-region","app-region"],["-webkit-appearance","appearance"],["-webkit-backface-visibility","backface-visibility"],["-webkit-background-clip","background-clip"],["-webkit-background-origin","background-origin"],["-webkit-background-size","background-size"],["-webkit-border-after","border-block-end"],["-webkit-border-after-color","border-block-end-color"],["-webkit-border-after-style","border-block-end-style"],["-webkit-border-after-width","border-block-end-width"],["-webkit-border-before","border-block-start"],["-webkit-border-before-color","border-block-start-color"],["-webkit-border-before-style","border-block-start-style"],["-webkit-border-before-width","border-block-start-width"],["-webkit-border-bottom-left-radius","border-bottom-left-radius"],["-webkit-border-bottom-right-radius","border-bottom-right-radius"],["-webkit-border-end","border-inline-end"],["-webkit-border-end-color","border-inline-end-color"],["-webkit-border-end-style","border-inline-end-style"],["-webkit-border-end-width","border-inline-end-width"],["-webkit-border-radius","border-radius"],["-webkit-border-start","border-inline-start"],["-webkit-border-start-color","border-inline-start-color"],["-webkit-border-start-style","border-inline-start-style"],["-webkit-border-start-width","border-inline-start-width"],["-webkit-border-top-left-radius","border-top-left-radius"],["-webkit-border-top-right-radius","border-top-right-radius"],["-webkit-box-shadow","box-shadow"],["-webkit-box-sizing","box-sizing"],["-webkit-clip-path","clip-path"],["-webkit-column-count","column-count"],["-webkit-column-gap","column-gap"],["-webkit-column-rule","column-rule"],["-webkit-column-rule-color","column-rule-color"],["-webkit-column-rule-style","column-rule-style"],["-webkit-column-rule-width","column-rule-width"],["-webkit-column-span","column-span"],["-webkit-column-width","column-width"],["-webkit-columns","columns"],["-webkit-filter","filter"],["-webkit-flex","flex"],["-webkit-flex-basis","flex-basis"],["-webkit-flex-direction","flex-direction"],["-webkit-flex-flow","flex-flow"],["-webkit-flex-grow","flex-grow"],["-webkit-flex-shrink","flex-shrink"],["-webkit-flex-wrap","flex-wrap"],["-webkit-font-feature-settings","font-feature-settings"],["-webkit-justify-content","justify-content"],["-webkit-logical-height","block-size"],["-webkit-logical-width","inline-size"],["-webkit-margin-after","margin-block-end"],["-webkit-margin-before","margin-block-start"],["-webkit-margin-end","margin-inline-end"],["-webkit-margin-start","margin-inline-start"],["-webkit-max-logical-height","max-block-size"],["-webkit-max-logical-width","max-inline-size"],["-webkit-min-logical-height","min-block-size"],["-webkit-min-logical-width","min-inline-size"],["-webkit-opacity","opacity"],["-webkit-order","order"],["-webkit-padding-after","padding-block-end"],["-webkit-padding-before","padding-block-start"],["-webkit-padding-end","padding-inline-end"],["-webkit-padding-start","padding-inline-start"],["-webkit-perspective","perspective"],["-webkit-perspective-origin","perspective-origin"],["-webkit-shape-image-threshold","shape-image-threshold"],["-webkit-shape-margin","shape-margin"],["-webkit-shape-outside","shape-outside"],["-webkit-text-emphasis","text-emphasis"],["-webkit-text-emphasis-color","text-emphasis-color"],["-webkit-text-emphasis-position","text-emphasis-position"],["-webkit-text-emphasis-style","text-emphasis-style"],["-webkit-text-size-adjust","text-size-adjust"],["-webkit-transform","transform"],["-webkit-transform-origin","transform-origin"],["-webkit-transform-style","transform-style"],["-webkit-transition","transition"],["-webkit-transition-delay","transition-delay"],["-webkit-transition-duration","transition-duration"],["-webkit-transition-property","transition-property"],["-webkit-transition-timing-function","transition-timing-function"],["-webkit-user-select","user-select"],["word-wrap","overflow-wrap"]]);class g{#t;#n;#r;#s;#i;#a;#o;#l;#d;#c;constructor(e,n){this.#t=[],this.#n=new Map,this.#r=new Map,this.#s=new Set,this.#i=new Set,this.#a=new Map,this.#o=n;for(let t=0;t<e.length;++t){const n=e[t],r=n.name;if(!CSS.supports(r,"initial"))continue;this.#t.push(r),n.inherited&&this.#s.add(r),n.svg&&this.#i.add(r);const s=e[t].longhands;if(s){this.#n.set(r,s);for(let e=0;e<s.length;++e){const t=s[e];let n=this.#r.get(t);n||(n=[],this.#r.set(t,n)),n.push(r)}}}this.#t.sort(g.sortPrefixesToEnd),this.#l=new Set(this.#t);const r=new Map;for(const[e,t]of Object.entries(h))r.set(e,new Set(t.values));for(const[e,n]of Object.entries(M)){const s=r.get(e);s?t.SetUtilities.addAll(s,n.values):r.set(e,new Set(n.values))}for(const[e,t]of r){for(const n of P)!t.has(n)&&CSS.supports(e,n)&&t.add(n);this.#a.set(e,[...t])}this.#d=[],this.#c=[];for(const e of this.#l){const t=this.specificPropertyValues(e).filter((t=>CSS.supports(e,t))).sort(g.sortPrefixesToEnd).map((t=>`${e}: ${t}`));this.isSVGProperty(e)||this.#d.push(...t),this.#c.push(...t)}}static sortPrefixesToEnd(e,t){const n=e.startsWith("-webkit-"),r=t.startsWith("-webkit-");return n&&!r?1:!n&&r||e<t?-1:e>t?1:0}allProperties(){return this.#t}nameValuePresets(e){return e?this.#c:this.#d}isSVGProperty(e){return e=e.toLowerCase(),this.#i.has(e)}getLonghands(e){return this.#n.get(e)||null}getShorthands(e){return this.#r.get(e)||null}isColorAwareProperty(e){return T.has(e.toLowerCase())||this.isCustomProperty(e.toLowerCase())}isFontFamilyProperty(e){return"font-family"===e.toLowerCase()}isAngleAwareProperty(e){const t=e.toLowerCase();return T.has(t)||R.has(t)}isGridAreaDefiningProperty(e){return"grid"===(e=e.toLowerCase())||"grid-template"===e||"grid-template-areas"===e}isLengthProperty(e){return"line-height"!==(e=e.toLowerCase())&&(k.has(e)||e.startsWith("margin")||e.startsWith("padding")||-1!==e.indexOf("width")||-1!==e.indexOf("height"))}isBezierAwareProperty(e){return e=e.toLowerCase(),w.has(e)||this.isCustomProperty(e)}isFontAwareProperty(e){return e=e.toLowerCase(),C.has(e)||this.isCustomProperty(e)}isCustomProperty(e){return e.startsWith("--")}isShadowProperty(e){return"box-shadow"===(e=e.toLowerCase())||"text-shadow"===e||"-webkit-box-shadow"===e}isStringProperty(e){return"content"===(e=e.toLowerCase())}canonicalPropertyName(e){if(this.isCustomProperty(e))return e;e=e.toLowerCase();const t=this.#o.get(e);if(t)return t;if(!e||e.length<9||"-"!==e.charAt(0))return e;const n=e.match(/(?:-webkit-)(.+)/);return n&&this.#l.has(n[1])?n[1]:e}isCSSPropertyName(e){return!!((e=e.toLowerCase()).startsWith("--")&&e.length>2||e.startsWith("-moz-")||e.startsWith("-ms-")||e.startsWith("-o-")||e.startsWith("-webkit-"))||this.#l.has(e)}isPropertyInherited(e){return(e=e.toLowerCase()).startsWith("--")||this.#s.has(this.canonicalPropertyName(e))||this.#s.has(e)}specificPropertyValues(e){const t=e.replace(/^-webkit-/,""),n=this.#a;let r=n.get(e)||n.get(t);if(!r){r=[];for(const t of P)CSS.supports(e,t)&&r.push(t);n.set(e,r)}return r}getPropertyValues(t){const n=["inherit","initial","revert","unset"];if(t=t.toLowerCase(),n.push(...this.specificPropertyValues(t)),this.isColorAwareProperty(t)){n.push("currentColor");for(const t of e.Color.Nicknames.keys())n.push(t)}return n.sort(g.sortPrefixesToEnd)}propertyUsageWeight(e){return x.get(e)||x.get(this.canonicalPropertyName(e))||0}getValuePreset(e,t){const n=S.get(e);let r=n?n.get(t):null;if(!r)return null;let s=r.length,i=r.length;return r&&(s=r.indexOf("|"),i=r.lastIndexOf("|"),i=s===i?i:i-1,r=r.replace(/\|/g,"")),{text:r,startColumn:s,endColumn:i}}isHighlightPseudoType(e){return"highlight"===e||"selection"===e||"target-text"===e||"grammar-error"===e||"spelling-error"===e}}const p=/(var\(\s*--.*?\))/g,m=/(var\(*--[\w\d]+-([\w]+-[\w]+)\))/g,b=/((?:\[[\w\- ]+\]\s*)*(?:"[^"]+"|'[^']+'))[^'"\[]*\[?[^'"\[]*/;let f=null;function I(){if(!f){f=new g(c,u)}return f}const v=new Map([["linear-gradient","linear-gradient(|45deg, black, transparent|)"],["radial-gradient","radial-gradient(|black, transparent|)"],["repeating-linear-gradient","repeating-linear-gradient(|45deg, black, transparent 100px|)"],["repeating-radial-gradient","repeating-radial-gradient(|black, transparent 100px|)"],["url","url(||)"]]),y=new Map([["blur","blur(|1px|)"],["brightness","brightness(|0.5|)"],["contrast","contrast(|0.5|)"],["drop-shadow","drop-shadow(|2px 4px 6px black|)"],["grayscale","grayscale(|1|)"],["hue-rotate","hue-rotate(|45deg|)"],["invert","invert(|1|)"],["opacity","opacity(|0.5|)"],["saturate","saturate(|0.5|)"],["sepia","sepia(|1|)"],["url","url(||)"]]),S=new Map([["filter",y],["backdrop-filter",y],["background",v],["background-image",v],["-webkit-mask-image",v],["transform",new Map([["scale","scale(|1.5|)"],["scaleX","scaleX(|1.5|)"],["scaleY","scaleY(|1.5|)"],["scale3d","scale3d(|1.5, 1.5, 1.5|)"],["rotate","rotate(|45deg|)"],["rotateX","rotateX(|45deg|)"],["rotateY","rotateY(|45deg|)"],["rotateZ","rotateZ(|45deg|)"],["rotate3d","rotate3d(|1, 1, 1, 45deg|)"],["skew","skew(|10deg, 10deg|)"],["skewX","skewX(|10deg|)"],["skewY","skewY(|10deg|)"],["translate","translate(|10px, 10px|)"],["translateX","translateX(|10px|)"],["translateY","translateY(|10px|)"],["translateZ","translateZ(|10px|)"],["translate3d","translate3d(|10px, 10px, 10px|)"],["matrix","matrix(|1, 0, 0, 1, 0, 0|)"],["matrix3d","matrix3d(|1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1|)"],["perspective","perspective(|10px|)"]])]]),k=new Set(["background-position","border-spacing","bottom","font-size","height","left","letter-spacing","max-height","max-width","min-height","min-width","right","text-indent","top","width","word-spacing","grid-row-gap","grid-column-gap","row-gap"]),w=new Set(["animation","animation-timing-function","transition","transition-timing-function","-webkit-animation","-webkit-animation-timing-function","-webkit-transition","-webkit-transition-timing-function"]),C=new Set(["font-size","line-height","font-weight","font-family","letter-spacing"]),T=new Set(["accent-color","background","background-color","background-image","border","border-color","border-image","border-image-source","border-bottom","border-bottom-color","border-left","border-left-color","border-right","border-right-color","border-top","border-top-color","box-shadow","caret-color","color","column-rule","column-rule-color","content","fill","list-style-image","outline","outline-color","stop-color","stroke","text-decoration-color","text-shadow","-webkit-border-after","-webkit-border-after-color","-webkit-border-before","-webkit-border-before-color","-webkit-border-end","-webkit-border-end-color","-webkit-border-start","-webkit-border-start-color","-webkit-box-reflect","-webkit-box-shadow","-webkit-column-rule-color","-webkit-mask","-webkit-mask-box-image","-webkit-mask-box-image-source","-webkit-mask-image","-webkit-tap-highlight-color","-webkit-text-decoration-color","-webkit-text-emphasis","-webkit-text-emphasis-color","-webkit-text-fill-color","-webkit-text-stroke","-webkit-text-stroke-color"]),R=new Set(["-webkit-border-image","transform","-webkit-transform","rotate","filter","-webkit-filter","backdrop-filter","offset","offset-rotate","font-style"]),M={"background-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},content:{values:["normal","close-quote","no-close-quote","no-open-quote","open-quote"]},"baseline-shift":{values:["baseline"]},"max-height":{values:["min-content","max-content","-webkit-fill-available","fit-content"]},color:{values:["black"]},"background-color":{values:["white"]},"box-shadow":{values:["inset"]},"text-shadow":{values:["0 0 black"]},"-webkit-writing-mode":{values:["horizontal-tb","vertical-rl","vertical-lr"]},"writing-mode":{values:["lr","rl","tb","lr-tb","rl-tb","tb-rl"]},"page-break-inside":{values:["avoid"]},cursor:{values:["-webkit-zoom-in","-webkit-zoom-out","-webkit-grab","-webkit-grabbing"]},"border-width":{values:["medium","thick","thin"]},"border-style":{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double"]},size:{values:["a3","a4","a5","b4","b5","landscape","ledger","legal","letter","portrait"]},overflow:{values:["hidden","visible","overlay","scroll"]},"overscroll-behavior":{values:["contain"]},"text-rendering":{values:["optimizeSpeed","optimizeLegibility","geometricPrecision"]},"text-align":{values:["-webkit-auto","-webkit-match-parent"]},"clip-path":{values:["circle","ellipse","inset","polygon","url"]},"color-interpolation":{values:["sRGB","linearRGB"]},"word-wrap":{values:["normal","break-word"]},"font-weight":{values:["100","200","300","400","500","600","700","800","900"]},"-webkit-text-emphasis":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},"color-rendering":{values:["optimizeSpeed","optimizeQuality"]},"-webkit-text-combine":{values:["horizontal"]},"text-orientation":{values:["sideways-right"]},outline:{values:["inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"]},font:{values:["caption","icon","menu","message-box","small-caption","-webkit-mini-control","-webkit-small-control","-webkit-control","status-bar"]},"dominant-baseline":{values:["text-before-edge","text-after-edge","use-script","no-change","reset-size"]},"-webkit-text-emphasis-position":{values:["over","under"]},"alignment-baseline":{values:["before-edge","after-edge","text-before-edge","text-after-edge","hanging"]},"page-break-before":{values:["left","right","always","avoid"]},"border-image":{values:["repeat","stretch","space","round"]},"text-decoration":{values:["blink","line-through","overline","underline","wavy","double","solid","dashed","dotted"]},"font-family":{values:["serif","sans-serif","cursive","fantasy","monospace","system-ui","emoji","math","fangsong","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","-webkit-body"]},zoom:{values:["normal"]},"max-width":{values:["min-content","max-content","-webkit-fill-available","fit-content"]},"-webkit-font-smoothing":{values:["antialiased","subpixel-antialiased"]},border:{values:["hidden","inset","groove","ridge","outset","dotted","dashed","solid","double","medium","thick","thin"]},"font-variant":{values:["small-caps","normal","common-ligatures","no-common-ligatures","discretionary-ligatures","no-discretionary-ligatures","historical-ligatures","no-historical-ligatures","contextual","no-contextual","all-small-caps","petite-caps","all-petite-caps","unicase","titling-caps","lining-nums","oldstyle-nums","proportional-nums","tabular-nums","diagonal-fractions","stacked-fractions","ordinal","slashed-zero","jis78","jis83","jis90","jis04","simplified","traditional","full-width","proportional-width","ruby"]},"vertical-align":{values:["top","bottom","-webkit-baseline-middle"]},"page-break-after":{values:["left","right","always","avoid"]},"-webkit-text-emphasis-style":{values:["circle","filled","open","dot","double-circle","triangle","sesame"]},transform:{values:["scale","scaleX","scaleY","scale3d","rotate","rotateX","rotateY","rotateZ","rotate3d","skew","skewX","skewY","translate","translateX","translateY","translateZ","translate3d","matrix","matrix3d","perspective"]},"align-content":{values:["normal","baseline","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end"]},"justify-content":{values:["normal","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end","left","right"]},"place-content":{values:["normal","space-between","space-around","space-evenly","stretch","center","start","end","flex-start","flex-end","baseline"]},"align-items":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end"]},"justify-items":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","left","right","legacy"]},"place-items":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end"]},"align-self":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end"]},"justify-self":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end","left","right"]},"place-self":{values:["normal","stretch","baseline","center","start","end","self-start","self-end","flex-start","flex-end"]},"perspective-origin":{values:["left","center","right","top","bottom"]},"transform-origin":{values:["left","center","right","top","bottom"]},"transition-timing-function":{values:["cubic-bezier","steps"]},"animation-timing-function":{values:["cubic-bezier","steps"]},"-webkit-backface-visibility":{values:["visible","hidden"]},"-webkit-column-break-after":{values:["always","avoid"]},"-webkit-column-break-before":{values:["always","avoid"]},"-webkit-column-break-inside":{values:["avoid"]},"-webkit-column-span":{values:["all"]},"-webkit-column-gap":{values:["normal"]},filter:{values:["url","blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"]},"backdrop-filter":{values:["url","blur","brightness","contrast","drop-shadow","grayscale","hue-rotate","invert","opacity","saturate","sepia"]},"mix-blend-mode":{values:["unset"]},"background-blend-mode":{values:["unset"]},"grid-template-columns":{values:["min-content","max-content"]},"grid-template-rows":{values:["min-content","max-content"]},"grid-auto-flow":{values:["dense"]},background:{values:["repeat","repeat-x","repeat-y","no-repeat","top","bottom","left","right","center","fixed","local","scroll","space","round","border-box","content-box","padding-box","linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"background-image":{values:["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"background-position":{values:["top","bottom","left","right","center"]},"background-position-x":{values:["left","right","center"]},"background-position-y":{values:["top","bottom","center"]},"background-repeat-x":{values:["repeat","no-repeat"]},"background-repeat-y":{values:["repeat","no-repeat"]},"border-bottom":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-left":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-right":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"border-top":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"buffered-rendering":{values:["static","dynamic"]},"color-interpolation-filters":{values:["srgb","linearrgb"]},"column-rule":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"flex-flow":{values:["nowrap","row","row-reverse","column","column-reverse","wrap","wrap-reverse"]},height:{values:["-webkit-fill-available"]},"inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"list-style":{values:["outside","inside","disc","circle","square","decimal","decimal-leading-zero","arabic-indic","bengali","cambodian","khmer","devanagari","gujarati","gurmukhi","kannada","lao","malayalam","mongolian","myanmar","oriya","persian","urdu","telugu","tibetan","thai","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","cjk-earthly-branch","cjk-heavenly-stem","ethiopic-halehame","ethiopic-halehame-am","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","hangul","hangul-consonant","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","hebrew","armenian","lower-armenian","upper-armenian","georgian","cjk-ideographic","simp-chinese-formal","simp-chinese-informal","trad-chinese-formal","trad-chinese-informal","hiragana","katakana","hiragana-iroha","katakana-iroha"]},"max-block-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"max-inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-block-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-inline-size":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"min-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"object-position":{values:["top","bottom","left","right","center"]},"shape-outside":{values:["border-box","content-box","padding-box","margin-box"]},"-webkit-appearance":{values:["checkbox","radio","push-button","square-button","button","inner-spin-button","listbox","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","menulist","menulist-button","meter","progress-bar","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","searchfield","searchfield-cancel-button","textfield","textarea"]},"-webkit-border-after":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-after-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-after-width":{values:["medium","thick","thin"]},"-webkit-border-before":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-before-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-before-width":{values:["medium","thick","thin"]},"-webkit-border-end":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-end-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-end-width":{values:["medium","thick","thin"]},"-webkit-border-start":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double","medium","thick","thin"]},"-webkit-border-start-style":{values:["hidden","inset","groove","outset","ridge","dotted","dashed","solid","double"]},"-webkit-border-start-width":{values:["medium","thick","thin"]},"-webkit-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-margin-collapse":{values:["collapse","separate","discard"]},"-webkit-mask-box-image":{values:["repeat","stretch","space","round"]},"-webkit-mask-box-image-repeat":{values:["repeat","stretch","space","round"]},"-webkit-mask-clip":{values:["text","border","border-box","content","content-box","padding","padding-box"]},"-webkit-mask-composite":{values:["clear","copy","source-over","source-in","source-out","source-atop","destination-over","destination-in","destination-out","destination-atop","xor","plus-lighter"]},"-webkit-mask-image":{values:["linear-gradient","radial-gradient","repeating-linear-gradient","repeating-radial-gradient","url"]},"-webkit-mask-origin":{values:["border","border-box","content","content-box","padding","padding-box"]},"-webkit-mask-position":{values:["top","bottom","left","right","center"]},"-webkit-mask-position-x":{values:["left","right","center"]},"-webkit-mask-position-y":{values:["top","bottom","center"]},"-webkit-mask-repeat":{values:["repeat","repeat-x","repeat-y","no-repeat","space","round"]},"-webkit-mask-size":{values:["contain","cover"]},"-webkit-max-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-max-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-min-logical-height":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-min-logical-width":{values:["-webkit-fill-available","min-content","max-content","fit-content"]},"-webkit-perspective-origin-x":{values:["left","right","center"]},"-webkit-perspective-origin-y":{values:["top","bottom","center"]},"-webkit-text-decorations-in-effect":{values:["blink","line-through","overline","underline"]},"-webkit-text-stroke":{values:["medium","thick","thin"]},"-webkit-text-stroke-width":{values:["medium","thick","thin"]},"-webkit-transform-origin-x":{values:["left","right","center"]},"-webkit-transform-origin-y":{values:["top","bottom","center"]},width:{values:["-webkit-fill-available"]}},x=new Map([["align-content",57],["align-items",129],["align-self",55],["animation",175],["animation-delay",114],["animation-direction",113],["animation-duration",137],["animation-fill-mode",132],["animation-iteration-count",124],["animation-name",139],["animation-play-state",104],["animation-timing-function",141],["backface-visibility",123],["background",260],["background-attachment",119],["background-clip",165],["background-color",259],["background-image",246],["background-origin",107],["background-position",237],["background-position-x",108],["background-position-y",93],["background-repeat",234],["background-size",203],["border",263],["border-bottom",233],["border-bottom-color",190],["border-bottom-left-radius",186],["border-bottom-right-radius",185],["border-bottom-style",150],["border-bottom-width",179],["border-collapse",209],["border-color",226],["border-image",89],["border-image-outset",50],["border-image-repeat",49],["border-image-slice",58],["border-image-source",32],["border-image-width",52],["border-left",221],["border-left-color",174],["border-left-style",142],["border-left-width",172],["border-radius",224],["border-right",223],["border-right-color",182],["border-right-style",130],["border-right-width",178],["border-spacing",198],["border-style",206],["border-top",231],["border-top-color",192],["border-top-left-radius",187],["border-top-right-radius",189],["border-top-style",152],["border-top-width",180],["border-width",214],["bottom",227],["box-shadow",213],["box-sizing",216],["caption-side",96],["clear",229],["clip",173],["clip-rule",5],["color",256],["content",219],["counter-increment",111],["counter-reset",110],["cursor",250],["direction",176],["display",262],["empty-cells",99],["fill",140],["fill-opacity",82],["fill-rule",22],["filter",160],["flex",133],["flex-basis",66],["flex-direction",85],["flex-flow",94],["flex-grow",112],["flex-shrink",61],["flex-wrap",68],["float",252],["font",211],["font-family",254],["font-kerning",18],["font-size",264],["font-stretch",77],["font-style",220],["font-variant",161],["font-weight",257],["height",266],["image-rendering",90],["justify-content",127],["left",248],["letter-spacing",188],["line-height",244],["list-style",215],["list-style-image",145],["list-style-position",149],["list-style-type",199],["margin",267],["margin-bottom",241],["margin-left",243],["margin-right",238],["margin-top",253],["mask",20],["max-height",205],["max-width",225],["min-height",217],["min-width",218],["object-fit",33],["opacity",251],["order",117],["orphans",146],["outline",222],["outline-color",153],["outline-offset",147],["outline-style",151],["outline-width",148],["overflow",255],["overflow-wrap",105],["overflow-x",184],["overflow-y",196],["padding",265],["padding-bottom",230],["padding-left",235],["padding-right",232],["padding-top",240],["page",8],["page-break-after",120],["page-break-before",69],["page-break-inside",121],["perspective",92],["perspective-origin",103],["pointer-events",183],["position",261],["quotes",158],["resize",168],["right",245],["shape-rendering",38],["size",64],["speak",118],["src",170],["stop-color",42],["stop-opacity",31],["stroke",98],["stroke-dasharray",36],["stroke-dashoffset",3],["stroke-linecap",30],["stroke-linejoin",21],["stroke-miterlimit",12],["stroke-opacity",34],["stroke-width",87],["table-layout",171],["tab-size",46],["text-align",260],["text-anchor",35],["text-decoration",247],["text-indent",207],["text-overflow",204],["text-rendering",155],["text-shadow",208],["text-transform",202],["top",258],["touch-action",80],["transform",181],["transform-origin",162],["transform-style",86],["transition",193],["transition-delay",134],["transition-duration",135],["transition-property",131],["transition-timing-function",122],["unicode-bidi",156],["unicode-range",136],["vertical-align",236],["visibility",242],["-webkit-appearance",191],["-webkit-backface-visibility",154],["-webkit-background-clip",164],["-webkit-background-origin",40],["-webkit-background-size",163],["-webkit-border-end",9],["-webkit-border-horizontal-spacing",81],["-webkit-border-image",75],["-webkit-border-radius",212],["-webkit-border-start",10],["-webkit-border-start-color",16],["-webkit-border-start-width",13],["-webkit-border-vertical-spacing",43],["-webkit-box-align",101],["-webkit-box-direction",51],["-webkit-box-flex",128],["-webkit-box-ordinal-group",91],["-webkit-box-orient",144],["-webkit-box-pack",106],["-webkit-box-reflect",39],["-webkit-box-shadow",210],["-webkit-column-break-inside",60],["-webkit-column-count",84],["-webkit-column-gap",76],["-webkit-column-rule",25],["-webkit-column-rule-color",23],["-webkit-columns",44],["-webkit-column-span",29],["-webkit-column-width",47],["-webkit-filter",159],["-webkit-font-feature-settings",59],["-webkit-font-smoothing",177],["-webkit-highlight",1],["-webkit-line-break",45],["-webkit-line-clamp",126],["-webkit-margin-after",67],["-webkit-margin-before",70],["-webkit-margin-collapse",14],["-webkit-margin-end",65],["-webkit-margin-start",100],["-webkit-margin-top-collapse",78],["-webkit-mask",19],["-webkit-mask-box-image",72],["-webkit-mask-image",88],["-webkit-mask-position",54],["-webkit-mask-repeat",63],["-webkit-mask-size",79],["-webkit-padding-after",15],["-webkit-padding-before",28],["-webkit-padding-end",48],["-webkit-padding-start",73],["-webkit-print-color-adjust",83],["-webkit-rtl-ordering",7],["-webkit-tap-highlight-color",169],["-webkit-text-emphasis-color",11],["-webkit-text-fill-color",71],["-webkit-text-security",17],["-webkit-text-stroke",56],["-webkit-text-stroke-color",37],["-webkit-text-stroke-width",53],["-webkit-user-drag",95],["-webkit-user-modify",62],["-webkit-user-select",194],["-webkit-writing-mode",4],["white-space",228],["widows",115],["width",268],["will-change",74],["word-break",166],["word-spacing",157],["word-wrap",197],["writing-mode",41],["z-index",239],["zoom",200]]),P=["auto","none"];var L=Object.freeze({__proto__:null,CSSMetadata:g,VariableRegex:p,CustomVariableRegex:m,URLRegex:/url\(\s*('.+?'|".+?"|[^)]+)\s*\)/g,GridAreaRowRegex:b,cssMetadata:I});class E{callFrame;callUID;self;total;id;parent;children;depth;deoptReason;constructor(e){this.callFrame=e,this.callUID=`${e.functionName}@${e.scriptId}:${e.lineNumber}:${e.columnNumber}`,this.self=0,this.total=0,this.id=0,this.parent=null,this.children=[]}get functionName(){return this.callFrame.functionName}get scriptId(){return String(this.callFrame.scriptId)}get url(){return this.callFrame.url}get lineNumber(){return this.callFrame.lineNumber}get columnNumber(){return this.callFrame.columnNumber}}class A{#e;root;total;maxDepth;constructor(e){this.#e=e||null}initialize(e){this.root=e,this.assignDepthsAndParents(),this.total=this.calculateTotals(this.root)}assignDepthsAndParents(){const e=this.root;e.depth=-1,e.parent=null,this.maxDepth=0;const t=[e];for(;t.length;){const e=t.pop(),n=e.depth+1;n>this.maxDepth&&(this.maxDepth=n);const r=e.children;for(const s of r)s.depth=n,s.parent=e,s.children.length&&t.push(s)}}calculateTotals(e){const t=[e],n=[];for(;t.length;){const e=t.pop();e.total=e.self,n.push(e),t.push(...e.children)}for(;n.length>1;){const e=n.pop();e.parent&&(e.parent.total+=e.total)}return e.total}target(){return this.#e}}var O=Object.freeze({__proto__:null,ProfileNode:E,ProfileTreeModel:A});class N{#h;#u;#g;#p;#m;#b;#f;constructor(e,t,n,r){this.#h=e,this.#u=t,this.#g=n,this.#p={},this.#m=0,this.#b=r||"Medium",this.#f=null}static fromProtocolCookie(e){const t=new N(e.name,e.value,null,e.priority);return t.addAttribute("domain",e.domain),t.addAttribute("path",e.path),e.expires&&t.addAttribute("expires",1e3*e.expires),e.httpOnly&&t.addAttribute("httpOnly"),e.secure&&t.addAttribute("secure"),e.sameSite&&t.addAttribute("sameSite",e.sameSite),e.sameParty&&t.addAttribute("sameParty"),"sourcePort"in e&&t.addAttribute("sourcePort",e.sourcePort),"sourceScheme"in e&&t.addAttribute("sourceScheme",e.sourceScheme),"partitionKey"in e&&t.addAttribute("partitionKey",e.partitionKey),"partitionKeyOpaque"in e&&t.addAttribute("partitionKey","<opaque>"),t.setSize(e.size),t}key(){return(this.domain()||"-")+" "+this.name()+" "+(this.path()||"-")}name(){return this.#h}value(){return this.#u}type(){return this.#g}httpOnly(){return"httponly"in this.#p}secure(){return"secure"in this.#p}sameSite(){return this.#p.samesite}sameParty(){return"sameparty"in this.#p}partitionKey(){return this.#p.partitionkey}partitionKeyOpaque(){return"<opaque>"===this.#p.partitionkey}priority(){return this.#b}session(){return!("expires"in this.#p||"max-age"in this.#p)}path(){return this.#p.path}domain(){return this.#p.domain}expires(){return this.#p.expires}maxAge(){return this.#p["max-age"]}sourcePort(){return this.#p.sourceport}sourceScheme(){return this.#p.sourcescheme}size(){return this.#m}url(){if(!this.domain()||!this.path())return null;let e="";const t=this.sourcePort();return t&&80!==t&&443!==t&&(e=`:${this.sourcePort()}`),(this.secure()?"https://":"http://")+this.domain()+e+this.path()}setSize(e){this.#m=e}expiresDate(e){return this.maxAge()?new Date(e.getTime()+1e3*this.maxAge()):this.expires()?new Date(this.expires()):null}addAttribute(e,t){const n=e.toLowerCase();if("priority"===n)this.#b=t;else this.#p[n]=t}setCookieLine(e){this.#f=e}getCookieLine(){return this.#f}matchesSecurityOrigin(e){const t=new URL(e).hostname;return N.isDomainMatch(this.domain(),t)}static isDomainMatch(e,t){return t===e||!(!e||"."!==e[0])&&(e.substr(1)===t||t.length>e.length&&t.endsWith(e))}}var F,D;!function(e){e[e.Request=0]="Request",e[e.Response=1]="Response"}(F||(F={})),function(e){e.Name="name",e.Value="value",e.Size="size",e.Domain="domain",e.Path="path",e.Expires="expires",e.HttpOnly="httpOnly",e.Secure="secure",e.SameSite="sameSite",e.SameParty="sameParty",e.SourceScheme="sourceScheme",e.SourcePort="sourcePort",e.Priority="priority",e.PartitionKey="partitionKey"}(D||(D={}));var B=Object.freeze({__proto__:null,Cookie:N,get Type(){return F},get Attributes(){return D}});class U{#I;#v;#y;#S;#k;#w;#C;constructor(e){e&&(this.#I=e.toLowerCase().replace(/^\./,"")),this.#v=[],this.#S=0}static parseSetCookie(e,t){return new U(t).parseSetCookie(e)}cookies(){return this.#v}parseSetCookie(e){if(!this.initialize(e))return null;for(let e=this.extractKeyValue();e;e=this.extractKeyValue())this.#k?this.#k.addAttribute(e.key,e.value):this.addCookie(e,F.Response),this.advanceAndCheckCookieDelimiter()&&this.flushCookie();return this.flushCookie(),this.#v}initialize(e){return this.#y=e,"string"==typeof e&&(this.#v=[],this.#k=null,this.#w="",this.#S=this.#y.length,!0)}flushCookie(){this.#k&&(this.#k.setSize(this.#S-this.#y.length-this.#C),this.#k.setCookieLine(this.#w.replace("\n",""))),this.#k=null,this.#w=""}extractKeyValue(){if(!this.#y||!this.#y.length)return null;const e=/^[ \t]*([^=;]+)[ \t]*(?:=[ \t]*([^;\n]*))?/.exec(this.#y);if(!e)return console.error("Failed parsing cookie header before: "+this.#y),null;const t=new H(e[1]&&e[1].trim(),e[2]&&e[2].trim(),this.#S-this.#y.length);return this.#w+=e[0],this.#y=this.#y.slice(e[0].length),t}advanceAndCheckCookieDelimiter(){if(!this.#y)return!1;const e=/^\s*[\n;]\s*/.exec(this.#y);return!!e&&(this.#w+=e[0],this.#y=this.#y.slice(e[0].length),null!==e[0].match("\n"))}addCookie(e,t){this.#k&&this.#k.setSize(e.position-this.#C),this.#k="string"==typeof e.value?new N(e.key,e.value,t):new N("",e.key,t),this.#I&&this.#k.addAttribute("domain",this.#I),this.#C=e.position,this.#v.push(this.#k)}}class H{key;value;position;constructor(e,t,n){this.key=e,this.value=t,this.position=n}}var q,_,z=Object.freeze({__proto__:null,CookieParser:U});class j extends i.InspectorBackend.TargetBase{#T;#h;#R;#M;#x;#g;#P;#L;#E;#A;#O;#N;constructor(e,n,r,s,i,a,o,l,d){switch(super(s===q.Node,i,a,l),this.#T=e,this.#h=r,this.#R=t.DevToolsPath.EmptyUrlString,this.#M="",this.#x=0,s){case q.Frame:this.#x=_.Browser|_.Storage|_.DOM|_.JS|_.Log|_.Network|_.Target|_.Tracing|_.Emulation|_.Input|_.Inspector|_.Audits|_.WebAuthn|_.IO|_.Media,i||(this.#x|=_.DeviceEmulation|_.ScreenCapture|_.Security|_.ServiceWorker);break;case q.ServiceWorker:this.#x=_.JS|_.Log|_.Network|_.Target|_.Inspector|_.IO,i||(this.#x|=_.Browser);break;case q.SharedWorker:this.#x=_.JS|_.Log|_.Network|_.Target|_.IO|_.Media|_.Inspector;break;case q.Worker:this.#x=_.JS|_.Log|_.Network|_.Target|_.IO|_.Media|_.Emulation;break;case q.Node:this.#x=_.JS;break;case q.AuctionWorklet:this.#x=_.JS|_.EventBreakpoints;break;case q.Browser:this.#x=_.Target|_.IO;break;case q.Tab:this.#x=_.Target}this.#g=s,this.#P=i,this.#L=n,this.#E=new Map,this.#A=o,this.#O=d}createModels(e){this.#N=!0;const t=Array.from(l.registeredModels.entries());for(const[e,n]of t)n.early&&this.model(e);for(const[n,r]of t)(r.autostart||e.has(n))&&this.model(n);this.#N=!1}id(){return this.#L}name(){return this.#h||this.#M}type(){return this.#g}markAsNodeJSForTest(){super.markAsNodeJSForTest(),this.#g=q.Node}targetManager(){return this.#T}hasAllCapabilities(e){return(this.#x&e)===e}decorateLabel(e){return this.#g===q.Worker||this.#g===q.ServiceWorker?"⚙ "+e:e}parentTarget(){return this.#P}dispose(e){super.dispose(e),this.#T.removeTarget(this);for(const e of this.#E.values())e.dispose()}model(e){if(!this.#E.get(e)){const t=l.registeredModels.get(e);if(void 0===t)throw"Model class is not registered @"+(new Error).stack;if((this.#x&t.capabilities)===t.capabilities){const t=new e(this);this.#E.set(e,t),this.#N||this.#T.modelAdded(this,e,t)}}return this.#E.get(e)||null}models(){return this.#E}inspectedURL(){return this.#R}setInspectedURL(n){this.#R=n;const r=e.ParsedURL.ParsedURL.fromString(n);this.#M=r?r.lastPathComponentWithFragment():"#"+this.#L,this.parentTarget()||s.InspectorFrontendHost.InspectorFrontendHostInstance.inspectedURLChanged(n||t.DevToolsPath.EmptyUrlString),this.#T.onInspectedURLChange(this),this.#h||this.#T.onNameChange(this)}async suspend(e){this.#A||(this.#A=!0,await Promise.all(Array.from(this.models().values(),(t=>t.preSuspendModel(e)))),await Promise.all(Array.from(this.models().values(),(t=>t.suspendModel(e)))))}async resume(){this.#A&&(this.#A=!1,await Promise.all(Array.from(this.models().values(),(e=>e.resumeModel()))),await Promise.all(Array.from(this.models().values(),(e=>e.postResumeModel()))))}suspended(){return this.#A}updateTargetInfo(e){this.#O=e}targetInfo(){return this.#O}}!function(e){e.Frame="frame",e.ServiceWorker="service-worker",e.Worker="worker",e.SharedWorker="shared-worker",e.Node="node",e.Browser="browser",e.AuctionWorklet="auction-worklet",e.Tab="tab"}(q||(q={})),function(e){e[e.Browser=1]="Browser",e[e.DOM=2]="DOM",e[e.JS=4]="JS",e[e.Log=8]="Log",e[e.Network=16]="Network",e[e.Target=32]="Target",e[e.ScreenCapture=64]="ScreenCapture",e[e.Tracing=128]="Tracing",e[e.Emulation=256]="Emulation",e[e.Security=512]="Security",e[e.Input=1024]="Input",e[e.Inspector=2048]="Inspector",e[e.DeviceEmulation=4096]="DeviceEmulation",e[e.Storage=8192]="Storage",e[e.ServiceWorker=16384]="ServiceWorker",e[e.Audits=32768]="Audits",e[e.WebAuthn=65536]="WebAuthn",e[e.IO=131072]="IO",e[e.Media=262144]="Media",e[e.EventBreakpoints=524288]="EventBreakpoints",e[e.None=0]="None"}(_||(_={}));var W=Object.freeze({__proto__:null,Target:j,get Type(){return q},get Capability(){return _}});let V;class G extends e.ObjectWrapper.ObjectWrapper{#F;#D;#B;#U;#A;#H;constructor(){super(),this.#F=new Set,this.#D=new Set,this.#B=new t.MapUtilities.Multimap,this.#U=new t.MapUtilities.Multimap,this.#A=!1,this.#H=null}static instance({forceNew:e}={forceNew:!1}){return V&&!e||(V=new G),V}static removeInstance(){V=void 0}onInspectedURLChange(e){this.dispatchEventToListeners(K.InspectedURLChanged,e)}onNameChange(e){this.dispatchEventToListeners(K.NameChanged,e)}async suspendAllTargets(e){if(this.#A)return;this.#A=!0,this.dispatchEventToListeners(K.SuspendStateChanged);const t=Array.from(this.#F.values(),(t=>t.suspend(e)));await Promise.all(t)}async resumeAllTargets(){if(!this.#A)return;this.#A=!1,this.dispatchEventToListeners(K.SuspendStateChanged);const e=Array.from(this.#F.values(),(e=>e.resume()));await Promise.all(e)}allTargetsSuspended(){return this.#A}models(e){const t=[];for(const n of this.#F){const r=n.model(e);r&&t.push(r)}return t}inspectedURL(){const e=this.mainTarget();return e?e.inspectedURL():""}observeModels(e,t){const n=this.models(e);this.#U.set(e,t);for(const e of n)t.modelAdded(e)}unobserveModels(e,t){this.#U.delete(e,t)}modelAdded(e,t,n){for(const e of this.#U.get(t).values())e.modelAdded(n)}modelRemoved(e,t,n){for(const e of this.#U.get(t).values())e.modelRemoved(n)}addModelListener(e,t,n,r){for(const s of this.models(e))s.addEventListener(t,n,r);this.#B.set(t,{modelClass:e,thisObject:r,listener:n})}removeModelListener(e,t,n,r){if(this.#B.has(t)){for(const s of this.models(e))s.removeEventListener(t,n,r);for(const s of this.#B.get(t))s.modelClass===e&&s.listener===n&&s.thisObject===r&&this.#B.delete(t,s)}}observeTargets(e){if(this.#D.has(e))throw new Error("Observer can only be registered once");for(const t of this.#F)e.targetAdded(t);this.#D.add(e)}unobserveTargets(e){this.#D.delete(e)}createTarget(e,t,n,r,s,i,a,o){const l=new j(this,e,t,n,r,s||"",this.#A,a||null,o);i&&l.pageAgent().invoke_waitForDebugger(),l.createModels(new Set(this.#U.keysArray())),this.#F.add(l);for(const e of[...this.#D])e.targetAdded(l);for(const[e,t]of l.models().entries())this.modelAdded(l,e,t);for(const e of this.#B.keysArray())for(const t of this.#B.get(e)){const n=l.model(t.modelClass);n&&n.addEventListener(e,t.listener,t.thisObject)}return l}removeTarget(e){if(this.#F.has(e)){this.#F.delete(e);for(const t of e.models().keys()){const n=e.models().get(t);this.modelRemoved(e,t,n)}for(const t of[...this.#D])t.targetRemoved(e);for(const t of this.#B.keysArray())for(const n of this.#B.get(t)){const r=e.model(n.modelClass);r&&r.removeEventListener(t,n.listener,n.thisObject)}}}targets(){return[...this.#F]}targetById(e){return this.targets().find((t=>t.id()===e))||null}mainTarget(){return this.#F.size?this.#F.values().next().value:null}browserTarget(){return this.#H}async maybeAttachInitialTarget(){if(!Boolean(a.Runtime.Runtime.queryParam("browserConnection")))return!1;this.#H||(this.#H=new j(this,"main","browser",q.Browser,null,"",!1,null,void 0),this.#H.createModels(new Set(this.#U.keysArray())));const e=await s.InspectorFrontendHost.InspectorFrontendHostInstance.initialTargetId();return this.#H.targetAgent().invoke_autoAttachRelated({targetId:e,waitForDebuggerOnStart:!0}),!0}clearAllTargetsForTest(){this.#F.clear()}}var K;!function(e){e.AvailableTargetsChanged="AvailableTargetsChanged",e.InspectedURLChanged="InspectedURLChanged",e.NameChanged="NameChanged",e.SuspendStateChanged="SuspendStateChanged"}(K||(K={}));var Q=Object.freeze({__proto__:null,TargetManager:G,get Events(){return K},Observer:class{targetAdded(e){}targetRemoved(e){}},SDKModelObserver:class{modelAdded(e){}modelRemoved(e){}}});const $={noContentForWebSocket:"Content for WebSockets is currently not supported",noContentForRedirect:"No content available because this request was redirected",noContentForPreflight:"No content available for preflight request",noThrottling:"No throttling",offline:"Offline",slowG:"Slow 3G",fastG:"Fast 3G",requestWasBlockedByDevtoolsS:'Request was blocked by DevTools: "{PH1}"',crossoriginReadBlockingCorb:"Cross-Origin Read Blocking (CORB) blocked cross-origin response {PH1} with MIME type {PH2}. See https://www.chromestatus.com/feature/5629709824032768 for more details.",sFailedLoadingSS:'{PH1} failed loading: {PH2} "{PH3}".',sFinishedLoadingSS:'{PH1} finished loading: {PH2} "{PH3}".'},X=r.i18n.registerUIStrings("core/sdk/NetworkManager.ts",$),J=r.i18n.getLocalizedString.bind(void 0,X),Y=r.i18n.getLazilyComputedLocalizedString.bind(void 0,X),Z=new WeakMap,ee=new Map([["2g","cellular2g"],["3g","cellular3g"],["4g","cellular4g"],["bluetooth","bluetooth"],["wifi","wifi"],["wimax","wimax"]]);class te extends l{dispatcher;fetchDispatcher;#q;#_;constructor(t){super(t),this.dispatcher=new de(this),this.fetchDispatcher=new le(t.fetchAgent()),this.#q=t.networkAgent(),t.registerNetworkDispatcher(this.dispatcher),t.registerFetchDispatcher(this.fetchDispatcher),e.Settings.Settings.instance().moduleSetting("cacheDisabled").get()&&this.#q.invoke_setCacheDisabled({cacheDisabled:!0}),this.#q.invoke_enable({maxPostDataSize:oe}),this.#q.invoke_setAttachDebugStack({enabled:!0}),this.#_=e.Settings.Settings.instance().createSetting("bypassServiceWorker",!1),this.#_.get()&&this.bypassServiceWorkerChanged(),this.#_.addChangeListener(this.bypassServiceWorkerChanged,this),e.Settings.Settings.instance().moduleSetting("cacheDisabled").addChangeListener(this.cacheDisabledSettingChanged,this)}static forRequest(e){return Z.get(e)||null}static canReplayRequest(t){return Boolean(Z.get(t))&&Boolean(t.backendRequestId())&&!t.isRedirect()&&t.resourceType()===e.ResourceType.resourceTypes.XHR}static replayRequest(e){const t=Z.get(e),n=e.backendRequestId();t&&n&&!e.isRedirect()&&t.#q.invoke_replayXHR({requestId:n})}static async searchInRequest(e,t,n,r){const s=te.forRequest(e),i=e.backendRequestId();if(!s||!i||e.isRedirect())return[];return(await s.#q.invoke_searchInResponseBody({requestId:i,query:t,caseSensitive:n,isRegex:r})).result||[]}static async requestContentData(t){if(t.resourceType()===e.ResourceType.resourceTypes.WebSocket)return{error:J($.noContentForWebSocket),content:null,encoded:!1};if(t.finished||await t.once(Ce.FinishedLoading),t.isRedirect())return{error:J($.noContentForRedirect),content:null,encoded:!1};if(t.isPreflightRequest())return{error:J($.noContentForPreflight),content:null,encoded:!1};const n=te.forRequest(t);if(!n)return{error:"No network manager for request",content:null,encoded:!1};const r=t.backendRequestId();if(!r)return{error:"No backend request id for request",content:null,encoded:!1};const s=await n.#q.invoke_getResponseBody({requestId:r}),i=s.getError()||null;return{error:i,content:i?null:s.body,encoded:s.base64Encoded}}static async requestPostData(e){const t=te.forRequest(e);if(!t)return console.error("No network manager for request"),null;const n=e.backendRequestId();if(!n)return console.error("No backend request id for request"),null;try{const{postData:e}=await t.#q.invoke_getRequestPostData({requestId:n});return e}catch(e){return e.message}}static connectionType(e){if(!e.download&&!e.upload)return"none";const t="function"==typeof e.title?e.title().toLowerCase():e.title.toLowerCase();for(const[e,n]of ee)if(t.includes(e))return n;return"other"}static lowercaseHeaders(e){const t={};for(const n in e)t[n.toLowerCase()]=e[n];return t}requestForURL(e){return this.dispatcher.requestForURL(e)}requestforId(e){return this.dispatcher.requestForId(e)}cacheDisabledSettingChanged({data:e}){this.#q.invoke_setCacheDisabled({cacheDisabled:e})}dispose(){e.Settings.Settings.instance().moduleSetting("cacheDisabled").removeChangeListener(this.cacheDisabledSettingChanged,this)}bypassServiceWorkerChanged(){this.#q.invoke_setBypassServiceWorker({bypass:this.#_.get()})}async getSecurityIsolationStatus(e){const t=await this.#q.invoke_getSecurityIsolationStatus({frameId:e??void 0});return t.getError()?null:t.status}async enableReportingApi(e=!0){return this.#q.invoke_enableReportingApi({enable:e})}async loadNetworkResource(e,t,n){const r=await this.#q.invoke_loadNetworkResource({frameId:e??void 0,url:t,options:n});if(r.getError())throw new Error(r.getError());return r.resource}clearRequests(){this.dispatcher.clearRequests()}}var ne;!function(e){e.RequestStarted="RequestStarted",e.RequestUpdated="RequestUpdated",e.RequestFinished="RequestFinished",e.RequestUpdateDropped="RequestUpdateDropped",e.ResponseReceived="ResponseReceived",e.MessageGenerated="MessageGenerated",e.RequestRedirected="RequestRedirected",e.LoadingFinished="LoadingFinished",e.ReportingApiReportAdded="ReportingApiReportAdded",e.ReportingApiReportUpdated="ReportingApiReportUpdated",e.ReportingApiEndpointsChangedForOrigin="ReportingApiEndpointsChangedForOrigin"}(ne||(ne={}));const re={title:Y($.noThrottling),i18nTitleKey:$.noThrottling,download:-1,upload:-1,latency:0},se={title:Y($.offline),i18nTitleKey:$.offline,download:0,upload:0,latency:0},ie={title:Y($.slowG),i18nTitleKey:$.slowG,download:5e4,upload:5e4,latency:2e3},ae={title:Y($.fastG),i18nTitleKey:$.fastG,download:18e4,upload:84375,latency:562.5},oe=65536;class le{#z;constructor(e){this.#z=e}requestPaused({requestId:e,request:t,resourceType:n,responseStatusCode:r,responseHeaders:s}){he.instance().requestIntercepted(new ue(this.#z,t,n,e,r,s))}authRequired({}){}}class de{#j;#W;#V;#G;#K;constructor(e){this.#j=e,this.#W=new Map,this.#V=new Map,this.#G=new Map,this.#K=new Map,he.instance().addEventListener(he.Events.RequestIntercepted,this.#Q.bind(this))}#Q(e){const t=this.requestForURL(e.data);t&&t.setWasIntercepted(!0)}headersMapToHeadersArray(e){const t=[];for(const n in e){const r=e[n].split("\n");for(let e=0;e<r.length;++e)t.push({name:n,value:r[e]})}return t}updateNetworkRequestWithRequest(e,t){e.requestMethod=t.method,e.setRequestHeaders(this.headersMapToHeadersArray(t.headers)),e.setRequestFormData(Boolean(t.hasPostData),t.postData||null),e.setInitialPriority(t.initialPriority),e.mixedContentType=t.mixedContentType||"none",e.setReferrerPolicy(t.referrerPolicy),e.setIsSameSite(t.isSameSite||!1)}updateNetworkRequestWithResponse(t,n){n.url&&t.url()!==n.url&&t.setUrl(n.url),t.mimeType=n.mimeType,t.statusCode&&!t.wasIntercepted()||(t.statusCode=n.status),t.statusText&&!t.wasIntercepted()||(t.statusText=n.statusText),t.hasExtraResponseInfo()&&!t.wasIntercepted()||(t.responseHeaders=this.headersMapToHeadersArray(n.headers)),n.encodedDataLength>=0&&t.setTransferSize(n.encodedDataLength),n.requestHeaders&&!t.hasExtraRequestInfo()&&(t.setRequestHeaders(this.headersMapToHeadersArray(n.requestHeaders)),t.setRequestHeadersText(n.requestHeadersText||"")),t.connectionReused=n.connectionReused,t.connectionId=String(n.connectionId),n.remoteIPAddress&&t.setRemoteAddress(n.remoteIPAddress,n.remotePort||-1),n.fromServiceWorker&&(t.fetchedViaServiceWorker=!0),n.fromDiskCache&&t.setFromDiskCache(),n.fromPrefetchCache&&t.setFromPrefetchCache(),n.cacheStorageCacheName&&t.setResponseCacheStorageCacheName(n.cacheStorageCacheName),n.responseTime&&t.setResponseRetrievalTime(new Date(n.responseTime)),t.timing=n.timing,t.protocol=n.protocol||"",n.serviceWorkerResponseSource&&t.setServiceWorkerResponseSource(n.serviceWorkerResponseSource),t.setSecurityState(n.securityState),n.securityDetails&&t.setSecurityDetails(n.securityDetails);const r=e.ResourceType.ResourceType.fromMimeTypeOverride(t.mimeType);r&&t.setResourceType(r)}requestForId(e){return this.#W.get(e)||null}requestForURL(e){return this.#V.get(e)||null}resourceChangedPriority({requestId:e,newPriority:t}){const n=this.#W.get(e);n&&n.setPriority(t)}signedExchangeReceived({requestId:t,info:n}){let r=this.#W.get(t);(r||(r=this.#V.get(n.outerResponse.url),r))&&(r.setSignedExchangeInfo(n),r.setResourceType(e.ResourceType.resourceTypes.SignedExchange),this.updateNetworkRequestWithResponse(r,n.outerResponse),this.updateNetworkRequest(r),this.#j.dispatchEventToListeners(ne.ResponseReceived,{request:r,response:n.outerResponse}))}requestWillBeSent({requestId:t,loaderId:n,documentURL:r,request:s,timestamp:i,wallTime:a,initiator:o,redirectResponse:l,type:d,frameId:c}){let h=this.#W.get(t);if(h){if(!l)return;h.signedExchangeInfo()||this.responseReceived({requestId:t,loaderId:n,timestamp:i,type:d||"Other",response:l,hasExtraInfo:!1,frameId:c}),h=this.appendRedirect(t,i,s.url),this.#j.dispatchEventToListeners(ne.RequestRedirected,h)}else h=Me.create(t,s.url,r,c??null,n,o),Z.set(h,this.#j);h.hasNetworkData=!0,this.updateNetworkRequestWithRequest(h,s),h.setIssueTime(i,a),h.setResourceType(d?e.ResourceType.resourceTypes[d]:e.ResourceType.resourceTypes.Other),s.trustTokenParams&&h.setTrustTokenParams(s.trustTokenParams);const u=this.#K.get(t);u&&(h.setTrustTokenOperationDoneEvent(u),this.#K.delete(t)),this.getExtraInfoBuilder(t).addRequest(h),this.startNetworkRequest(h,s)}requestServedFromCache({requestId:e}){const t=this.#W.get(e);t&&t.setFromMemoryCache()}responseReceived({requestId:t,loaderId:n,timestamp:r,type:s,response:i,frameId:a}){const o=this.#W.get(t),l=te.lowercaseHeaders(i.headers);if(o)o.responseReceivedTime=r,o.setResourceType(e.ResourceType.resourceTypes[s]),this.updateNetworkRequestWithResponse(o,i),this.updateNetworkRequest(o),this.#j.dispatchEventToListeners(ne.ResponseReceived,{request:o,response:i});else{const e=l["last-modified"],t={url:i.url,frameId:a??null,loaderId:n,resourceType:s,mimeType:i.mimeType,lastModified:e?new Date(e):null};this.#j.dispatchEventToListeners(ne.RequestUpdateDropped,t)}}dataReceived({requestId:e,timestamp:t,dataLength:n,encodedDataLength:r}){let s=this.#W.get(e);s||(s=this.maybeAdoptMainResourceRequest(e)),s&&(s.resourceSize+=n,-1!==r&&s.increaseTransferSize(r),s.endTime=t,this.updateNetworkRequest(s))}loadingFinished({requestId:e,timestamp:t,encodedDataLength:n,shouldReportCorbBlocking:r}){let s=this.#W.get(e);s||(s=this.maybeAdoptMainResourceRequest(e)),s&&(this.getExtraInfoBuilder(e).finished(),this.finishNetworkRequest(s,t,n,r),this.#j.dispatchEventToListeners(ne.LoadingFinished,s))}loadingFailed({requestId:t,timestamp:n,type:r,errorText:s,canceled:i,blockedReason:a,corsErrorStatus:o}){const l=this.#W.get(t);if(l){if(l.failed=!0,l.setResourceType(e.ResourceType.resourceTypes[r]),l.canceled=Boolean(i),a&&(l.setBlockedReason(a),"inspector"===a)){const e=J($.requestWasBlockedByDevtoolsS,{PH1:l.url()});this.#j.dispatchEventToListeners(ne.MessageGenerated,{message:e,requestId:t,warning:!0})}o&&l.setCorsErrorStatus(o),l.localizedFailDescription=s,this.getExtraInfoBuilder(t).finished(),this.finishNetworkRequest(l,n,-1)}}webSocketCreated({requestId:t,url:n,initiator:r}){const s=Me.createForWebSocket(t,n,r);Z.set(s,this.#j),s.setResourceType(e.ResourceType.resourceTypes.WebSocket),this.startNetworkRequest(s,null)}webSocketWillSendHandshakeRequest({requestId:e,timestamp:t,wallTime:n,request:r}){const s=this.#W.get(e);s&&(s.requestMethod="GET",s.setRequestHeaders(this.headersMapToHeadersArray(r.headers)),s.setIssueTime(t,n),this.updateNetworkRequest(s))}webSocketHandshakeResponseReceived({requestId:e,timestamp:t,response:n}){const r=this.#W.get(e);r&&(r.statusCode=n.status,r.statusText=n.statusText,r.responseHeaders=this.headersMapToHeadersArray(n.headers),r.responseHeadersText=n.headersText||"",n.requestHeaders&&r.setRequestHeaders(this.headersMapToHeadersArray(n.requestHeaders)),n.requestHeadersText&&r.setRequestHeadersText(n.requestHeadersText),r.responseReceivedTime=t,r.protocol="websocket",this.updateNetworkRequest(r))}webSocketFrameReceived({requestId:e,timestamp:t,response:n}){const r=this.#W.get(e);r&&(r.addProtocolFrame(n,t,!1),r.responseReceivedTime=t,this.updateNetworkRequest(r))}webSocketFrameSent({requestId:e,timestamp:t,response:n}){const r=this.#W.get(e);r&&(r.addProtocolFrame(n,t,!0),r.responseReceivedTime=t,this.updateNetworkRequest(r))}webSocketFrameError({requestId:e,timestamp:t,errorMessage:n}){const r=this.#W.get(e);r&&(r.addProtocolFrameError(n,t),r.responseReceivedTime=t,this.updateNetworkRequest(r))}webSocketClosed({requestId:e,timestamp:t}){const n=this.#W.get(e);n&&this.finishNetworkRequest(n,t,-1)}eventSourceMessageReceived({requestId:e,timestamp:t,eventName:n,eventId:r,data:s}){const i=this.#W.get(e);i&&i.addEventSourceMessage(t,n,r,s)}requestIntercepted({}){}requestWillBeSentExtraInfo({requestId:e,associatedCookies:t,headers:n,clientSecurityState:r,connectTiming:s}){const i=[],a=[];for(const{blockedReasons:e,cookie:n}of t)0===e.length?a.push(N.fromProtocolCookie(n)):i.push({blockedReasons:e,cookie:N.fromProtocolCookie(n)});const o={blockedRequestCookies:i,includedRequestCookies:a,requestHeaders:this.headersMapToHeadersArray(n),clientSecurityState:r,connectTiming:s};this.getExtraInfoBuilder(e).addRequestExtraInfo(o)}responseReceivedExtraInfo({requestId:e,blockedCookies:t,headers:n,headersText:r,resourceIPAddressSpace:s,statusCode:i}){const a={blockedResponseCookies:t.map((e=>({blockedReasons:e.blockedReasons,cookieLine:e.cookieLine,cookie:e.cookie?N.fromProtocolCookie(e.cookie):null}))),responseHeaders:this.headersMapToHeadersArray(n),responseHeadersText:r,resourceIPAddressSpace:s,statusCode:i};this.getExtraInfoBuilder(e).addResponseExtraInfo(a)}getExtraInfoBuilder(e){let t;return this.#G.has(e)?t=this.#G.get(e):(t=new ge,this.#G.set(e,t)),t}appendRedirect(e,t,n){const r=this.#W.get(e);if(!r)throw new Error(`Could not find original network request for ${e}`);let s=0;for(let e=r.redirectSource();e;e=e.redirectSource())s++;r.markAsRedirect(s),this.finishNetworkRequest(r,t,-1);const i=Me.create(e,n,r.documentURL,r.frameId,r.loaderId,r.initiator());return Z.set(i,this.#j),i.setRedirectSource(r),r.setRedirectDestination(i),i}maybeAdoptMainResourceRequest(e){const t=he.instance().inflightMainResourceRequests.get(e);if(!t)return null;const n=te.forRequest(t).dispatcher;n.#W.delete(e),n.#V.delete(t.url());const r=n.#G.get(e);return n.#G.delete(e),this.#W.set(e,t),this.#V.set(t.url(),t),r&&this.#G.set(e,r),Z.set(t,this.#j),t}startNetworkRequest(e,t){this.#W.set(e.requestId(),e),this.#V.set(e.url(),e),e.loaderId===e.requestId()&&he.instance().inflightMainResourceRequests.set(e.requestId(),e),this.#j.dispatchEventToListeners(ne.RequestStarted,{request:e,originalRequest:t})}updateNetworkRequest(e){this.#j.dispatchEventToListeners(ne.RequestUpdated,e)}finishNetworkRequest(t,n,r,s){if(t.endTime=n,t.finished=!0,r>=0){const e=t.redirectSource();e&&e.signedExchangeInfo()?(t.setTransferSize(0),e.setTransferSize(r),this.updateNetworkRequest(e)):t.setTransferSize(r)}if(this.#j.dispatchEventToListeners(ne.RequestFinished,t),he.instance().inflightMainResourceRequests.delete(t.requestId()),s){const e=J($.crossoriginReadBlockingCorb,{PH1:t.url(),PH2:t.mimeType});this.#j.dispatchEventToListeners(ne.MessageGenerated,{message:e,requestId:t.requestId(),warning:!0})}if(e.Settings.Settings.instance().moduleSetting("monitoringXHREnabled").get()&&t.resourceType().category()===e.ResourceType.resourceCategories.XHR){let e;const n=t.failed||t.hasErrorStatusCode();e=J(n?$.sFailedLoadingSS:$.sFinishedLoadingSS,{PH1:t.resourceType().title(),PH2:t.requestMethod,PH3:t.url()}),this.#j.dispatchEventToListeners(ne.MessageGenerated,{message:e,requestId:t.requestId(),warning:!1})}}clearRequests(){for(const[e,t]of this.#W)t.finished&&this.#W.delete(e);for(const[e,t]of this.#V)t.finished&&this.#V.delete(e);for(const[e,t]of this.#G)t.isFinished()&&this.#G.delete(e)}webTransportCreated({transportId:t,url:n,timestamp:r,initiator:s}){const i=Me.createForWebSocket(t,n,s);i.hasNetworkData=!0,Z.set(i,this.#j),i.setResourceType(e.ResourceType.resourceTypes.WebTransport),i.setIssueTime(r,0),this.startNetworkRequest(i,null)}webTransportConnectionEstablished({transportId:e,timestamp:t}){const n=this.#W.get(e);n&&(n.responseReceivedTime=t,n.endTime=t+.001,this.updateNetworkRequest(n))}webTransportClosed({transportId:e,timestamp:t}){const n=this.#W.get(e);n&&(n.endTime=t,this.finishNetworkRequest(n,t,0))}trustTokenOperationDone(e){const t=this.#W.get(e.requestId);t?t.setTrustTokenOperationDoneEvent(e):this.#K.set(e.requestId,e)}subresourceWebBundleMetadataReceived({requestId:e,urls:t}){const n=this.getExtraInfoBuilder(e);n.setWebBundleInfo({resourceUrls:t});const r=n.finalRequest();r&&this.updateNetworkRequest(r)}subresourceWebBundleMetadataError({requestId:e,errorMessage:t}){const n=this.getExtraInfoBuilder(e);n.setWebBundleInfo({errorMessage:t});const r=n.finalRequest();r&&this.updateNetworkRequest(r)}subresourceWebBundleInnerResponseParsed({innerRequestId:e,bundleRequestId:t}){const n=this.getExtraInfoBuilder(e);n.setWebBundleInnerRequestInfo({bundleRequestId:t});const r=n.finalRequest();r&&this.updateNetworkRequest(r)}subresourceWebBundleInnerResponseError({innerRequestId:e,errorMessage:t}){const n=this.getExtraInfoBuilder(e);n.setWebBundleInnerRequestInfo({errorMessage:t});const r=n.finalRequest();r&&this.updateNetworkRequest(r)}reportingApiReportAdded(e){this.#j.dispatchEventToListeners(ne.ReportingApiReportAdded,e.report)}reportingApiReportUpdated(e){this.#j.dispatchEventToListeners(ne.ReportingApiReportUpdated,e.report)}reportingApiEndpointsChangedForOrigin(e){this.#j.dispatchEventToListeners(ne.ReportingApiEndpointsChangedForOrigin,e)}createNetworkRequest(e,t,n,r,s,i){const a=Me.create(e,r,s,t,n,i);return Z.set(a,this.#j),a}}let ce;class he extends e.ObjectWrapper.ObjectWrapper{#$;#X;#J;#Y;#Z;inflightMainResourceRequests;#ee;#te;#ne;#re;#se;#ie;#ae;#oe;constructor(){super(),this.#$="",this.#X=null,this.#J=null,this.#Y=new Set,this.#Z=new Set,this.inflightMainResourceRequests=new Map,this.#ee=re,this.#te=null,this.#ne=e.Settings.Settings.instance().moduleSetting("requestBlockingEnabled"),this.#re=e.Settings.Settings.instance().createSetting("networkBlockedPatterns",[]),this.#se=[],this.updateBlockedPatterns(),this.#ie=new t.MapUtilities.Multimap,G.instance().observeModels(te,this)}static instance(e={forceNew:null}){const{forceNew:t}=e;return ce&&!t||(ce=new he),ce}static dispose(){ce=null}static getChromeVersion(){const e=navigator.userAgent.match(/(?:^|\W)(?:Chrome|HeadlessChrome)\/(\S+)/);return e&&e.length>1?e[1]:""}static patchUserAgentWithChromeVersion(e){const n=he.getChromeVersion();if(n.length>0){const r=n.split(".",1)[0]+".0.100.0";return t.StringUtilities.sprintf(e,n,r)}return e}static patchUserAgentMetadataWithChromeVersion(e){if(!e.brands)return;const n=he.getChromeVersion();if(0===n.length)return;const r=n.split(".",1)[0];for(const n of e.brands)n.version.includes("%s")&&(n.version=t.StringUtilities.sprintf(n.version,r));e.fullVersion&&e.fullVersion.includes("%s")&&(e.fullVersion=t.StringUtilities.sprintf(e.fullVersion,n))}modelAdded(e){const t=e.target().networkAgent(),n=e.target().fetchAgent();this.#ae&&t.invoke_setExtraHTTPHeaders({headers:this.#ae}),this.currentUserAgent()&&t.invoke_setUserAgentOverride({userAgent:this.currentUserAgent(),userAgentMetadata:this.#X||void 0}),this.#se.length&&t.invoke_setBlockedURLs({urls:this.#se}),this.isIntercepting()&&n.invoke_enable({patterns:this.#ie.valuesArray()}),null===this.#J?t.invoke_clearAcceptedEncodingsOverride():t.invoke_setAcceptedEncodings({encodings:this.#J}),this.#Y.add(t),this.#Z.add(n),this.isThrottling()&&this.updateNetworkConditions(t)}modelRemoved(e){for(const t of this.inflightMainResourceRequests){te.forRequest(t[1])===e&&this.inflightMainResourceRequests.delete(t[0])}this.#Y.delete(e.target().networkAgent()),this.#Z.delete(e.target().fetchAgent())}isThrottling(){return this.#ee.download>=0||this.#ee.upload>=0||this.#ee.latency>0}isOffline(){return!this.#ee.download&&!this.#ee.upload}setNetworkConditions(e){this.#ee=e;for(const e of this.#Y)this.updateNetworkConditions(e);this.dispatchEventToListeners(he.Events.ConditionsChanged)}networkConditions(){return this.#ee}updateNetworkConditions(e){const t=this.#ee;this.isThrottling()?e.invoke_emulateNetworkConditions({offline:this.isOffline(),latency:t.latency,downloadThroughput:t.download<0?0:t.download,uploadThroughput:t.upload<0?0:t.upload,connectionType:te.connectionType(t)}):e.invoke_emulateNetworkConditions({offline:!1,latency:0,downloadThroughput:0,uploadThroughput:0})}setExtraHTTPHeaders(e){this.#ae=e;for(const e of this.#Y)e.invoke_setExtraHTTPHeaders({headers:this.#ae})}currentUserAgent(){return this.#oe?this.#oe:this.#$}updateUserAgentOverride(){const e=this.currentUserAgent();for(const t of this.#Y)t.invoke_setUserAgentOverride({userAgent:e,userAgentMetadata:this.#X||void 0})}setUserAgentOverride(e,t){const n=this.#$!==e;this.#$=e,this.#oe?this.#X=null:(this.#X=t,this.updateUserAgentOverride()),n&&this.dispatchEventToListeners(he.Events.UserAgentChanged)}userAgentOverride(){return this.#$}setCustomUserAgentOverride(e,t=null){this.#oe=e,this.#X=t,this.updateUserAgentOverride()}setCustomAcceptedEncodingsOverride(e){this.#J=e,this.updateAcceptedEncodingsOverride(),this.dispatchEventToListeners(he.Events.AcceptedEncodingsChanged)}clearCustomAcceptedEncodingsOverride(){this.#J=null,this.updateAcceptedEncodingsOverride(),this.dispatchEventToListeners(he.Events.AcceptedEncodingsChanged)}isAcceptedEncodingOverrideSet(){return null!==this.#J}updateAcceptedEncodingsOverride(){const e=this.#J;for(const t of this.#Y)null===e?t.invoke_clearAcceptedEncodingsOverride():t.invoke_setAcceptedEncodings({encodings:e})}blockedPatterns(){return this.#re.get().slice()}blockingEnabled(){return this.#ne.get()}isBlocking(){return Boolean(this.#se.length)}setBlockedPatterns(e){this.#re.set(e),this.updateBlockedPatterns(),this.dispatchEventToListeners(he.Events.BlockedPatternsChanged)}setBlockingEnabled(e){this.#ne.get()!==e&&(this.#ne.set(e),this.updateBlockedPatterns(),this.dispatchEventToListeners(he.Events.BlockedPatternsChanged))}updateBlockedPatterns(){const e=[];if(this.#ne.get())for(const t of this.#re.get())t.enabled&&e.push(t.url);if(e.length||this.#se.length){this.#se=e;for(const e of this.#Y)e.invoke_setBlockedURLs({urls:this.#se})}}isIntercepting(){return Boolean(this.#ie.size)}setInterceptionHandlerForPatterns(e,t){this.#ie.deleteAll(t);for(const n of e)this.#ie.set(t,n);return this.updateInterceptionPatternsOnNextTick()}updateInterceptionPatternsOnNextTick(){return this.#te||(this.#te=Promise.resolve().then(this.updateInterceptionPatterns.bind(this))),this.#te}async updateInterceptionPatterns(){e.Settings.Settings.instance().moduleSetting("cacheDisabled").get()||e.Settings.Settings.instance().moduleSetting("cacheDisabled").set(!0),this.#te=null;const t=[];for(const e of this.#Z)t.push(e.invoke_enable({patterns:this.#ie.valuesArray()}));this.dispatchEventToListeners(he.Events.InterceptorsChanged),await Promise.all(t)}async requestIntercepted(e){for(const t of this.#ie.keysArray())if(await t(e),e.hasResponded())return void this.dispatchEventToListeners(he.Events.RequestIntercepted,e.request.url);e.hasResponded()||e.continueRequestWithoutChange()}clearBrowserCache(){for(const e of this.#Y)e.invoke_clearBrowserCache()}clearBrowserCookies(){for(const e of this.#Y)e.invoke_clearBrowserCookies()}async getCertificate(e){const t=G.instance().mainTarget();if(!t)return[];const n=await t.networkAgent().invoke_getCertificate({origin:e});return n?n.tableNames:[]}async loadResource(t){const n={},r=this.currentUserAgent();r&&(n["User-Agent"]=r),e.Settings.Settings.instance().moduleSetting("cacheDisabled").get()&&(n["Cache-Control"]="no-cache");const i=e.Settings.Settings.instance().moduleSetting("network.enable-unc-loading").get();return new Promise((e=>s.ResourceLoader.load(t,n,((t,n,r,s)=>{e({success:t,content:r,errorDescription:s})}),i)))}}!function(e){let t;!function(e){e.BlockedPatternsChanged="BlockedPatternsChanged",e.ConditionsChanged="ConditionsChanged",e.UserAgentChanged="UserAgentChanged",e.InterceptorsChanged="InterceptorsChanged",e.AcceptedEncodingsChanged="AcceptedEncodingsChanged",e.RequestIntercepted="RequestIntercepted",e.RequestFulfilled="RequestFulfilled"}(t=e.Events||(e.Events={}))}(he||(he={}));class ue{#z;#le;request;resourceType;responseStatusCode;responseHeaders;requestId;constructor(e,t,n,r,s,i){this.#z=e,this.#le=!1,this.request=t,this.resourceType=n,this.responseStatusCode=s,this.responseHeaders=i,this.requestId=r}hasResponded(){return this.#le}async continueRequestWithContent(e,t,n,r){this.#le=!0;const s=t?await e.text():await async function(e){const t=new FileReader,n=new Promise((e=>{t.onloadend=e}));if(t.readAsDataURL(e),await n,t.error)return console.error("Could not convert blob to base64.",t.error),"";const r=t.result;if(null==r||"string"!=typeof r)return console.error("Could not convert blob to base64."),"";return r.substring(r.indexOf(",")+1)}(e),i=r?200:this.responseStatusCode||200;this.#z.invoke_fulfillRequest({requestId:this.requestId,responseCode:i,body:s,responseHeaders:n}),he.instance().dispatchEventToListeners(he.Events.RequestFulfilled,this.request.url)}continueRequestWithoutChange(){console.assert(!this.#le),this.#le=!0,this.#z.invoke_continueRequest({requestId:this.requestId})}continueRequestWithError(e){console.assert(!this.#le),this.#le=!0,this.#z.invoke_failRequest({requestId:this.requestId,errorReason:e})}async responseBody(){const e=await this.#z.invoke_getResponseBody({requestId:this.requestId}),t=e.getError()||null;return{error:t,content:t?null:e.body,encoded:e.base64Encoded}}isRedirect(){return void 0!==this.responseStatusCode&&this.responseStatusCode>=300&&this.responseStatusCode<400}}class ge{#de;#ce;#he;#ue;#ge;#pe;constructor(){this.#de=[],this.#ce=[],this.#he=[],this.#ue=!1,this.#ge=null,this.#pe=null}addRequest(e){this.#de.push(e),this.sync(this.#de.length-1)}addRequestExtraInfo(e){this.#ce.push(e),this.sync(this.#ce.length-1)}addResponseExtraInfo(e){this.#he.push(e),this.sync(this.#he.length-1)}setWebBundleInfo(e){this.#ge=e,this.updateFinalRequest()}setWebBundleInnerRequestInfo(e){this.#pe=e,this.updateFinalRequest()}finished(){this.#ue=!0,this.updateFinalRequest()}isFinished(){return this.#ue}sync(e){const t=this.#de[e];if(!t)return;const n=this.#ce[e];n&&(t.addExtraRequestInfo(n),this.#ce[e]=null);const r=this.#he[e];r&&(t.addExtraResponseInfo(r),this.#he[e]=null)}finalRequest(){return this.#ue&&this.#de[this.#de.length-1]||null}updateFinalRequest(){if(!this.#ue)return;const e=this.finalRequest();e?.setWebBundleInfo(this.#ge),e?.setWebBundleInnerRequestInfo(this.#pe)}}l.register(te,{capabilities:_.Network,autostart:!0});var pe=Object.freeze({__proto__:null,NetworkManager:te,get Events(){return ne},NoThrottlingConditions:re,OfflineConditions:se,Slow3GConditions:ie,Fast3GConditions:ae,FetchDispatcher:le,NetworkDispatcher:de,get MultitargetNetworkManager(){return he},InterceptedRequest:ue,ConditionsSerializer:class{stringify(e){const t=e;return JSON.stringify({...t,title:"function"==typeof t.title?t.title():t.title})}parse(e){const t=JSON.parse(e);return{...t,title:t.i18nTitleKey?Y(t.i18nTitleKey):t.title}}},networkConditionsEqual:function(e,t){const n="function"==typeof e.title?e.title():e.title,r="function"==typeof t.title?t.title():t.title;return t.download===e.download&&t.upload===e.upload&&t.latency===e.latency&&r===n}});const me={deprecatedSyntaxFoundPleaseUse:"Deprecated syntax found. Please use: <name>;dur=<duration>;desc=<description>",duplicateParameterSIgnored:'Duplicate parameter "{PH1}" ignored.',noValueFoundForParameterS:'No value found for parameter "{PH1}".',unrecognizedParameterS:'Unrecognized parameter "{PH1}".',extraneousTrailingCharacters:"Extraneous trailing characters.",unableToParseSValueS:'Unable to parse "{PH1}" value "{PH2}".'},be=r.i18n.registerUIStrings("core/sdk/ServerTiming.ts",me),fe=r.i18n.getLocalizedString.bind(void 0,be);class Ie{metric;value;description;constructor(e,t,n){this.metric=e,this.value=t,this.description=n}static parseHeaders(e){const n=e.filter((e=>"server-timing"===e.name.toLowerCase()));if(!n.length)return null;const r=n.reduce(((e,t)=>{const n=this.createFromHeaderValue(t.value);return e.push(...n.map((function(e){return new Ie(e.name,e.hasOwnProperty("dur")?e.dur:null,e.hasOwnProperty("desc")?e.desc:"")}))),e}),[]);return r.sort(((e,n)=>t.StringUtilities.compare(e.metric.toLowerCase(),n.metric.toLowerCase()))),r}static createFromHeaderValue(e){function t(){e=e.replace(/^\s*/,"")}function n(n){return console.assert(1===n.length),t(),e.charAt(0)===n&&(e=e.substring(1),!0)}function r(){const t=/^(?:\s*)([\w!#$%&'*+\-.^`|~]+)(?:\s*)(.*)/.exec(e);return t?(e=t[2],t[1]):null}function s(){return t(),'"'===e.charAt(0)?function(){console.assert('"'===e.charAt(0)),e=e.substring(1);let t="";for(;e.length;){const n=/^([^"\\]*)(.*)/.exec(e);if(!n)return null;if(t+=n[1],'"'===n[2].charAt(0))return e=n[2].substring(1),t;console.assert("\\"===n[2].charAt(0)),t+=n[2].charAt(1),e=n[2].substring(2)}return null}():r()}function i(){const t=/([,;].*)/.exec(e);t&&(e=t[1])}const a=[];let o;for(;null!==(o=r());){const t={name:o};for("="===e.charAt(0)&&this.showWarning(fe(me.deprecatedSyntaxFoundPleaseUse));n(";");){let e;if(null===(e=r()))continue;e=e.toLowerCase();const a=this.getParserForParameter(e);let o=null;if(n("=")&&(o=s(),i()),a){if(t.hasOwnProperty(e)){this.showWarning(fe(me.duplicateParameterSIgnored,{PH1:e}));continue}null===o&&this.showWarning(fe(me.noValueFoundForParameterS,{PH1:e})),a.call(this,t,o)}else this.showWarning(fe(me.unrecognizedParameterS,{PH1:e}))}if(a.push(t),!n(","))break}return e.length&&this.showWarning(fe(me.extraneousTrailingCharacters)),a}static getParserForParameter(e){switch(e){case"dur":{function t(t,n){if(t.dur=0,null!==n){const r=parseFloat(n);if(isNaN(r))return void Ie.showWarning(fe(me.unableToParseSValueS,{PH1:e,PH2:n}));t.dur=r}}return t}case"desc":{function e(e,t){e.desc=t||""}return e}default:return null}}static showWarning(t){e.Console.Console.instance().warn(`ServerTiming: ${t}`)}}var ve=Object.freeze({__proto__:null,ServerTiming:Ie});const ye={binary:"(binary)",secureOnly:'This cookie was blocked because it had the "`Secure`" attribute and the connection was not secure.',notOnPath:"This cookie was blocked because its path was not an exact match for or a superdirectory of the request url's path.",domainMismatch:"This cookie was blocked because neither did the request URL's domain exactly match the cookie's domain, nor was the request URL's domain a subdomain of the cookie's Domain attribute value.",sameSiteStrict:'This cookie was blocked because it had the "`SameSite=Strict`" attribute and the request was made from a different site. This includes top-level navigation requests initiated by other sites.',sameSiteLax:'This cookie was blocked because it had the "`SameSite=Lax`" attribute and the request was made from a different site and was not initiated by a top-level navigation.',sameSiteUnspecifiedTreatedAsLax:'This cookie didn\'t specify a "`SameSite`" attribute when it was stored and was defaulted to "SameSite=Lax," and was blocked because the request was made from a different site and was not initiated by a top-level navigation. The cookie had to have been set with "`SameSite=None`" to enable cross-site usage.',sameSiteNoneInsecure:'This cookie was blocked because it had the "`SameSite=None`" attribute but was not marked "Secure". Cookies without SameSite restrictions must be marked "Secure" and sent over a secure connection.',userPreferences:"This cookie was blocked due to user preferences.",unknownError:"An unknown error was encountered when trying to send this cookie.",schemefulSameSiteStrict:'This cookie was blocked because it had the "`SameSite=Strict`" attribute but the request was cross-site. This includes top-level navigation requests initiated by other sites. This request is considered cross-site because the URL has a different scheme than the current site.',schemefulSameSiteLax:'This cookie was blocked because it had the "`SameSite=Lax`" attribute but the request was cross-site and was not initiated by a top-level navigation. This request is considered cross-site because the URL has a different scheme than the current site.',schemefulSameSiteUnspecifiedTreatedAsLax:'This cookie didn\'t specify a "`SameSite`" attribute when it was stored, was defaulted to "`SameSite=Lax"`, and was blocked because the request was cross-site and was not initiated by a top-level navigation. This request is considered cross-site because the URL has a different scheme than the current site.',samePartyFromCrossPartyContext:"This cookie was blocked because it had the \"`SameParty`\" attribute but the request was cross-party. The request was considered cross-party because the domain of the resource's URL and the domains of the resource's enclosing frames/documents are neither owners nor members in the same First-Party Set.",nameValuePairExceedsMaxSize:"This cookie was blocked because it was too large. The combined size of the name and value must be less than or equal to 4096 characters.",thisSetcookieWasBlockedDueToUser:"This attempt to set a cookie via a `Set-Cookie` header was blocked due to user preferences.",thisSetcookieHadInvalidSyntax:"This `Set-Cookie` header had invalid syntax.",theSchemeOfThisConnectionIsNot:"The scheme of this connection is not allowed to store cookies.",anUnknownErrorWasEncounteredWhenTrying:"An unknown error was encountered when trying to store this cookie.",thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "{PH1}" attribute but came from a cross-site response which was not the response to a top-level navigation. This response is considered cross-site because the URL has a different scheme than the current site.',thisSetcookieDidntSpecifyASamesite:'This `Set-Cookie` header didn\'t specify a "`SameSite`" attribute, was defaulted to "`SameSite=Lax"`, and was blocked because it came from a cross-site response which was not the response to a top-level navigation. This response is considered cross-site because the URL has a different scheme than the current site.',thisSetcookieWasBlockedBecauseItHadTheSameparty:"This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the \"`SameParty`\" attribute but the request was cross-party. The request was considered cross-party because the domain of the resource's URL and the domains of the resource's enclosing frames/documents are neither owners nor members in the same First-Party Set.",thisSetcookieWasBlockedBecauseItHadTheSamepartyAttribute:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "`SameParty`" attribute but also had other conflicting attributes. Chrome requires cookies that use the "`SameParty`" attribute to also have the "Secure" attribute, and to not be restricted to "`SameSite=Strict`".',blockedReasonSecureOnly:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "Secure" attribute but was not received over a secure connection.',blockedReasonSameSiteStrictLax:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "{PH1}" attribute but came from a cross-site response which was not the response to a top-level navigation.',blockedReasonSameSiteUnspecifiedTreatedAsLax:'This `Set-Cookie` header didn\'t specify a "`SameSite`" attribute and was defaulted to "`SameSite=Lax,`" and was blocked because it came from a cross-site response which was not the response to a top-level navigation. The `Set-Cookie` had to have been set with "`SameSite=None`" to enable cross-site usage.',blockedReasonSameSiteNoneInsecure:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it had the "`SameSite=None`" attribute but did not have the "Secure" attribute, which is required in order to use "`SameSite=None`".',blockedReasonOverwriteSecure:"This attempt to set a cookie via a `Set-Cookie` header was blocked because it was not sent over a secure connection and would have overwritten a cookie with the Secure attribute.",blockedReasonInvalidDomain:"This attempt to set a cookie via a `Set-Cookie` header was blocked because its Domain attribute was invalid with regards to the current host url.",blockedReasonInvalidPrefix:'This attempt to set a cookie via a `Set-Cookie` header was blocked because it used the "`__Secure-`" or "`__Host-`" prefix in its name and broke the additional rules applied to cookies with these prefixes as defined in `https://tools.ietf.org/html/draft-west-cookie-prefixes-05`.',thisSetcookieWasBlockedBecauseTheNameValuePairExceedsMaxSize:"This attempt to set a cookie via a `Set-Cookie` header was blocked because the cookie was too large. The combined size of the name and value must be less than or equal to 4096 characters.",setcookieHeaderIsIgnoredIn:"Set-Cookie header is ignored in response from url: {PH1}. The combined size of the name and value must be less than or equal to 4096 characters."},Se=r.i18n.registerUIStrings("core/sdk/NetworkRequest.ts",ye),ke=r.i18n.getLocalizedString.bind(void 0,Se);var we,Ce,Te,Re;!function(e){e.HTML="text/html",e.XML="text/xml",e.PLAIN="text/plain",e.XHTML="application/xhtml+xml",e.SVG="image/svg+xml",e.CSS="text/css",e.XSL="text/xsl",e.VTT="text/vtt",e.PDF="application/pdf",e.EVENTSTREAM="text/event-stream"}(we||(we={}));class Me extends e.ObjectWrapper.ObjectWrapper{#me;#be;#fe;#Ie;#ve;#ye;#Se;#ke;#we;#Ce;#Te;#Re;#Me;#xe;#Pe;#Le;statusCode;statusText;requestMethod;requestTime;protocol;mixedContentType;#Ee;#Ae;#Oe;#Ne;#Fe;#De;#Be;#Ue;#He;#qe;#_e;#ze;#je;#We;#Ve;#Ge;#Ke;#Qe;connectionId;connectionReused;hasNetworkData;#$e;#Xe;#Je;#Ye;#Ze;#et;#tt;localizedFailDescription;#nt;#rt;#st;#ue;#it;#at;#ot;#lt;#dt;#h;#ct;#ht;#ut;#gt;#pt;#mt;#bt;#ft;#It;#vt;#yt;#St;#kt;#wt;#Ct;#Tt;#Rt;#Mt;#xt;#Pt;#Lt;#Et;#At;#Ot;constructor(t,n,r,s,i,a,o){super(),this.#me=t,this.#be=n,this.setUrl(r),this.#fe=s,this.#Ie=i,this.#ve=a,this.#ye=o,this.#Se=null,this.#ke=null,this.#we=null,this.#Ce=!1,this.#Te=null,this.#Re=-1,this.#Me=-1,this.#xe=-1,this.#Pe=void 0,this.#Le=void 0,this.statusCode=0,this.statusText="",this.requestMethod="",this.requestTime=0,this.protocol="",this.mixedContentType="none",this.#Ee=null,this.#Ae=null,this.#Oe=null,this.#Ne=null,this.#Fe=null,this.#De=e.ResourceType.resourceTypes.Other,this.#Be=null,this.#Ue=[],this.#He=[],this.#qe={},this.#_e="",this.#ze=[],this.#je={},this.#We="",this.#Ve="Unknown",this.#Ge=null,this.#Ke="unknown",this.#Qe=null,this.connectionId="0",this.connectionReused=!1,this.hasNetworkData=!1,this.#$e=null,this.#Xe=Promise.resolve(null),this.#Je=!1,this.#Ye=!1,this.#Ze=[],this.#et=[],this.#tt=[],this.localizedFailDescription=null,this.#At=null,this.#Ot=!1}static create(e,t,n,r,s,i){return new Me(e,e,t,n,r,s,i)}static createForWebSocket(e,n,r){return new Me(e,e,n,t.DevToolsPath.EmptyUrlString,null,null,r||null)}static createWithoutBackendRequest(e,t,n,r){return new Me(e,void 0,t,n,null,null,r)}identityCompare(e){const t=this.requestId(),n=e.requestId();return t>n?1:t<n?-1:0}requestId(){return this.#me}backendRequestId(){return this.#be}url(){return this.#nt}isBlobRequest(){return this.#nt.startsWith("blob:")}setUrl(t){this.#nt!==t&&(this.#nt=t,this.#dt=new e.ParsedURL.ParsedURL(t),this.#Pt=void 0,this.#Lt=void 0,this.#h=void 0,this.#ct=void 0)}get documentURL(){return this.#fe}get parsedURL(){return this.#dt}get frameId(){return this.#Ie}get loaderId(){return this.#ve}setRemoteAddress(e,t){this.#We=e+":"+t,this.dispatchEventToListeners(Ce.RemoteAddressChanged,this)}remoteAddress(){return this.#We}remoteAddressSpace(){return this.#Ve}getResponseCacheStorageCacheName(){return this.#pt}setResponseCacheStorageCacheName(e){this.#pt=e}serviceWorkerResponseSource(){return this.#mt}setServiceWorkerResponseSource(e){this.#mt=e}setReferrerPolicy(e){this.#Ge=e}referrerPolicy(){return this.#Ge}securityState(){return this.#Ke}setSecurityState(e){this.#Ke=e}securityDetails(){return this.#Qe}securityOrigin(){return this.#dt.securityOrigin()}setSecurityDetails(e){this.#Qe=e}get startTime(){return this.#Me||-1}setIssueTime(e,t){this.#Re=e,this.#bt=t,this.#Me=e}issueTime(){return this.#Re}pseudoWallTime(e){return this.#bt?this.#bt-this.#Re+e:e}get responseReceivedTime(){return this.#rt||-1}set responseReceivedTime(e){this.#rt=e}getResponseRetrievalTime(){return this.#ft}setResponseRetrievalTime(e){this.#ft=e}get endTime(){return this.#xe||-1}set endTime(e){this.timing&&this.timing.requestTime?this.#xe=Math.max(e,this.responseReceivedTime):(this.#xe=e,this.#rt>e&&(this.#rt=e)),this.dispatchEventToListeners(Ce.TimingChanged,this)}get duration(){return-1===this.#xe||-1===this.#Me?-1:this.#xe-this.#Me}get latency(){return-1===this.#rt||-1===this.#Me?-1:this.#rt-this.#Me}get resourceSize(){return this.#It||0}set resourceSize(e){this.#It=e}get transferSize(){return this.#st||0}increaseTransferSize(e){this.#st=(this.#st||0)+e}setTransferSize(e){this.#st=e}get finished(){return this.#ue}set finished(e){this.#ue!==e&&(this.#ue=e,e&&this.dispatchEventToListeners(Ce.FinishedLoading,this))}get failed(){return this.#it}set failed(e){this.#it=e}get canceled(){return this.#at}set canceled(e){this.#at=e}get preserved(){return this.#ot}set preserved(e){this.#ot=e}blockedReason(){return this.#Pe}setBlockedReason(e){this.#Pe=e}corsErrorStatus(){return this.#Le}setCorsErrorStatus(e){this.#Le=e}wasBlocked(){return Boolean(this.#Pe)}cached(){return(Boolean(this.#vt)||Boolean(this.#yt))&&!this.#st}cachedInMemory(){return Boolean(this.#vt)&&!this.#st}fromPrefetchCache(){return Boolean(this.#St)}setFromMemoryCache(){this.#vt=!0,this.#wt=void 0}get fromDiskCache(){return this.#yt}setFromDiskCache(){this.#yt=!0}setFromPrefetchCache(){this.#St=!0}get fetchedViaServiceWorker(){return Boolean(this.#kt)}set fetchedViaServiceWorker(e){this.#kt=e}initiatedByServiceWorker(){const e=te.forRequest(this);return!!e&&e.target().type()===q.ServiceWorker}get timing(){return this.#wt}set timing(e){if(!e||this.#vt)return;this.#Me=e.requestTime;const t=e.requestTime+e.receiveHeadersEnd/1e3;((this.#rt||-1)<0||this.#rt>t)&&(this.#rt=t),this.#Me>this.#rt&&(this.#rt=this.#Me),this.#wt=e,this.dispatchEventToListeners(Ce.TimingChanged,this)}setConnectTimingFromExtraInfo(e){this.#Me=e.requestTime,this.dispatchEventToListeners(Ce.TimingChanged,this)}get mimeType(){return this.#lt}set mimeType(e){this.#lt=e}get displayName(){return this.#dt.displayName}name(){return this.#h||this.parseNameAndPathFromURL(),this.#h}path(){return this.#ct||this.parseNameAndPathFromURL(),this.#ct}parseNameAndPathFromURL(){if(this.#dt.isDataURL())this.#h=this.#dt.dataURLDisplayName(),this.#ct="";else if(this.#dt.isBlobURL())this.#h=this.#dt.url,this.#ct="";else if(this.#dt.isAboutBlank())this.#h=this.#dt.url,this.#ct="";else{this.#ct=this.#dt.host+this.#dt.folderPathComponents;const n=te.forRequest(this),r=n?e.ParsedURL.ParsedURL.fromString(n.target().inspectedURL()):null;this.#ct=t.StringUtilities.trimURL(this.#ct,r?r.host:""),this.#dt.lastPathComponent||this.#dt.queryParams?this.#h=this.#dt.lastPathComponent+(this.#dt.queryParams?"?"+this.#dt.queryParams:""):this.#dt.folderPathComponents?(this.#h=this.#dt.folderPathComponents.substring(this.#dt.folderPathComponents.lastIndexOf("/")+1)+"/",this.#ct=this.#ct.substring(0,this.#ct.lastIndexOf("/"))):(this.#h=this.#dt.host,this.#ct="")}}get folder(){let e=this.#dt.path;const t=e.indexOf("?");-1!==t&&(e=e.substring(0,t));const n=e.lastIndexOf("/");return-1!==n?e.substring(0,n):""}get pathname(){return this.#dt.path}resourceType(){return this.#De}setResourceType(e){this.#De=e}get domain(){return this.#dt.host}get scheme(){return this.#dt.scheme}redirectSource(){return this.#Se}setRedirectSource(e){this.#Se=e}preflightRequest(){return this.#ke}setPreflightRequest(e){this.#ke=e}preflightInitiatorRequest(){return this.#we}setPreflightInitiatorRequest(e){this.#we=e}isPreflightRequest(){return null!==this.#ye&&void 0!==this.#ye&&"preflight"===this.#ye.type}redirectDestination(){return this.#Te}setRedirectDestination(e){this.#Te=e}requestHeaders(){return this.#ze}setRequestHeaders(e){this.#ze=e,this.dispatchEventToListeners(Ce.RequestHeadersChanged)}requestHeadersText(){return this.#Ct}setRequestHeadersText(e){this.#Ct=e,this.dispatchEventToListeners(Ce.RequestHeadersChanged)}requestHeaderValue(e){return this.#je[e]||(this.#je[e]=this.computeHeaderValue(this.requestHeaders(),e)),this.#je[e]}requestFormData(){return this.#Xe||(this.#Xe=te.requestPostData(this)),this.#Xe}setRequestFormData(e,t){this.#Xe=e&&null===t?null:Promise.resolve(t),this.#$e=null}filteredProtocolName(){const e=this.protocol.toLowerCase();return"h2"===e?"http/2.0":e.replace(/^http\/2(\.0)?\+/,"http/2.0+")}requestHttpVersion(){const e=this.requestHeadersText();if(!e){const e=this.requestHeaderValue("version")||this.requestHeaderValue(":version");return e||this.filteredProtocolName()}const t=e.split(/\r\n/)[0].match(/(HTTP\/\d+\.\d+)$/);return t?t[1]:"HTTP/0.9"}get responseHeaders(){return this.#Tt||[]}set responseHeaders(e){this.#Tt=e,this.#Rt=void 0,this.#xt=void 0,this.#Mt=void 0,this.#qe={},this.dispatchEventToListeners(Ce.ResponseHeadersChanged)}get responseHeadersText(){return this.#_e}set responseHeadersText(e){this.#_e=e,this.dispatchEventToListeners(Ce.ResponseHeadersChanged)}get sortedResponseHeaders(){return void 0!==this.#Rt||(this.#Rt=this.responseHeaders.slice(),this.#Rt.sort((function(e,n){return t.StringUtilities.compare(e.name.toLowerCase(),n.name.toLowerCase())}))),this.#Rt}responseHeaderValue(e){return e in this.#qe||(this.#qe[e]=this.computeHeaderValue(this.responseHeaders,e)),this.#qe[e]}wasIntercepted(){return this.#Ot}setWasIntercepted(e){this.#Ot=e}get responseCookies(){return this.#Mt||(this.#Mt=U.parseSetCookie(this.responseHeaderValue("Set-Cookie"),this.domain)||[]),this.#Mt}responseLastModified(){return this.responseHeaderValue("last-modified")}allCookiesIncludingBlockedOnes(){return[...this.includedRequestCookies(),...this.responseCookies,...this.blockedRequestCookies().map((e=>e.cookie)),...this.blockedResponseCookies().map((e=>e.cookie))].filter((e=>Boolean(e)))}get serverTimings(){return void 0===this.#xt&&(this.#xt=Ie.parseHeaders(this.responseHeaders)),this.#xt}queryString(){if(void 0!==this.#Pt)return this.#Pt;let e=null;const t=this.url(),n=t.indexOf("?");if(-1!==n){e=t.substring(n+1);const r=e.indexOf("#");-1!==r&&(e=e.substring(0,r))}return this.#Pt=e,this.#Pt}get queryParameters(){if(this.#Lt)return this.#Lt;const e=this.queryString();return e?(this.#Lt=this.parseParameters(e),this.#Lt):null}async parseFormParameters(){const e=this.requestContentType();if(!e)return null;if(e.match(/^application\/x-www-form-urlencoded\s*(;.*)?$/i)){const e=await this.requestFormData();return e?this.parseParameters(e):null}const t=e.match(/^multipart\/form-data\s*;\s*boundary\s*=\s*(\S+)\s*$/);if(!t)return null;const n=t[1];if(!n)return null;const r=await this.requestFormData();return r?this.parseMultipartFormDataParameters(r,n):null}formParameters(){return this.#$e||(this.#$e=this.parseFormParameters()),this.#$e}responseHttpVersion(){const e=this.#_e;if(!e){const e=this.responseHeaderValue("version")||this.responseHeaderValue(":version");return e||this.filteredProtocolName()}const t=e.split(/\r\n/)[0].match(/^(HTTP\/\d+\.\d+)/);return t?t[1]:"HTTP/0.9"}parseParameters(e){return e.split("&").map((function(e){const t=e.indexOf("=");return-1===t?{name:e,value:""}:{name:e.substring(0,t),value:e.substring(t+1)}}))}parseMultipartFormDataParameters(e,n){const r=t.StringUtilities.escapeForRegExp(n),s=new RegExp('^\\r\\ncontent-disposition\\s*:\\s*form-data\\s*;\\s*name="([^"]*)"(?:\\s*;\\s*filename="([^"]*)")?(?:\\r\\ncontent-type\\s*:\\s*([^\\r\\n]*))?\\r\\n\\r\\n(.*)\\r\\n$',"is");return e.split(new RegExp(`--${r}(?:--s*$)?`,"g")).reduce((function(e,t){const[n,r,i,a,o]=t.match(s)||[];if(!n)return e;const l=i||a?ke(ye.binary):o;return e.push({name:r,value:l}),e}),[])}computeHeaderValue(e,t){t=t.toLowerCase();const n=[];for(let r=0;r<e.length;++r)e[r].name.toLowerCase()===t&&n.push(e[r].value);if(n.length)return"set-cookie"===t?n.join("\n"):n.join(", ")}contentData(){return this.#Be||(this.#Et?this.#Be=this.#Et():this.#Be=te.requestContentData(this)),this.#Be}setContentDataProvider(e){console.assert(!this.#Be,"contentData can only be set once."),this.#Et=e}contentURL(){return this.#nt}contentType(){return this.#De}async requestContent(){const{content:e,error:t,encoded:n}=await this.contentData();return{content:e,error:t,isEncoded:n}}async searchInContent(e,t,r){if(!this.#Et)return te.searchInRequest(this,e,t,r);const s=await this.contentData();let i=s.content;return i?(s.encoded&&(i=window.atob(i)),n.TextUtils.performSearchInContent(i,e,t,r)):[]}isHttpFamily(){return Boolean(this.url().match(/^https?:/i))}requestContentType(){return this.requestHeaderValue("Content-Type")}hasErrorStatusCode(){return this.statusCode>=400}setInitialPriority(e){this.#Ee=e}initialPriority(){return this.#Ee}setPriority(e){this.#Ae=e}priority(){return this.#Ae||this.#Ee||null}setSignedExchangeInfo(e){this.#Oe=e}signedExchangeInfo(){return this.#Oe}setWebBundleInfo(e){this.#Ne=e}webBundleInfo(){return this.#Ne}setWebBundleInnerRequestInfo(e){this.#Fe=e}webBundleInnerRequestInfo(){return this.#Fe}async populateImageSource(e){const{content:t,encoded:r}=await this.contentData();let s=n.ContentProvider.contentAsDataURL(t,this.#lt,r);if(null===s&&!this.#it){(this.responseHeaderValue("cache-control")||"").includes("no-cache")||(s=this.#nt)}null!==s&&(e.src=s)}initiator(){return this.#ye||null}frames(){return this.#Ue}addProtocolFrameError(e,t){this.addFrame({type:Re.Error,text:e,time:this.pseudoWallTime(t),opCode:-1,mask:!1})}addProtocolFrame(e,t,n){const r=n?Re.Send:Re.Receive;this.addFrame({type:r,text:e.payloadData,time:this.pseudoWallTime(t),opCode:e.opcode,mask:e.mask})}addFrame(e){this.#Ue.push(e),this.dispatchEventToListeners(Ce.WebsocketFrameAdded,e)}eventSourceMessages(){return this.#He}addEventSourceMessage(e,t,n,r){const s={time:this.pseudoWallTime(e),eventName:t,eventId:n,data:r};this.#He.push(s),this.dispatchEventToListeners(Ce.EventSourceMessageAdded,s)}markAsRedirect(e){this.#Ce=!0,this.#me=`${this.#be}:redirected.${e}`}isRedirect(){return this.#Ce}setRequestIdForTest(e){this.#be=e,this.#me=e}charset(){const e=this.responseHeaderValue("content-type");if(!e)return null;const t=e.replace(/ /g,"").split(";").filter((e=>e.toLowerCase().startsWith("charset="))).map((e=>e.slice("charset=".length)));return t.length?t[0]:null}addExtraRequestInfo(e){this.#Ze=e.blockedRequestCookies,this.#et=e.includedRequestCookies,this.setRequestHeaders(e.requestHeaders),this.#Je=!0,this.setRequestHeadersText(""),this.#ht=e.clientSecurityState,this.setConnectTimingFromExtraInfo(e.connectTiming)}hasExtraRequestInfo(){return this.#Je}blockedRequestCookies(){return this.#Ze}includedRequestCookies(){return this.#et}hasRequestCookies(){return this.#et.length>0||this.#Ze.length>0}addExtraResponseInfo(e){if(this.#tt=e.blockedResponseCookies,this.responseHeaders=e.responseHeaders,e.responseHeadersText&&(this.responseHeadersText=e.responseHeadersText,!this.requestHeadersText())){let e=`${this.requestMethod} ${this.parsedURL.path}`;this.parsedURL.queryParams&&(e+=`?${this.parsedURL.queryParams}`),e+=" HTTP/1.1\r\n";for(const{name:t,value:n}of this.requestHeaders())e+=`${t}: ${n}\r\n`;this.setRequestHeadersText(e)}this.#Ve=e.resourceIPAddressSpace,e.statusCode&&(this.statusCode=e.statusCode),this.#Ye=!0;const t=te.forRequest(this);if(t)for(const e of this.#tt)if(e.blockedReasons.includes("NameValuePairExceedsMaxSize")){const e=ke(ye.setcookieHeaderIsIgnoredIn,{PH1:this.url()});t.dispatchEventToListeners(ne.MessageGenerated,{message:e,requestId:this.#me,warning:!0})}}hasExtraResponseInfo(){return this.#Ye}blockedResponseCookies(){return this.#tt}redirectSourceSignedExchangeInfoHasNoErrors(){return null!==this.#Se&&null!==this.#Se.#Oe&&!this.#Se.#Oe.errors}clientSecurityState(){return this.#ht}setTrustTokenParams(e){this.#ut=e}trustTokenParams(){return this.#ut}setTrustTokenOperationDoneEvent(e){this.#gt=e,this.dispatchEventToListeners(Ce.TrustTokenResultAdded)}trustTokenOperationDoneEvent(){return this.#gt}setIsSameSite(e){this.#At=e}isSameSite(){return this.#At}}!function(e){e.FinishedLoading="FinishedLoading",e.TimingChanged="TimingChanged",e.RemoteAddressChanged="RemoteAddressChanged",e.RequestHeadersChanged="RequestHeadersChanged",e.ResponseHeadersChanged="ResponseHeadersChanged",e.WebsocketFrameAdded="WebsocketFrameAdded",e.EventSourceMessageAdded="EventSourceMessageAdded",e.TrustTokenResultAdded="TrustTokenResultAdded"}(Ce||(Ce={})),function(e){e.Other="other",e.Parser="parser",e.Redirect="redirect",e.Script="script",e.Preload="preload",e.SignedExchange="signedExchange",e.Preflight="preflight"}(Te||(Te={})),function(e){e.Send="send",e.Receive="receive",e.Error="error"}(Re||(Re={}));var xe=Object.freeze({__proto__:null,get MIME_TYPE(){return we},NetworkRequest:Me,get Events(){return Ce},get InitiatorType(){return Te},get WebSocketFrameType(){return Re},cookieBlockedReasonToUiString:function(e){switch(e){case"SecureOnly":return ke(ye.secureOnly);case"NotOnPath":return ke(ye.notOnPath);case"DomainMismatch":return ke(ye.domainMismatch);case"SameSiteStrict":return ke(ye.sameSiteStrict);case"SameSiteLax":return ke(ye.sameSiteLax);case"SameSiteUnspecifiedTreatedAsLax":return ke(ye.sameSiteUnspecifiedTreatedAsLax);case"SameSiteNoneInsecure":return ke(ye.sameSiteNoneInsecure);case"UserPreferences":return ke(ye.userPreferences);case"UnknownError":return ke(ye.unknownError);case"SchemefulSameSiteStrict":return ke(ye.schemefulSameSiteStrict);case"SchemefulSameSiteLax":return ke(ye.schemefulSameSiteLax);case"SchemefulSameSiteUnspecifiedTreatedAsLax":return ke(ye.schemefulSameSiteUnspecifiedTreatedAsLax);case"SamePartyFromCrossPartyContext":return ke(ye.samePartyFromCrossPartyContext);case"NameValuePairExceedsMaxSize":return ke(ye.nameValuePairExceedsMaxSize)}return""},setCookieBlockedReasonToUiString:function(e){switch(e){case"SecureOnly":return ke(ye.blockedReasonSecureOnly);case"SameSiteStrict":return ke(ye.blockedReasonSameSiteStrictLax,{PH1:"SameSite=Strict"});case"SameSiteLax":return ke(ye.blockedReasonSameSiteStrictLax,{PH1:"SameSite=Lax"});case"SameSiteUnspecifiedTreatedAsLax":return ke(ye.blockedReasonSameSiteUnspecifiedTreatedAsLax);case"SameSiteNoneInsecure":return ke(ye.blockedReasonSameSiteNoneInsecure);case"UserPreferences":return ke(ye.thisSetcookieWasBlockedDueToUser);case"SyntaxError":return ke(ye.thisSetcookieHadInvalidSyntax);case"SchemeNotSupported":return ke(ye.theSchemeOfThisConnectionIsNot);case"OverwriteSecure":return ke(ye.blockedReasonOverwriteSecure);case"InvalidDomain":return ke(ye.blockedReasonInvalidDomain);case"InvalidPrefix":return ke(ye.blockedReasonInvalidPrefix);case"UnknownError":return ke(ye.anUnknownErrorWasEncounteredWhenTrying);case"SchemefulSameSiteStrict":return ke(ye.thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax,{PH1:"SameSite=Strict"});case"SchemefulSameSiteLax":return ke(ye.thisSetcookieWasBlockedBecauseItHadTheSamesiteStrictLax,{PH1:"SameSite=Lax"});case"SchemefulSameSiteUnspecifiedTreatedAsLax":return ke(ye.thisSetcookieDidntSpecifyASamesite);case"SamePartyFromCrossPartyContext":return ke(ye.thisSetcookieWasBlockedBecauseItHadTheSameparty);case"SamePartyConflictsWithOtherAttributes":return ke(ye.thisSetcookieWasBlockedBecauseItHadTheSamepartyAttribute);case"NameValuePairExceedsMaxSize":return ke(ye.thisSetcookieWasBlockedBecauseTheNameValuePairExceedsMaxSize)}return""},cookieBlockedReasonToAttribute:function(e){switch(e){case"SecureOnly":return D.Secure;case"NotOnPath":return D.Path;case"DomainMismatch":return D.Domain;case"SameSiteStrict":case"SameSiteLax":case"SameSiteUnspecifiedTreatedAsLax":case"SameSiteNoneInsecure":case"SchemefulSameSiteStrict":case"SchemefulSameSiteLax":case"SchemefulSameSiteUnspecifiedTreatedAsLax":return D.SameSite;case"SamePartyFromCrossPartyContext":return D.SameParty;case"NameValuePairExceedsMaxSize":case"UserPreferences":case"UnknownError":return null}return null},setCookieBlockedReasonToAttribute:function(e){switch(e){case"SecureOnly":case"OverwriteSecure":return D.Secure;case"SameSiteStrict":case"SameSiteLax":case"SameSiteUnspecifiedTreatedAsLax":case"SameSiteNoneInsecure":case"SchemefulSameSiteStrict":case"SchemefulSameSiteLax":case"SchemefulSameSiteUnspecifiedTreatedAsLax":return D.SameSite;case"InvalidDomain":return D.Domain;case"InvalidPrefix":return D.Name;case"SamePartyConflictsWithOtherAttributes":case"SamePartyFromCrossPartyContext":return D.SameParty;case"NameValuePairExceedsMaxSize":case"UserPreferences":case"SyntaxError":case"SchemeNotSupported":case"UnknownError":return null}return null}});class Pe{static fromLocalObject(e){return new Ne(e)}static type(e){if(null===e)return"null";const t=typeof e;return"object"!==t&&"function"!==t?t:e.type}static isNullOrUndefined(e){if(void 0===e)return!0;switch(e.type){case"object":return"null"===e.subtype;case"undefined":return!0;default:return!1}}static arrayNameFromDescription(e){return e.replace(Be,"").replace(Ue,"")}static arrayLength(e){if("array"!==e.subtype&&"typedarray"!==e.subtype)return 0;const t=e.description&&e.description.match(Be),n=e.description&&e.description.match(Ue);return t?parseInt(t[1],10):n?parseInt(n[1],10):0}static arrayBufferByteLength(e){if("arraybuffer"!==e.subtype)return 0;const t=e.description&&e.description.match(Be);return t?parseInt(t[1],10):0}static unserializableDescription(e){const t=typeof e;if("number"===t){const t=String(e);if(0===e&&1/e<0)return"-0";if("NaN"===t||"Infinity"===t||"-Infinity"===t)return t}return"bigint"===t?e+"n":null}static toCallArgument(e){const t=typeof e;if("undefined"===t)return{};const n=Pe.unserializableDescription(e);if("number"===t)return null!==n?{unserializableValue:n}:{value:e};if("bigint"===t)return{unserializableValue:n};if("string"===t||"boolean"===t)return{value:e};if(!e)return{value:null};const r=e;if(e instanceof Pe){const t=e.unserializableValue();if(void 0!==t)return{unserializableValue:t}}else if(void 0!==r.unserializableValue)return{unserializableValue:r.unserializableValue};return void 0!==r.objectId?{objectId:r.objectId}:{value:r.value}}static async loadFromObjectPerProto(e,t,n=!1){const r=await Promise.all([e.getAllProperties(!0,t,n),e.getOwnProperties(t,n)]),s=r[0].properties,i=r[1].properties,a=r[1].internalProperties;if(!i||!s)return{properties:null,internalProperties:null};const o=new Map,l=[];for(let e=0;e<s.length;e++){const t=s[e];t.symbol?l.push(t):(t.isOwn||"__proto__"!==t.name)&&o.set(t.name,t)}for(let e=0;e<i.length;e++){const t=i[e];t.isAccessorProperty()||(t.private||t.symbol?l.push(t):o.set(t.name,t))}return{properties:[...o.values()].concat(l),internalProperties:a||null}}customPreview(){return null}get objectId(){return"Not implemented"}get type(){throw"Not implemented"}get subtype(){throw"Not implemented"}get value(){throw"Not implemented"}unserializableValue(){throw"Not implemented"}get description(){throw"Not implemented"}set description(e){throw"Not implemented"}get hasChildren(){throw"Not implemented"}get preview(){}get className(){return null}arrayLength(){throw"Not implemented"}arrayBufferByteLength(){throw"Not implemented"}getOwnProperties(e,t){throw"Not implemented"}getAllProperties(e,t,n){throw"Not implemented"}async deleteProperty(e){throw"Not implemented"}async setPropertyValue(e,t){throw"Not implemented"}callFunction(e,t){throw"Not implemented"}callFunctionJSON(e,t){throw"Not implemented"}release(){}debuggerModel(){throw new Error("DebuggerModel-less object")}runtimeModel(){throw new Error("RuntimeModel-less object")}isNode(){return!1}webIdl}class Le extends Pe{runtimeModelInternal;#Nt;#g;#Ft;#Dt;#Bt;hasChildrenInternal;#Ut;#Ht;#u;#qt;#_t;constructor(e,t,n,r,s,i,a,o,l,d){super(),this.runtimeModelInternal=e,this.#Nt=e.target().runtimeAgent(),this.#g=n,this.#Ft=r,t?(this.#Dt=t,this.#Bt=a,this.hasChildrenInternal="symbol"!==n,this.#Ut=o):(this.#Bt=a,!this.description&&i&&(this.#Bt=i),this.#Bt||"object"==typeof s&&null!==s||(this.#Bt=String(s)),this.hasChildrenInternal=!1,"string"==typeof i?(this.#Ht=i,"Infinity"===i||"-Infinity"===i||"-0"===i||"NaN"===i?this.#u=Number(i):"bigint"===n&&i.endsWith("n")?this.#u=BigInt(i.substring(0,i.length-1)):this.#u=i):this.#u=s),this.#qt=l||null,this.#_t="string"==typeof d?d:null}customPreview(){return this.#qt}get objectId(){return this.#Dt}get type(){return this.#g}get subtype(){return this.#Ft}get value(){return this.#u}unserializableValue(){return this.#Ht}get description(){return this.#Bt}set description(e){this.#Bt=e}get hasChildren(){return this.hasChildrenInternal}get preview(){return this.#Ut}get className(){return this.#_t}getOwnProperties(e,t=!1){return this.doGetProperties(!0,!1,t,e)}getAllProperties(e,t,n=!1){return this.doGetProperties(!1,e,n,t)}async createRemoteObject(e){return this.runtimeModelInternal.createRemoteObject(e)}async doGetProperties(e,t,n,r){if(!this.#Dt)return{properties:null,internalProperties:null};const s=await this.#Nt.invoke_getProperties({objectId:this.#Dt,ownProperties:e,accessorPropertiesOnly:t,nonIndexedPropertiesOnly:n,generatePreview:r});if(s.getError())return{properties:null,internalProperties:null};if(s.exceptionDetails)return this.runtimeModelInternal.exceptionThrown(Date.now(),s.exceptionDetails),{properties:null,internalProperties:null};const{result:i=[],internalProperties:a=[],privateProperties:o=[]}=s,l=[];for(const e of i){const t=e.value?await this.createRemoteObject(e.value):null,n=e.symbol?this.runtimeModelInternal.createRemoteObject(e.symbol):null,r=new Oe(e.name,t,Boolean(e.enumerable),Boolean(e.writable),Boolean(e.isOwn),Boolean(e.wasThrown),n);void 0===e.value&&(e.get&&"undefined"!==e.get.type&&(r.getter=this.runtimeModelInternal.createRemoteObject(e.get)),e.set&&"undefined"!==e.set.type&&(r.setter=this.runtimeModelInternal.createRemoteObject(e.set))),l.push(r)}for(const e of o){const t=e.value?this.runtimeModelInternal.createRemoteObject(e.value):null,n=new Oe(e.name,t,!0,!0,!0,!1,void 0,!1,void 0,!0);void 0===e.value&&(e.get&&"undefined"!==e.get.type&&(n.getter=this.runtimeModelInternal.createRemoteObject(e.get)),e.set&&"undefined"!==e.set.type&&(n.setter=this.runtimeModelInternal.createRemoteObject(e.set))),l.push(n)}const d=[];for(const e of a){if(!e.value)continue;if("[[StableObjectId]]"===e.name)continue;const t=this.runtimeModelInternal.createRemoteObject(e.value);d.push(new Oe(e.name,t,!0,!1,void 0,void 0,void 0,!0))}return{properties:l,internalProperties:d}}async setPropertyValue(e,t){if(!this.#Dt)return"Can’t set a property of non-object.";const n=await this.#Nt.invoke_evaluate({expression:t,silent:!0});if(n.getError()||n.exceptionDetails)return n.getError()||("string"!==n.result.type?n.result.description:n.result.value);"string"==typeof e&&(e=Pe.toCallArgument(e));const r=this.doSetObjectPropertyValue(n.result,e);return n.result.objectId&&this.#Nt.invoke_releaseObject({objectId:n.result.objectId}),r}async doSetObjectPropertyValue(e,t){const n=[t,Pe.toCallArgument(e)],r=await this.#Nt.invoke_callFunctionOn({objectId:this.#Dt,functionDeclaration:"function(a, b) { this[a] = b; }",arguments:n,silent:!0}),s=r.getError();return s||r.exceptionDetails?s||r.result.description:void 0}async deleteProperty(e){if(!this.#Dt)return"Can’t delete a property of non-object.";const t=await this.#Nt.invoke_callFunctionOn({objectId:this.#Dt,functionDeclaration:"function(a) { delete this[a]; return !(a in this); }",arguments:[e],silent:!0});return t.getError()||t.exceptionDetails?t.getError()||t.result.description:t.result.value?void 0:"Failed to delete property."}async callFunction(e,t){const n=await this.#Nt.invoke_callFunctionOn({objectId:this.#Dt,functionDeclaration:e.toString(),arguments:t,silent:!0});return n.getError()?{object:null,wasThrown:!1}:{object:this.runtimeModelInternal.createRemoteObject(n.result),wasThrown:Boolean(n.exceptionDetails)}}async callFunctionJSON(e,t){const n=await this.#Nt.invoke_callFunctionOn({objectId:this.#Dt,functionDeclaration:e.toString(),arguments:t,silent:!0,returnByValue:!0});return n.getError()||n.exceptionDetails?null:n.result.value}release(){this.#Dt&&this.#Nt.invoke_releaseObject({objectId:this.#Dt})}arrayLength(){return Pe.arrayLength(this)}arrayBufferByteLength(){return Pe.arrayBufferByteLength(this)}debuggerModel(){return this.runtimeModelInternal.debuggerModel()}runtimeModel(){return this.runtimeModelInternal}isNode(){return Boolean(this.#Dt)&&"object"===this.type&&"node"===this.subtype}}class Ee extends Le{#zt;#jt;constructor(e,t,n,r,s,i,a,o,l){super(e,t,r,s,i,a,o,l),this.#zt=n,this.#jt=void 0}async doGetProperties(e,t,n){if(t)return{properties:[],internalProperties:[]};if(this.#jt)return{properties:this.#jt.slice(),internalProperties:null};const r=await super.doGetProperties(e,t,!1,!0);if(this.#zt&&Array.isArray(r.properties)&&(this.#jt=r.properties.slice(),!this.#zt.callFrameId))for(const e of this.#jt)e.writable=!1;return r}async doSetObjectPropertyValue(e,t){const n=t.value,r=await this.debuggerModel().setVariableValue(this.#zt.number,n,Pe.toCallArgument(e),this.#zt.callFrameId);if(r)return r;if(this.#jt)for(const t of this.#jt)t.name===n&&(t.value=this.runtimeModel().createRemoteObject(e))}}class Ae{number;callFrameId;constructor(e,t){this.number=e,this.callFrameId=t}}class Oe{name;value;enumerable;writable;isOwn;wasThrown;symbol;synthetic;syntheticSetter;private;getter;setter;webIdl;constructor(e,t,n,r,s,i,a,o,l,d){this.name=e,this.value=null!==t?t:void 0,this.enumerable=void 0===n||n;const c=!o||Boolean(l);this.writable=void 0!==r?r:c,this.isOwn=Boolean(s),this.wasThrown=Boolean(i),a&&(this.symbol=a),this.synthetic=Boolean(o),l&&(this.syntheticSetter=l),this.private=Boolean(d)}async setSyntheticValue(e){if(!this.syntheticSetter)return!1;const t=await this.syntheticSetter(e);return t&&(this.value=t),Boolean(t)}isAccessorProperty(){return Boolean(this.getter||this.setter)}match({includeNullOrUndefinedValues:e,regex:t}){return!(null!==t&&!t.test(this.name)&&!t.test(this.value?.description??""))&&!(!e&&!this.isAccessorProperty()&&Pe.isNullOrUndefined(this.value))}}class Ne extends Pe{valueInternal;#Wt;#Vt;constructor(e){super(),this.valueInternal=e}get objectId(){}get value(){return this.valueInternal}unserializableValue(){return Pe.unserializableDescription(this.valueInternal)||void 0}get description(){if(this.#Wt)return this.#Wt;if("object"===this.type)switch(this.subtype){case"array":this.#Wt=this.concatenate("[","]",function(e){return this.formatValue(e.value||null)}.bind(this));break;case"date":this.#Wt=String(this.valueInternal);break;case"null":this.#Wt="null";break;default:this.#Wt=this.concatenate("{","}",function(e){let t=e.name;return/^\s|\s$|^$|\n/.test(t)&&(t='"'+t.replace(/\n/g,"↵")+'"'),t+": "+this.formatValue(e.value||null)}.bind(this))}else this.#Wt=String(this.valueInternal);return this.#Wt}formatValue(e){if(!e)return"undefined";const t=e.description||"";return"string"===e.type?'"'+t.replace(/\n/g,"↵")+'"':t}concatenate(e,t,n){let r=e;const s=this.children();for(let e=0;e<s.length;++e){const t=n(s[e]);if(r.length+t.length>100){r+=",…";break}e&&(r+=", "),r+=t}return r+=t,r}get type(){return typeof this.valueInternal}get subtype(){return null===this.valueInternal?"null":Array.isArray(this.valueInternal)?"array":this.valueInternal instanceof Date?"date":void 0}get hasChildren(){return"object"==typeof this.valueInternal&&null!==this.valueInternal&&Boolean(Object.keys(this.valueInternal).length)}async getOwnProperties(e,t=!1){let n=this.children();return t&&(n=n.filter((e=>!function(e){const t=Number(e)>>>0;return String(t)===e}(e.name)))),{properties:n,internalProperties:null}}async getAllProperties(e,t,n=!1){return e?{properties:[],internalProperties:null}:await this.getOwnProperties(t,n)}children(){if(!this.hasChildren)return[];const e=this.valueInternal;return this.#Vt||(this.#Vt=Object.keys(e).map((function(t){let n=e[t];return n instanceof Pe||(n=Pe.fromLocalObject(n)),new Oe(t,n)}))),this.#Vt}arrayLength(){return Array.isArray(this.valueInternal)?this.valueInternal.length:0}async callFunction(e,t){const n=this.valueInternal,r=t?t.map((e=>e.value)):[];let s,i=!1;try{s=e.apply(n,r)}catch(e){i=!0}return{object:Pe.fromLocalObject(s),wasThrown:i}}async callFunctionJSON(e,t){const n=this.valueInternal,r=t?t.map((e=>e.value)):[];let s;try{s=e.apply(n,r)}catch(e){s=null}return s}}class Fe{#Gt;constructor(e){this.#Gt=e}static objectAsArray(e){if(!e||"object"!==e.type||"array"!==e.subtype&&"typedarray"!==e.subtype)throw new Error("Object is empty or not an array");return new Fe(e)}static createFromRemoteObjects(e){if(!e.length)throw new Error("Input array is empty");const t=[];for(let n=0;n<e.length;++n)t.push(Pe.toCallArgument(e[n]));return e[0].callFunction((function(){if(arguments.length>1)return new Array(arguments);return[arguments[0]]}),t).then((function(e){if(e.wasThrown||!e.object)throw new Error("Call function throws exceptions or returns empty value");return Fe.objectAsArray(e.object)}))}at(e){if(e<0||e>this.#Gt.arrayLength())throw new Error("Out of range");return this.#Gt.callFunction((function(e){return this[e]}),[Pe.toCallArgument(e)]).then((function(e){if(e.wasThrown||!e.object)throw new Error("Exception in callFunction or result value is empty");return e.object}))}length(){return this.#Gt.arrayLength()}map(e){const t=[];for(let n=0;n<this.length();++n)t.push(this.at(n).then(e));return Promise.all(t)}object(){return this.#Gt}}class De{#Gt;constructor(e){this.#Gt=e}static objectAsFunction(e){if(!e||"function"!==e.type)throw new Error("Object is empty or not a function");return new De(e)}targetFunction(){return this.#Gt.getOwnProperties(!1).then(function(e){if(!e.internalProperties)return this.#Gt;const t=e.internalProperties;for(const e of t)if("[[TargetFunction]]"===e.name)return e.value;return this.#Gt}.bind(this))}targetFunctionDetails(){return this.targetFunction().then(function(t){const n=e.bind(null,this.#Gt!==t?t:null);return t.debuggerModel().functionDetailsPromise(t).then(n)}.bind(this));function e(e,t){return e&&e.release(),t}}object(){return this.#Gt}}const Be=/\(([0-9]+)\)/,Ue=/\[([0-9]+)\]/;var He=Object.freeze({__proto__:null,RemoteObject:Pe,RemoteObjectImpl:Le,ScopeRemoteObject:Ee,ScopeRef:Ae,RemoteObjectProperty:Oe,LocalJSONObject:Ne,RemoteArrayBuffer:class{#Gt;constructor(e){if("object"!==e.type||"arraybuffer"!==e.subtype)throw new Error("Object is not an arraybuffer");this.#Gt=e}byteLength(){return this.#Gt.arrayBufferByteLength()}async bytes(e=0,t=this.byteLength()){if(e<0||e>=this.byteLength())throw new RangeError("start is out of range");if(t<e||t>this.byteLength())throw new RangeError("end is out of range");return await this.#Gt.callFunctionJSON((function(e,t){return[...new Uint8Array(this,e,t)]}),[{value:e},{value:t-e}])}object(){return this.#Gt}},RemoteArray:Fe,RemoteFunction:De});class qe{#Kt;#Qt;#$t;#Xt;#Jt;constructor(e){this.#Kt=e.fontFamily,this.#Qt=e.fontVariationAxes||[],this.#$t=new Map,this.#Xt=e.src,this.#Jt=e.fontDisplay;for(const e of this.#Qt)this.#$t.set(e.tag,e)}getFontFamily(){return this.#Kt}getSrc(){return this.#Xt}getFontDisplay(){return this.#Jt}getVariationAxisByTag(e){return this.#$t.get(e)}}var _e=Object.freeze({__proto__:null,CSSFontFace:qe});class ze{text="";range;styleSheetId;cssModel;constructor(e){this.cssModel=e}rebase(e){this.styleSheetId===e.styleSheetId&&this.range&&(e.oldRange.equal(this.range)?this.reinitialize(e.payload):this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange))}equal(e){return!!(this.styleSheetId&&this.range&&e.range)&&(this.styleSheetId===e.styleSheetId&&this.range.equal(e.range))}lineNumberInSource(){if(this.range)return this.header()?.lineNumberInSource(this.range.startLine)}columnNumberInSource(){if(this.range)return this.header()?.columnNumberInSource(this.range.startLine,this.range.startColumn)}header(){return this.styleSheetId?this.cssModel.styleSheetHeaderForId(this.styleSheetId):null}rawLocation(){const e=this.header();if(!e||void 0===this.lineNumberInSource())return null;const t=Number(this.lineNumberInSource());return new hn(e,t,this.columnNumberInSource())}}var je=Object.freeze({__proto__:null,CSSQuery:ze});class We extends ze{name;static parseContainerQueriesPayload(e,t){return t.map((t=>new We(e,t)))}constructor(e,t){super(e),this.reinitialize(t)}reinitialize(e){this.text=e.text,this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null,this.styleSheetId=e.styleSheetId,this.name=e.name}active(){return!0}async getContainerForNode(e){const t=await this.cssModel.domModel().getContainerForNode(e,this.name);if(t)return new Ve(t)}}class Ve{containerNode;constructor(e){this.containerNode=e}async getContainerSizeDetails(){const e=await this.containerNode.domModel().cssModel().getComputedStyle(this.containerNode.id);if(!e)return;const t=e.get("container-type"),n=e.get("contain"),r=e.get("writing-mode");if(!t||!n||!r)return;const s=Ge(`${t} ${n}`),i=Ke(s,r);let a,o;return"Both"!==i&&"Horizontal"!==i||(a=e.get("width")),"Both"!==i&&"Vertical"!==i||(o=e.get("height")),{queryAxis:s,physicalAxis:i,width:a,height:o}}}const Ge=e=>{const t=e.split(" ");let n=!1,r=!1;for(const e of t){if("size"===e)return"size";n=n||"inline-size"===e,r=r||"block-size"===e}return n&&r?"size":n?"inline-size":r?"block-size":""},Ke=(e,t)=>{const n=t.startsWith("vertical");switch(e){case"":return"";case"size":return"Both";case"inline-size":return n?"Vertical":"Horizontal";case"block-size":return n?"Horizontal":"Vertical"}};var Qe=Object.freeze({__proto__:null,CSSContainerQuery:We,CSSContainerQueryContainer:Ve,getQueryAxis:Ge,getPhysicalAxisFromQueryAxis:Ke});class $e extends ze{static parseLayerPayload(e,t){return t.map((t=>new $e(e,t)))}constructor(e,t){super(e),this.reinitialize(t)}reinitialize(e){this.text=e.text,this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null,this.styleSheetId=e.styleSheetId}active(){return!0}}var Xe=Object.freeze({__proto__:null,CSSLayer:$e});class Je{#Yt;#Zt;constructor(e){this.#Yt=e.active,this.#Zt=[];for(let t=0;t<e.expressions.length;++t)this.#Zt.push(Ye.parsePayload(e.expressions[t]))}static parsePayload(e){return new Je(e)}active(){return this.#Yt}expressions(){return this.#Zt}}class Ye{#u;#en;#tn;#nn;#rn;constructor(e){this.#u=e.value,this.#en=e.unit,this.#tn=e.feature,this.#nn=e.valueRange?n.TextRange.TextRange.fromObject(e.valueRange):null,this.#rn=e.computedLength||null}static parsePayload(e){return new Ye(e)}value(){return this.#u}unit(){return this.#en}feature(){return this.#tn}valueRange(){return this.#nn}computedLength(){return this.#rn}}class Ze extends ze{source;sourceURL;mediaList;static parseMediaArrayPayload(e,t){return t.map((t=>new Ze(e,t)))}constructor(e,t){super(e),this.reinitialize(t)}reinitialize(e){if(this.text=e.text,this.source=e.source,this.sourceURL=e.sourceURL||"",this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null,this.styleSheetId=e.styleSheetId,this.mediaList=null,e.mediaList){this.mediaList=[];for(let t=0;t<e.mediaList.length;++t)this.mediaList.push(Je.parsePayload(e.mediaList[t]))}}active(){if(!this.mediaList)return!0;for(let e=0;e<this.mediaList.length;++e)if(this.mediaList[e].active())return!0;return!1}}var et=Object.freeze({__proto__:null,CSSMediaQuery:Je,CSSMediaQueryExpression:Ye,CSSMedia:Ze,Source:{LINKED_SHEET:"linkedSheet",INLINE_SHEET:"inlineSheet",MEDIA_RULE:"mediaRule",IMPORT_RULE:"importRule"}});class tt extends ze{static parseScopesPayload(e,t){return t.map((t=>new tt(e,t)))}constructor(e,t){super(e),this.reinitialize(t)}reinitialize(e){this.text=e.text,this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null,this.styleSheetId=e.styleSheetId}active(){return!0}}var nt=Object.freeze({__proto__:null,CSSScope:tt});class rt extends ze{static parseSupportsPayload(e,t){return t.map((t=>new rt(e,t)))}#sn=!0;constructor(e,t){super(e),this.reinitialize(t)}reinitialize(e){this.text=e.text,this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null,this.styleSheetId=e.styleSheetId,this.#sn=e.active}active(){return this.#sn}}var st=Object.freeze({__proto__:null,CSSSupports:rt});class it{ownerStyle;index;name;value;important;disabled;parsedOk;implicit;text;range;#sn;#in;#nn;#an;constructor(e,t,r,s,i,a,o,l,d,c){this.ownerStyle=e,this.index=t,this.name=r,this.value=s,this.important=i,this.disabled=a,this.parsedOk=o,this.implicit=l,this.text=d,this.range=c?n.TextRange.TextRange.fromObject(c):null,this.#sn=!0,this.#in=null,this.#nn=null}static parsePayload(e,t,n){return new it(e,t,n.name,n.value,n.important||!1,n.disabled||!1,!("parsedOk"in n)||Boolean(n.parsedOk),Boolean(n.implicit),n.text,n.range)}ensureRanges(){if(this.#in&&this.#nn)return;const e=this.range,t=this.text?new n.Text.Text(this.text):null;if(!e||!t)return;const r=t.value().indexOf(this.name),s=t.value().lastIndexOf(this.value);if(-1===r||-1===s||r>s)return;const i=new n.TextRange.SourceRange(r,this.name.length),a=new n.TextRange.SourceRange(s,this.value.length);function o(e,t,n){return 0===e.startLine&&(e.startColumn+=n,e.endColumn+=n),e.startLine+=t,e.endLine+=t,e}this.#in=o(t.toTextRange(i),e.startLine,e.startColumn),this.#nn=o(t.toTextRange(a),e.startLine,e.startColumn)}nameRange(){return this.ensureRanges(),this.#in}valueRange(){return this.ensureRanges(),this.#nn}rebase(e){this.ownerStyle.styleSheetId===e.styleSheetId&&this.range&&(this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange))}setActive(e){this.#sn=e}get propertyText(){return void 0!==this.text?this.text:""===this.name?"":this.name+": "+this.value+(this.important?" !important":"")+";"}activeInStyle(){return this.#sn}trimmedValueWithoutImportant(){const e="!important";return this.value.endsWith(e)?this.value.slice(0,-e.length).trim():this.value.trim()}async setText(r,i,a){if(!this.ownerStyle)throw new Error("No ownerStyle for property");if(!this.ownerStyle.styleSheetId)throw new Error("No owner style id");if(!this.range||!this.ownerStyle.range)throw new Error("Style not editable");if(i&&(s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited),this.name.startsWith("--")&&s.userMetrics.actionTaken(s.UserMetrics.Action.CustomPropertyEdited)),a&&r===this.propertyText)return this.ownerStyle.cssModel().domModel().markUndoableState(!i),!0;const o=this.range.relativeTo(this.ownerStyle.range.startLine,this.ownerStyle.range.startColumn),l=this.ownerStyle.cssText?this.detectIndentation(this.ownerStyle.cssText):e.Settings.Settings.instance().moduleSetting("textEditorIndent").get(),d=this.ownerStyle.cssText?l.substring(0,this.ownerStyle.range.endColumn):"",c=new n.Text.Text(this.ownerStyle.cssText||"").replaceRange(o,t.StringUtilities.sprintf(";%s;",r)),h=await it.formatStyle(c,l,d);return this.ownerStyle.setText(h,i)}static async formatStyle(e,t,r){const s=t.substring(r.length)+t;t&&(t="\n"+t);let i="",a="",o="",l=!1,d=!1;const c=n.CodeMirrorUtils.createCssTokenizer();return await c("*{"+e+"}",(function(e,n){if(!l){const r=n?.includes("comment")&&function(e){const t=e.indexOf(":");if(-1===t)return!1;const n=e.substring(2,t).trim();return I().isCSSPropertyName(n)}(e),s=n?.includes("string")||n?.includes("meta")||n?.includes("property")||n?.includes("variableName");return r?i=i.trimEnd()+t+e:s?(l=!0,o=e):(";"!==e||d)&&(i+=e,e.trim()&&!n?.includes("comment")&&(d=";"!==e)),void("{"!==e||n||(d=!1))}if("}"===e||";"===e){const n=o.trim();return i=i.trimEnd()+t+n+(n.endsWith(":")?" ":"")+e,d=!1,l=!1,void(a="")}if(I().isGridAreaDefiningProperty(a)){const t=b.exec(e);t&&0===t.index&&!o.trimEnd().endsWith("]")&&(o=o.trimEnd()+"\n"+s)}a||":"!==e||(a=o);o+=e})),l&&(i+=o),i=i.substring(2,i.length-1).trimEnd(),i+(t?"\n"+r:"")}detectIndentation(e){const t=e.split("\n");return t.length<2?"":n.TextUtils.Utils.lineIndent(t[1])}setValue(e,t,n,r){const s=this.name+": "+e+(this.important?" !important":"")+";";this.setText(s,t,n).then(r)}async setDisabled(e){if(!this.ownerStyle)return!1;if(e===this.disabled)return!0;if(!this.text)return!0;const t=this.text.trim(),n=e=>e+(e.endsWith(";")?"":";");let r;return r=e?"/* "+n(t)+" */":n(this.text.substring(2,t.length-2).trim()),this.setText(r,!0,!0)}setDisplayedStringForInvalidProperty(e){this.#an=e}getInvalidStringForInvalidProperty(){return this.#an}}var at,ot=Object.freeze({__proto__:null,CSSProperty:it});class lt{#on;parentRule;#ln;styleSheetId;range;cssText;#dn;#cn;#hn;#un;type;constructor(e,t,n,r){this.#on=e,this.parentRule=t,this.reinitialize(n),this.type=r}rebase(e){if(this.styleSheetId===e.styleSheetId&&this.range)if(e.oldRange.equal(this.range))this.reinitialize(e.payload);else{this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange);for(let t=0;t<this.#ln.length;++t)this.#ln[t].rebase(e)}}reinitialize(e){this.styleSheetId=e.styleSheetId,this.range=e.range?n.TextRange.TextRange.fromObject(e.range):null;const t=e.shorthandEntries;this.#dn=new Map,this.#cn=new Set;for(let e=0;e<t.length;++e)this.#dn.set(t[e].name,t[e].value),t[e].important&&this.#cn.add(t[e].name);if(this.#ln=[],e.cssText&&this.range){const t=new n.Text.Text(e.cssText);let s={line:this.range.startLine,column:this.range.startColumn};for(const n of e.cssProperties){const e=n.range;e&&(r.call(this,t,s.line,s.column,e.startLine,e.startColumn),s={line:e.endLine,column:e.endColumn}),this.#ln.push(it.parsePayload(this,this.#ln.length,n))}r.call(this,t,s.line,s.column,this.range.endLine,this.range.endColumn)}else for(const t of e.cssProperties)this.#ln.push(it.parsePayload(this,this.#ln.length,t));this.generateSyntheticPropertiesIfNeeded(),this.computeInactiveProperties(),this.#hn=new Map;for(const e of this.#ln)e.activeInStyle()&&this.#hn.set(e.name,e);function r(e,t,r,i,a){const o=new n.TextRange.TextRange(t,r,i,a);if(!this.range)return;const l=e.extract(o.relativeTo(this.range.startLine,this.range.startColumn)).split("\n");let d=0,c=!1;for(const e of l){let i=0;for(const a of e.split(";")){const e=s(a,c),o=e.text.trim();if(c=e.inComment,o){let e,s;const l=o.indexOf(":");-1===l?(e=o,s=""):(e=o.substring(0,l).trim(),s=o.substring(l+1).trim());const c=new n.TextRange.TextRange(d,i,d,i+a.length);this.#ln.push(new it(this,this.#ln.length,e,s,!1,!1,!1,!1,a,c.relativeFrom(t,r)))}i+=a.length+1}d++}}function s(e,t){let n="";for(let r=0;r<e.length;r++)t||"/*"!==e.substring(r,r+2)?t&&"*/"===e.substring(r,r+2)?(t=!1,r++):t||(n+=e[r]):(t=!0,r++);return{text:n,inComment:t}}this.cssText=e.cssText,this.#un=null}generateSyntheticPropertiesIfNeeded(){if(this.range)return;if(!this.#dn.size)return;const e=new Set;for(const t of this.#ln)e.add(t.name);const t=[];for(const n of this.#ln){const r=I().getShorthands(n.name)||[];for(const n of r){if(e.has(n))continue;const r=this.#dn.get(n);if(!r)continue;const s=Boolean(this.#cn.has(n)),i=new it(this,this.allProperties().length,n,r,s,!1,!0,!1);t.push(i),e.add(n)}}this.#ln=this.#ln.concat(t)}computeLeadingProperties(){if(this.range)return this.#ln.filter((function(e){return Boolean(e.range)}));const e=[];for(const t of this.#ln){const n=I().getShorthands(t.name)||[];let r=!1;for(const e of n)if(this.#dn.get(e)){r=!0;break}r||e.push(t)}return e}leadingProperties(){return this.#un||(this.#un=this.computeLeadingProperties()),this.#un}target(){return this.#on.target()}cssModel(){return this.#on}computeInactiveProperties(){const e=new Map;for(let t=0;t<this.#ln.length;++t){const n=this.#ln[t];if(n.disabled||!n.parsedOk){n.setActive(!1);continue}const r=I(),s=r.canonicalPropertyName(n.name),i=r.getLonghands(s);if(i)for(const t of i){const r=e.get(t);r&&r.range&&(!r.important||n.important)&&(r.setActive(!1),e.delete(t))}const a=e.get(s);a?n.range&&(!a.important||n.important)?(a.setActive(!1),e.set(s,n)):n.setActive(!1):e.set(s,n)}}allProperties(){return this.#ln}hasActiveProperty(e){return this.#hn.has(e)}getPropertyValue(e){const t=this.#hn.get(e);return t?t.value:""}isPropertyImplicit(e){const t=this.#hn.get(e);return!!t&&t.implicit}longhandProperties(e){const t=I().getLonghands(e.toLowerCase()),n=[];for(let e=0;t&&e<t.length;++e){const r=this.#hn.get(t[e]);r&&n.push(r)}return n}propertyAt(e){return e<this.allProperties().length?this.allProperties()[e]:null}pastLastSourcePropertyIndex(){for(let e=this.allProperties().length-1;e>=0;--e)if(this.allProperties()[e].range)return e+1;return 0}insertionRange(e){const t=this.propertyAt(e);if(t&&t.range)return t.range.collapseToStart();if(!this.range)throw new Error("CSSStyleDeclaration.range is null");return this.range.collapseToEnd()}newBlankProperty(e){e=void 0===e?this.pastLastSourcePropertyIndex():e;return new it(this,e,"","",!1,!1,!0,!1,"",this.insertionRange(e))}setText(e,t){return this.range&&this.styleSheetId?this.#on.setStyleText(this.styleSheetId,this.range,e,t):Promise.resolve(!1)}insertPropertyAt(e,t,n,r){this.newBlankProperty(e).setText(t+": "+n+";",!1,!0).then(r)}appendProperty(e,t,n){this.insertPropertyAt(this.allProperties().length,e,t,n)}}!function(e){e.Regular="Regular",e.Inline="Inline",e.Attributes="Attributes"}(at||(at={}));var dt=Object.freeze({__proto__:null,CSSStyleDeclaration:lt,get Type(){return at}});class ct{cssModelInternal;styleSheetId;sourceURL;origin;style;constructor(e,t){if(this.cssModelInternal=e,this.styleSheetId=t.styleSheetId,this.styleSheetId){const e=this.getStyleSheetHeader(this.styleSheetId);this.sourceURL=e.sourceURL}this.origin=t.origin,this.style=new lt(this.cssModelInternal,this,t.style,at.Regular)}rebase(e){this.styleSheetId===e.styleSheetId&&this.style.rebase(e)}resourceURL(){if(!this.styleSheetId)return t.DevToolsPath.EmptyUrlString;return this.getStyleSheetHeader(this.styleSheetId).resourceURL()}isUserAgent(){return"user-agent"===this.origin}isInjected(){return"injected"===this.origin}isViaInspector(){return"inspector"===this.origin}isRegular(){return"regular"===this.origin}cssModel(){return this.cssModelInternal}getStyleSheetHeader(e){const t=this.cssModelInternal.styleSheetHeaderForId(e);return console.assert(null!==t),t}}class ht{text;range;constructor(e){this.text=e.text,e.range&&(this.range=n.TextRange.TextRange.fromObject(e.range))}rebase(e){this.range&&(this.range=this.range.rebaseAfterTextEdit(e.oldRange,e.newRange))}}class ut extends ct{selectors;media;containerQueries;supports;scopes;layers;wasUsed;constructor(e,t,n){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId}),this.reinitializeSelectors(t.selectorList),this.media=t.media?Ze.parseMediaArrayPayload(e,t.media):[],this.containerQueries=t.containerQueries?We.parseContainerQueriesPayload(e,t.containerQueries):[],this.scopes=t.scopes?tt.parseScopesPayload(e,t.scopes):[],this.supports=t.supports?rt.parseSupportsPayload(e,t.supports):[],this.layers=t.layers?$e.parseLayerPayload(e,t.layers):[],this.wasUsed=n||!1}static createDummyRule(e,t){const r={selectorList:{text:"",selectors:[{text:t,value:void 0}]},style:{styleSheetId:"0",range:new n.TextRange.TextRange(0,0,0,0),shorthandEntries:[],cssProperties:[]},origin:"inspector"};return new ut(e,r)}reinitializeSelectors(e){this.selectors=[];for(let t=0;t<e.selectors.length;++t)this.selectors.push(new ht(e.selectors[t]))}setSelectorText(e){const t=this.styleSheetId;if(!t)throw"No rule stylesheet id";const n=this.selectorRange();if(!n)throw"Rule selector is not editable";return this.cssModelInternal.setSelectorText(t,n,e)}selectorText(){return this.selectors.map((e=>e.text)).join(", ")}selectorRange(){const e=this.selectors[0].range,t=this.selectors[this.selectors.length-1].range;return e&&t?new n.TextRange.TextRange(e.startLine,e.startColumn,t.endLine,t.endColumn):null}lineNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId)return 0;return this.getStyleSheetHeader(this.styleSheetId).lineNumberInSource(t.range.startLine)}columnNumberInSource(e){const t=this.selectors[e];if(!t||!t.range||!this.styleSheetId)return;return this.getStyleSheetHeader(this.styleSheetId).columnNumberInSource(t.range.startLine,t.range.startColumn)}rebase(e){if(this.styleSheetId!==e.styleSheetId)return;const t=this.selectorRange();if(t&&t.equal(e.oldRange))this.reinitializeSelectors(e.payload);else for(let t=0;t<this.selectors.length;++t)this.selectors[t].rebase(e);this.media.forEach((t=>t.rebase(e))),this.containerQueries.forEach((t=>t.rebase(e))),this.scopes.forEach((t=>t.rebase(e))),this.supports.forEach((t=>t.rebase(e))),super.rebase(e)}}class gt{#gn;#pn;constructor(e,t){this.#gn=new ht(t.animationName),this.#pn=t.keyframes.map((t=>new pt(e,t)))}name(){return this.#gn}keyframes(){return this.#pn}}class pt extends ct{#mn;constructor(e,t){super(e,{origin:t.origin,style:t.style,styleSheetId:t.styleSheetId}),this.reinitializeKey(t.keyText)}key(){return this.#mn}reinitializeKey(e){this.#mn=new ht(e)}rebase(e){this.styleSheetId===e.styleSheetId&&this.#mn.range&&(e.oldRange.equal(this.#mn.range)?this.reinitializeKey(e.payload):this.#mn.rebase(e),super.rebase(e))}setKeyText(e){const t=this.styleSheetId;if(!t)throw"No rule stylesheet id";const n=this.#mn.range;if(!n)throw"Keyframe key is not editable";return this.cssModelInternal.setKeyframeKey(t,n,e)}}var mt,bt=Object.freeze({__proto__:null,CSSRule:ct,CSSStyleRule:ut,CSSKeyframesRule:gt,CSSKeyframeRule:pt});class ft{#on;#bn;#fn;#In;#pn;#vn;#yn;#Sn;#kn;#wn;#Cn;#Tn;constructor(e,t,n,r,s,i,a,o,l,d){this.#on=e,this.#bn=t,this.#fn=new Map,this.#In=new Map,this.#pn=[],l&&(this.#pn=l.map((t=>new gt(e,t)))),this.#Tn=d,this.#vn=new Map,this.#yn=new Set,s=c(s);for(const e of a)e.matchedCSSRules=c(e.matchedCSSRules);this.#Sn=this.buildMainCascade(n,r,s,a),[this.#kn,this.#wn]=this.buildPseudoCascades(i,o),this.#Cn=new Map;for(const e of Array.from(this.#wn.values()).concat(Array.from(this.#kn.values())).concat(this.#Sn))for(const t of e.styles())this.#Cn.set(t,e);function c(e){for(const t of e)s(t);const t=[];for(const s of e){const e=t[t.length-1];e&&"user-agent"===s.rule.origin&&"user-agent"===e.rule.origin&&s.rule.selectorList.text===e.rule.selectorList.text&&r(s)===r(e)?n(s,e):t.push(s)}return t;function n(e,t){const n=new Map,r=new Map;for(const e of t.rule.style.shorthandEntries)n.set(e.name,e.value);for(const e of t.rule.style.cssProperties)r.set(e.name,e.value);for(const t of e.rule.style.shorthandEntries)n.set(t.name,t.value);for(const t of e.rule.style.cssProperties)r.set(t.name,t.value);t.rule.style.shorthandEntries=[...n.entries()].map((([e,t])=>({name:e,value:t}))),t.rule.style.cssProperties=[...r.entries()].map((([e,t])=>({name:e,value:t})))}function r(e){return e.rule.media?e.rule.media.map((e=>e.text)).join(", "):null}function s(e){const{matchingSelectors:t,rule:n}=e;"user-agent"===n.origin&&t.length&&(n.selectorList.selectors=n.selectorList.selectors.filter(((e,n)=>t.includes(n))),n.selectorList.text=n.selectorList.selectors.map((e=>e.text)).join(", "),e.matchingSelectors=t.map(((e,t)=>t)))}}}buildMainCascade(e,t,n,r){const s=[],i=[];function a(){if(!t)return;const e=new lt(this.#on,null,t,at.Attributes);this.#vn.set(e,this.#bn),i.push(e)}if(e&&this.#bn.nodeType()===Node.ELEMENT_NODE){const t=new lt(this.#on,null,e,at.Inline);this.#vn.set(t,this.#bn),i.push(t)}let o;for(let e=n.length-1;e>=0;--e){const t=new ut(this.#on,n[e].rule);!t.isInjected()&&!t.isUserAgent()||o||(o=!0,a.call(this)),this.#vn.set(t.style,this.#bn),i.push(t.style),this.addMatchingSelectors(this.#bn,t,n[e].matchingSelectors)}o||a.call(this),s.push(new It(this,i,!1));let l=this.#bn.parentNode;for(let e=0;l&&r&&e<r.length;++e){const t=[],n=r[e],a=n.inlineStyle?new lt(this.#on,null,n.inlineStyle,at.Inline):null;a&&this.containsInherited(a)&&(this.#vn.set(a,l),t.push(a),this.#yn.add(a));const o=n.matchedCSSRules||[];for(let e=o.length-1;e>=0;--e){const n=new ut(this.#on,o[e].rule);this.addMatchingSelectors(l,n,o[e].matchingSelectors),this.containsInherited(n.style)&&(d(i,n.style)||d(this.#yn,n.style)||(this.#vn.set(n.style,l),t.push(n.style),this.#yn.add(n.style)))}l=l.parentNode,s.push(new It(this,t,!0))}return new vt(s);function d(e,t){if(!t.styleSheetId||!t.range)return!1;for(const n of e)if(t.styleSheetId===n.styleSheetId&&n.range&&t.range.equal(n.range))return!0;return!1}}buildSplitCustomHighlightCascades(e,t,n,r){const s=new Map;for(let r=e.length-1;r>=0;--r){const i=this.customHighlightNamesToMatchingSelectorIndices(e[r]);for(const[a,o]of i){const i=new ut(this.#on,e[r].rule);this.#vn.set(i.style,t),n&&this.#yn.add(i.style),this.addMatchingSelectors(t,i,o);const l=s.get(a);l?l.push(i.style):s.set(a,[i.style])}}for(const[e,t]of s){const s=new It(this,t,n,!0),i=r.get(e);i?i.push(s):r.set(e,[s])}}customHighlightNamesToMatchingSelectorIndices(e){const t=new Map;for(let n=0;n<e.matchingSelectors.length;n++){const r=e.matchingSelectors[n],s=e.rule.selectorList.selectors[r].text.match(/::highlight\((.*)\)/);if(s){const e=s[1],n=t.get(e);n?n.push(r):t.set(e,[r])}}return t}buildPseudoCascades(e,t){const n=new Map,r=new Map;if(!e)return[n,r];const s=new Map,i=new Map;for(let t=0;t<e.length;++t){const n=e[t],r=this.#bn.pseudoElements().get(n.pseudoType)?.at(-1)||null,a=[],o=n.matches||[];if("highlight"===n.pseudoType)this.buildSplitCustomHighlightCascades(o,this.#bn,!1,i);else{for(let e=o.length-1;e>=0;--e){const t=new ut(this.#on,o[e].rule);a.push(t.style);const s=I().isHighlightPseudoType(n.pseudoType)?this.#bn:r;this.#vn.set(t.style,s),s&&this.addMatchingSelectors(s,t,o[e].matchingSelectors)}const e=I().isHighlightPseudoType(n.pseudoType),t=new It(this,a,!1,e);s.set(n.pseudoType,[t])}}if(t){let e=this.#bn.parentNode;for(let n=0;e&&n<t.length;++n){const r=t[n].pseudoElements;for(let t=0;t<r.length;++t){const n=r[t],a=n.matches||[];if("highlight"===n.pseudoType)this.buildSplitCustomHighlightCascades(a,e,!0,i);else{const t=[];for(let n=a.length-1;n>=0;--n){const r=new ut(this.#on,a[n].rule);t.push(r.style),this.#vn.set(r.style,e),this.#yn.add(r.style),this.addMatchingSelectors(e,r,a[n].matchingSelectors)}const r=I().isHighlightPseudoType(n.pseudoType),i=new It(this,t,!0,r),o=s.get(n.pseudoType);o?o.push(i):s.set(n.pseudoType,[i])}}e=e.parentNode}}for(const[e,t]of s.entries())n.set(e,new vt(t));for(const[e,t]of i.entries())r.set(e,new vt(t));return[n,r]}addMatchingSelectors(e,t,n){for(const r of n){const n=t.selectors[r];this.setSelectorMatches(e,n.text,!0)}}node(){return this.#bn}cssModel(){return this.#on}hasMatchingSelectors(e){return this.getMatchingSelectors(e).length>0&&this.queryMatches(e.style)}getParentLayoutNodeId(){return this.#Tn}getMatchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t||"number"!=typeof t.id)return[];const n=this.#In.get(t.id);if(!n)return[];const r=[];for(let t=0;t<e.selectors.length;++t)n.get(e.selectors[t].text)&&r.push(t);return r}async recomputeMatchingSelectors(e){const t=this.nodeForStyle(e.style);if(!t)return;const n=[];for(const s of e.selectors)n.push(r.call(this,t,s.text));async function r(e,t){const n=e.ownerDocument;if(!n)return;if("number"==typeof e.id){const n=this.#In.get(e.id);if(n&&n.has(t))return}if("number"!=typeof n.id)return;const r=await this.#bn.domModel().querySelectorAll(n.id,t);r&&("number"==typeof e.id?this.setSelectorMatches(e,t,-1!==r.indexOf(e.id)):this.setSelectorMatches(e,t,!1))}await Promise.all(n)}addNewRule(e,t){return this.#fn.set(e.style,t),this.recomputeMatchingSelectors(e)}setSelectorMatches(e,t,n){if("number"!=typeof e.id)return;let r=this.#In.get(e.id);r||(r=new Map,this.#In.set(e.id,r)),r.set(t,n)}queryMatches(e){if(!e.parentRule)return!0;const t=e.parentRule,n=[...t.media,...t.containerQueries,...t.supports,...t.scopes];for(const e of n)if(!e.active())return!1;return!0}nodeStyles(){return this.#Sn.styles()}keyframes(){return this.#pn}pseudoStyles(e){const t=this.#kn.get(e);return t?t.styles():[]}pseudoTypes(){return new Set(this.#kn.keys())}customHighlightPseudoStyles(e){const t=this.#wn.get(e);return t?t.styles():[]}customHighlightPseudoNames(){return new Set(this.#wn.keys())}containsInherited(e){const t=e.allProperties();for(let e=0;e<t.length;++e){const n=t[e];if(n.activeInStyle()&&I().isPropertyInherited(n.name))return!0}return!1}nodeForStyle(e){return this.#fn.get(e)||this.#vn.get(e)||null}availableCSSVariables(e){const t=this.#Cn.get(e)||null;return t?t.findAvailableCSSVariables(e):[]}computeCSSVariable(e,t){const n=this.#Cn.get(e)||null;return n?n.computeCSSVariable(e,t):null}computeValue(e,t){const n=this.#Cn.get(e)||null;return n?n.computeValue(e,t):null}computeSingleVariableValue(e,t){const n=this.#Cn.get(e)||null,r=t.replace(/\s/g,"");return n?n.computeSingleVariableValue(e,r):null}isInherited(e){return this.#yn.has(e)}propertyState(e){const t=this.#Cn.get(e.ownerStyle);return t?t.propertyState(e):null}resetActiveProperties(){this.#Sn.reset();for(const e of this.#kn.values())e.reset();for(const e of this.#wn.values())e.reset()}}class It{#Rn;styles;#Mn;#xn;propertiesState;activeProperties;constructor(e,t,n,r=!1){this.#Rn=e,this.styles=t,this.#Mn=n,this.#xn=r,this.propertiesState=new Map,this.activeProperties=new Map}computeActiveProperties(){this.propertiesState.clear(),this.activeProperties.clear();for(const e of this.styles){const t=e.parentRule;if((!t||t instanceof ut)&&(!t||this.#Rn.hasMatchingSelectors(t)))for(const t of e.allProperties()){const e=I();if(this.#Mn&&!this.#xn&&!e.isPropertyInherited(t.name))continue;if(!t.activeInStyle()){this.propertiesState.set(t,mt.Overloaded);continue}const n=e.canonicalPropertyName(t.name);if(Boolean(e.getLonghands(n))){(t.value.match(m)||[]).map((e=>e.replace(m,"$2"))).forEach((n=>{if(e.isCSSPropertyName(n)){const e=this.activeProperties.get(n);e?(this.propertiesState.set(e,mt.Overloaded),this.activeProperties.set(n,t)):this.activeProperties.set(n,t)}}))}const r=this.activeProperties.get(n);!r||!r.important&&t.important?(r&&this.propertiesState.set(r,mt.Overloaded),this.propertiesState.set(t,mt.Active),this.activeProperties.set(n,t)):this.propertiesState.set(t,mt.Overloaded)}}}}class vt{#Pn;#Ln;#En;#An;#On;#Nn;constructor(e){this.#Pn=e,this.#Ln=new Map,this.#En=new Map,this.#An=new Map,this.#On=!1,this.#Nn=new Map;for(const t of e)for(const e of t.styles)this.#Nn.set(e,t)}findAvailableCSSVariables(e){const t=this.#Nn.get(e);if(!t)return[];this.ensureInitialized();const n=this.#En.get(t);return n?Array.from(n.keys()):[]}computeCSSVariable(e,t){const n=this.#Nn.get(e);if(!n)return null;this.ensureInitialized();const r=this.#En.get(n),s=this.#An.get(n);return r&&s?this.innerComputeCSSVariable(r,s,t):null}computeValue(e,t){const n=this.#Nn.get(e);if(!n)return null;this.ensureInitialized();const r=this.#En.get(n),s=this.#An.get(n);return r&&s?this.innerComputeValue(r,s,t):null}computeSingleVariableValue(e,t){const n=this.#Nn.get(e);if(!n)return null;this.ensureInitialized();const r=this.#En.get(n),s=this.#An.get(n);if(!r||!s)return null;const i=this.innerComputeValue(r,s,t),{variableName:a}=this.getCSSVariableNameAndFallback(t);return{computedValue:i,fromFallback:null!==a&&!r.has(a)}}getCSSVariableNameAndFallback(e){const t=e.match(/^var\((--[a-zA-Z0-9-_]+)[,]?\s*(.*)\)$/);return{variableName:t&&t[1],fallback:t&&t[2]}}innerComputeCSSVariable(e,t,n){if(!e.has(n))return null;if(t.has(n))return t.get(n)||null;t.set(n,null);const r=e.get(n);if(null==r)return null;const s=this.innerComputeValue(e,t,r);return t.set(n,s),s}innerComputeValue(e,t,r){const s=n.TextUtils.Utils.splitStringByRegexes(r,[p]),i=[];for(const n of s){if(-1===n.regexIndex){i.push(n.value);continue}const{variableName:r,fallback:s}=this.getCSSVariableNameAndFallback(n.value);if(!r)return null;const a=this.innerComputeCSSVariable(e,t,r);if(null===a&&!s)return null;null===a?i.push(s):i.push(a)}return i.map((e=>e?e.trim():"")).join(" ")}styles(){return Array.from(this.#Nn.keys())}propertyState(e){return this.ensureInitialized(),this.#Ln.get(e)||null}reset(){this.#On=!1,this.#Ln.clear(),this.#En.clear(),this.#An.clear()}ensureInitialized(){if(this.#On)return;this.#On=!0;const e=new Map;for(const t of this.#Pn){t.computeActiveProperties();for(const n of t.propertiesState.entries()){const t=n[0];if(n[1]===mt.Overloaded){this.#Ln.set(t,mt.Overloaded);continue}const r=I().canonicalPropertyName(t.name);e.has(r)?this.#Ln.set(t,mt.Overloaded):(e.set(r,t),this.#Ln.set(t,mt.Active))}}for(const t of e.entries()){const n=t[0],r=t[1],s=r.ownerStyle,i=s.longhandProperties(r.name);if(!i.length)continue;let a=!1;for(const t of i){const n=I().canonicalPropertyName(t.name),r=e.get(n);if(r&&r.ownerStyle===s){a=!0;break}}a||(e.delete(n),this.#Ln.set(r,mt.Overloaded))}const t=new Map;for(let e=this.#Pn.length-1;e>=0;--e){const n=this.#Pn[e],r=[];for(const e of n.activeProperties.entries()){const n=e[0],s=e[1];n.startsWith("--")&&(t.set(n,s.value),r.push(n))}const s=new Map(t),i=new Map;this.#En.set(n,s),this.#An.set(n,i);for(const e of r)t.delete(e),t.set(e,this.innerComputeCSSVariable(s,i,e))}}}!function(e){e.Active="Active",e.Overloaded="Overloaded"}(mt||(mt={}));var yt=Object.freeze({__proto__:null,CSSMatchedStyles:ft,get PropertyState(){return mt}});const St={couldNotFindTheOriginalStyle:"Could not find the original style sheet.",thereWasAnErrorRetrievingThe:"There was an error retrieving the source styles."},kt=r.i18n.registerUIStrings("core/sdk/CSSStyleSheetHeader.ts",St),wt=r.i18n.getLocalizedString.bind(void 0,kt);class Ct{#on;id;frameId;sourceURL;hasSourceURL;origin;title;disabled;isInline;isMutable;isConstructed;startLine;startColumn;endLine;endColumn;contentLength;ownerNode;sourceMapURL;#Fn;constructor(e,t){this.#on=e,this.id=t.styleSheetId,this.frameId=t.frameId,this.sourceURL=t.sourceURL,this.hasSourceURL=Boolean(t.hasSourceURL),this.origin=t.origin,this.title=t.title,this.disabled=t.disabled,this.isInline=t.isInline,this.isMutable=t.isMutable,this.isConstructed=t.isConstructed,this.startLine=t.startLine,this.startColumn=t.startColumn,this.endLine=t.endLine,this.endColumn=t.endColumn,this.contentLength=t.length,t.ownerNode&&(this.ownerNode=new On(e.target(),t.ownerNode)),this.sourceMapURL=t.sourceMapURL,this.#Fn=null}originalContentProvider(){if(!this.#Fn){const e=async()=>{const e=await this.#on.originalStyleSheetText(this);return null===e?{content:null,error:wt(St.couldNotFindTheOriginalStyle),isEncoded:!1}:{content:e,isEncoded:!1}};this.#Fn=new n.StaticContentProvider.StaticContentProvider(this.contentURL(),this.contentType(),e)}return this.#Fn}setSourceMapURL(e){this.sourceMapURL=e}cssModel(){return this.#on}isAnonymousInlineStyleSheet(){return!this.resourceURL()&&!this.#on.sourceMapManager().sourceMapForClient(this)}isConstructedByNew(){return this.isConstructed&&0===this.sourceURL.length}resourceURL(){const e=this.isViaInspector()?this.viaInspectorResourceURL():this.sourceURL;return!e&&a.Runtime.experiments.isEnabled(a.Runtime.ExperimentName.STYLES_PANE_CSS_CHANGES)?this.dynamicStyleURL():e}getFrameURLPath(){const t=this.#on.target().model(Xn);if(console.assert(Boolean(t)),!t)return"";const n=t.frameForId(this.frameId);if(!n)return"";console.assert(Boolean(n));const r=new e.ParsedURL.ParsedURL(n.url);let s=r.host+r.folderPathComponents;return s.endsWith("/")||(s+="/"),s}viaInspectorResourceURL(){return`inspector://${this.getFrameURLPath()}inspector-stylesheet`}dynamicStyleURL(){return`stylesheet://${this.getFrameURLPath()}style#${this.id}`}lineNumberInSource(e){return this.startLine+e}columnNumberInSource(e,t){return(e?0:this.startColumn)+t}containsLocation(e,t){const n=e===this.startLine&&t>=this.startColumn||e>this.startLine,r=e<this.endLine||e===this.endLine&&t<=this.endColumn;return n&&r}contentURL(){return this.resourceURL()}contentType(){return e.ResourceType.resourceTypes.Stylesheet}async requestContent(){try{return{content:await this.#on.getStyleSheetText(this.id),isEncoded:!1}}catch(e){return{content:null,error:wt(St.thereWasAnErrorRetrievingThe),isEncoded:!1}}}async searchInContent(e,t,r){const s=await this.requestContent();return null===s.content?[]:n.TextUtils.performSearchInContent(s.content,e,t,r)}isViaInspector(){return"inspector"===this.origin}createPageResourceLoadInitiator(){return{target:null,frameId:this.frameId,initiatorUrl:this.hasSourceURL?t.DevToolsPath.EmptyUrlString:this.sourceURL}}}var Tt=Object.freeze({__proto__:null,CSSStyleSheetHeader:Ct});let Rt=null;class Mt extends e.ObjectWrapper.ObjectWrapper{#Dn;#Bn;#Un;#Hn;#qn;#_n=new Map;constructor(){super(),this.#Dn=new WeakMap,G.instance().observeModels(Xn,this),this.#Bn=new Map,this.#Un=new Map,this.#Hn=null,this.#qn=new Map}static instance({forceNew:e}={forceNew:!1}){return Rt&&!e||(Rt=new Mt),Rt}modelAdded(e){const t=e.addEventListener(Qn.FrameAdded,this.frameAdded,this),n=e.addEventListener(Qn.FrameDetached,this.frameDetached,this),r=e.addEventListener(Qn.FrameNavigated,this.frameNavigated,this),s=e.addEventListener(Qn.ResourceAdded,this.resourceAdded,this);this.#Dn.set(e,[t,n,r,s]),this.#Un.set(e.target().id(),new Set)}modelRemoved(t){const n=this.#Dn.get(t);n&&e.EventTarget.removeEventListeners(n);const r=this.#Un.get(t.target().id());if(r)for(const e of r)this.decreaseOrRemoveFrame(e);this.#Un.delete(t.target().id())}frameAdded(e){const t=e.data,n=this.#Bn.get(t.id);if(n)t.setCreationStackTrace(n.frame.getCreationStackTraceData()),t.setAdScriptId(n.frame.getAdScriptId()),t.setDebuggerId(n.frame.getDebuggerId()),this.#Bn.set(t.id,{frame:t,count:n.count+1});else{const e=this.#qn.get(t.id);e?.creationStackTrace&&e?.creationStackTraceTarget&&t.setCreationStackTrace({creationStackTrace:e.creationStackTrace,creationStackTraceTarget:e.creationStackTraceTarget}),e?.adScriptId&&t.setAdScriptId(e.adScriptId),e?.debuggerId&&t.setDebuggerId(e.debuggerId),this.#Bn.set(t.id,{frame:t,count:1}),this.#qn.delete(t.id)}this.resetTopFrame();const r=this.#Un.get(t.resourceTreeModel().target().id());r&&r.add(t.id),this.dispatchEventToListeners(xt.FrameAddedToTarget,{frame:t}),this.resolveAwaitedFrame(t)}frameDetached(e){const{frame:t,isSwap:n}=e.data;if(this.decreaseOrRemoveFrame(t.id),n&&!this.#Bn.get(t.id)){const e=t.getCreationStackTraceData(),n=t.getAdScriptId(),r=t.getDebuggerId(),s={...e.creationStackTrace&&{creationStackTrace:e.creationStackTrace},...e.creationStackTrace&&{creationStackTraceTarget:e.creationStackTraceTarget},...n&&{adScriptId:n},...r&&{debuggerId:r}};this.#qn.set(t.id,s)}const r=this.#Un.get(t.resourceTreeModel().target().id());r&&r.delete(t.id)}frameNavigated(e){const t=e.data;this.dispatchEventToListeners(xt.FrameNavigated,{frame:t}),t.isTopFrame()&&this.dispatchEventToListeners(xt.TopFrameNavigated,{frame:t})}resourceAdded(e){this.dispatchEventToListeners(xt.ResourceAdded,{resource:e.data})}decreaseOrRemoveFrame(e){const t=this.#Bn.get(e);t&&(1===t.count?(this.#Bn.delete(e),this.resetTopFrame(),this.dispatchEventToListeners(xt.FrameRemoved,{frameId:e})):t.count--)}resetTopFrame(){const e=this.getAllFrames().filter((e=>e.isTopFrame()));this.#Hn=e.length>0?e[0]:null}getFrame(e){const t=this.#Bn.get(e);return t?t.frame:null}getAllFrames(){return Array.from(this.#Bn.values(),(e=>e.frame))}getTopFrame(){return this.#Hn}async getOrWaitForFrame(e,t){const n=this.getFrame(e);return!n||t&&t===n.resourceTreeModel().target()?new Promise((n=>{const r=this.#_n.get(e);r?r.push({notInTarget:t,resolve:n}):this.#_n.set(e,[{notInTarget:t,resolve:n}])})):n}resolveAwaitedFrame(e){const t=this.#_n.get(e.id);if(!t)return;const n=t.filter((({notInTarget:t,resolve:n})=>!(!t||t!==e.resourceTreeModel().target())||(n(e),!1)));n.length>0?this.#_n.set(e.id,n):this.#_n.delete(e.id)}}var xt;!function(e){e.FrameAddedToTarget="FrameAddedToTarget",e.FrameNavigated="FrameNavigated",e.FrameRemoved="FrameRemoved",e.ResourceAdded="ResourceAdded",e.TopFrameNavigated="TopFrameNavigated"}(xt||(xt={}));var Pt=Object.freeze({__proto__:null,FrameManager:Mt,get Events(){return xt}});class Lt extends l{constructor(e){super(e)}async read(t,n,r){const s=await this.target().ioAgent().invoke_read({handle:t,offset:r,size:n});if(s.getError())throw new Error(s.getError());return s.eof?null:s.base64Encoded?e.Base64.decode(s.data):s.data}async close(e){(await this.target().ioAgent().invoke_close({handle:e})).getError()&&console.error("Could not close stream.")}async resolveBlob(e){const t=e instanceof Pe?e.objectId:e;if(!t)throw new Error("Remote object has undefined objectId");const n=await this.target().ioAgent().invoke_resolveBlob({objectId:t});if(n.getError())throw new Error(n.getError());return`blob:${n.uuid}`}async readToString(e){const t=[],n=new TextDecoder;for(;;){const r=await this.read(e,1048576);if(null===r){t.push(n.decode());break}r instanceof ArrayBuffer?t.push(n.decode(r,{stream:!0})):t.push(r)}return t.join("")}}l.register(Lt,{capabilities:_.IO,autostart:!0});var Et=Object.freeze({__proto__:null,IOModel:Lt});const At={loadCanceledDueToReloadOf:"Load canceled due to reload of inspected page",loadCanceledDueToLoadTimeout:"Load canceled due to load timeout"},Ot=r.i18n.registerUIStrings("core/sdk/PageResourceLoader.ts",At),Nt=r.i18n.getLocalizedString.bind(void 0,Ot);let Ft=null;class Dt extends e.ObjectWrapper.ObjectWrapper{#zn;#jn;#Wn;#Vn;#Gn;#Kn;constructor(e,t,n){super(),this.#zn=0,this.#jn=t,this.#Wn=new Map,this.#Vn=[],G.instance().addModelListener(Xn,Qn.MainFrameNavigated,this.onMainFrameNavigated,this),this.#Gn=e,this.#Kn=n}static instance({forceNew:e,loadOverride:t,maxConcurrentLoads:n,loadTimeout:r}={forceNew:!1,loadOverride:null,maxConcurrentLoads:500,loadTimeout:3e4}){return Ft&&!e||(Ft=new Dt(t,n,r)),Ft}onMainFrameNavigated(e){if(e.data.isTopFrame()){for(const{reject:e}of this.#Vn)e(new Error(Nt(At.loadCanceledDueToReloadOf)));this.#Vn=[],this.#Wn.clear(),this.dispatchEventToListeners(Ut.Update)}}getResourcesLoaded(){return this.#Wn}getNumberOfResources(){return{loading:this.#zn,queued:this.#Vn.length,resources:this.#Wn.size}}async acquireLoadSlot(){if(this.#zn++,this.#zn>this.#jn){const e={resolve:()=>{},reject:()=>{}},t=new Promise(((t,n)=>{e.resolve=t,e.reject=n}));this.#Vn.push(e),await t}}releaseLoadSlot(){this.#zn--;const e=this.#Vn.shift();e&&e.resolve()}static async withTimeout(e,t){const n=new Promise(((e,n)=>window.setTimeout(n,t,new Error(Nt(At.loadCanceledDueToLoadTimeout)))));return Promise.race([e,n])}static makeKey(e,t){if(t.frameId)return`${e}-${t.frameId}`;if(t.target)return`${e}-${t.target.id()}`;throw new Error("Invalid initiator")}async loadResource(e,t){const n=Dt.makeKey(e,t),r={success:null,size:null,errorMessage:void 0,url:e,initiator:t};this.#Wn.set(n,r),this.dispatchEventToListeners(Ut.Update);try{await this.acquireLoadSlot();const n=this.dispatchLoad(e,t),s=await Dt.withTimeout(n,this.#Kn);if(r.errorMessage=s.errorDescription.message,r.success=s.success,s.success)return r.size=s.content.length,{content:s.content};throw new Error(s.errorDescription.message)}catch(e){throw void 0===r.errorMessage&&(r.errorMessage=e.message),null===r.success&&(r.success=!1),e}finally{this.releaseLoadSlot(),this.dispatchEventToListeners(Ut.Update)}}async dispatchLoad(t,n){let r=null;if(this.#Gn)return this.#Gn(t);const i=new e.ParsedURL.ParsedURL(t),a=Bt().get()&&i&&"file"!==i.scheme&&"data"!==i.scheme&&"devtools"!==i.scheme;if(s.userMetrics.developerResourceScheme(this.getDeveloperResourceScheme(i)),a){try{if(n.target){s.userMetrics.developerResourceLoaded(s.UserMetrics.DeveloperResourceLoaded.LoadThroughPageViaTarget);return await this.loadFromTarget(n.target,n.frameId,t)}const e=Mt.instance().getFrame(n.frameId);if(e){s.userMetrics.developerResourceLoaded(s.UserMetrics.DeveloperResourceLoaded.LoadThroughPageViaFrame);return await this.loadFromTarget(e.resourceTreeModel().target(),n.frameId,t)}}catch(e){e instanceof Error&&(s.userMetrics.developerResourceLoaded(s.UserMetrics.DeveloperResourceLoaded.LoadThroughPageFailure),r=e.message)}s.userMetrics.developerResourceLoaded(s.UserMetrics.DeveloperResourceLoaded.LoadThroughPageFallback),console.warn("Fallback triggered",t,n)}else{const e=Bt().get()?s.UserMetrics.DeveloperResourceLoaded.FallbackPerProtocol:s.UserMetrics.DeveloperResourceLoaded.FallbackPerOverride;s.userMetrics.developerResourceLoaded(e)}const o=await he.instance().loadResource(t);return a&&!o.success&&s.userMetrics.developerResourceLoaded(s.UserMetrics.DeveloperResourceLoaded.FallbackFailure),r&&(o.errorDescription.message=`Fetch through target failed: ${r}; Fallback: ${o.errorDescription.message}`),o}getDeveloperResourceScheme(e){if(!e||""===e.scheme)return s.UserMetrics.DeveloperResourceScheme.SchemeUnknown;const t="localhost"===e.host||e.host.endsWith(".localhost");switch(e.scheme){case"file":return s.UserMetrics.DeveloperResourceScheme.SchemeFile;case"data":return s.UserMetrics.DeveloperResourceScheme.SchemeData;case"blob":return s.UserMetrics.DeveloperResourceScheme.SchemeBlob;case"http":return t?s.UserMetrics.DeveloperResourceScheme.SchemeHttpLocalhost:s.UserMetrics.DeveloperResourceScheme.SchemeHttp;case"https":return t?s.UserMetrics.DeveloperResourceScheme.SchemeHttpsLocalhost:s.UserMetrics.DeveloperResourceScheme.SchemeHttps}return s.UserMetrics.DeveloperResourceScheme.SchemeOther}async loadFromTarget(e,t,n){const r=e.model(te),i=e.model(Lt),a=await r.loadNetworkResource(t,n,{disableCache:!0,includeCredentials:!0});try{const e=a.stream?await i.readToString(a.stream):"";return{success:a.success,content:e,errorDescription:{statusCode:a.httpStatusCode||0,netError:a.netError,netErrorName:a.netErrorName,message:s.ResourceLoader.netErrorToMessage(a.netError,a.httpStatusCode,a.netErrorName)||"",urlValid:void 0}}}finally{a.stream&&i.close(a.stream)}}}function Bt(){return e.Settings.Settings.instance().createSetting("loadThroughTarget",!0)}var Ut;(Ut||(Ut={})).Update="Update";var Ht=Object.freeze({__proto__:null,PageResourceLoader:Dt,getLoadThroughTargetSetting:Bt,get Events(){return Ut}});const qt={couldNotLoadContentForSS:"Could not load content for {PH1} ({PH2})"},_t=r.i18n.registerUIStrings("core/sdk/CompilerSourceMappingContentProvider.ts",qt),zt=r.i18n.getLocalizedString.bind(void 0,_t);class jt{#Qn;#$n;#Xn;constructor(e,t,n){this.#Qn=e,this.#$n=t,this.#Xn=n}contentURL(){return this.#Qn}contentType(){return this.#$n}async requestContent(){try{const{content:e}=await Dt.instance().loadResource(this.#Qn,this.#Xn);return{content:e,isEncoded:!1}}catch(e){const t=zt(qt.couldNotLoadContentForSS,{PH1:this.#Qn,PH2:e.message});return console.error(t),{content:null,error:t,isEncoded:!1}}}async searchInContent(e,t,r){const{content:s}=await this.requestContent();return"string"!=typeof s?[]:n.TextUtils.performSearchInContent(s,e,t,r)}}var Wt=Object.freeze({__proto__:null,CompilerSourceMappingContentProvider:jt});const Vt={couldNotLoadContentForSS:"Could not load content for {PH1}: {PH2}",couldNotParseContentForSS:"Could not parse content for {PH1}: {PH2}"},Gt=r.i18n.registerUIStrings("core/sdk/SourceMap.ts",Vt),Kt=r.i18n.getLocalizedString.bind(void 0,Gt);class Qt{lineNumber;columnNumber;sourceURL;sourceLineNumber;sourceColumnNumber;name;constructor(e,t,n,r,s,i){this.lineNumber=e,this.columnNumber=t,this.sourceURL=n,this.sourceLineNumber=r,this.sourceColumnNumber=s,this.name=i}static compare(e,t){return e.lineNumber!==t.lineNumber?e.lineNumber-t.lineNumber:e.columnNumber-t.columnNumber}}const $t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Xt=new Map;for(let e=0;e<$t.length;++e)Xt.set($t.charAt(e),e);const Jt=new WeakMap;class Yt{#Xn;#Jn;#Yn;#Zn;#er;#tr;#nr;constructor(t,n,r,s){if(this.#Xn=s,this.#Jn=r,this.#Yn=t,this.#Zn=n,this.#er=n.startsWith("data:")?t:n,this.#tr=null,this.#nr=new Map,this.#Jn.sections){Boolean(this.#Jn.sections.find((e=>Boolean(e.url))))&&e.Console.Console.instance().warn(`SourceMap "${n}" contains unsupported "URL" field in one of its sections.`)}this.eachSection(this.parseSources.bind(this))}static async load(e,t,n){let r;try{const{content:t}=await Dt.instance().loadResource(e,n);r=t,")]}"===t.slice(0,3)&&(r=t.substring(t.indexOf("\n")))}catch(t){throw new Error(Kt(Vt.couldNotLoadContentForSS,{PH1:e,PH2:t.message}))}try{const s=JSON.parse(r);return new Yt(t,e,s,n)}catch(t){throw new Error(Kt(Vt.couldNotParseContentForSS,{PH1:e,PH2:t.message}))}}compiledURL(){return this.#Yn}url(){return this.#Zn}sourceURLs(){return[...this.#nr.keys()]}sourceContentProvider(e,t){const r=this.#nr.get(e);return r&&r.content?n.StaticContentProvider.StaticContentProvider.fromString(e,t,r.content):new jt(e,t,this.#Xn)}embeddedContentByURL(e){const t=this.#nr.get(e);return t?t.content:null}findEntry(e,n){const r=this.mappings(),s=t.ArrayUtilities.upperBound(r,void 0,((t,r)=>e-r.lineNumber||n-r.columnNumber));return s?r[s-1]:null}findEntryRanges(e,r){const s=this.mappings(),i=t.ArrayUtilities.upperBound(s,void 0,((t,n)=>e-n.lineNumber||r-n.columnNumber));if(!i)return null;const a=s[i].sourceURL;if(!a)return null;const o=i<s.length?s[i].lineNumber:2**31-1,l=i<s.length?s[i].columnNumber:2**31-1,d=new n.TextRange.TextRange(s[i-1].lineNumber,s[i-1].columnNumber,o,l),c=this.reversedMappings(a),h=s[i-1].sourceLineNumber,u=s[i-1].sourceColumnNumber,g=t.ArrayUtilities.upperBound(c,void 0,((e,t)=>h-s[t].sourceLineNumber||u-s[t].sourceColumnNumber));if(!g)return null;const p=g<c.length?s[c[g]].sourceLineNumber:2**31-1,m=g<c.length?s[c[g]].sourceColumnNumber:2**31-1;return{range:d,sourceRange:new n.TextRange.TextRange(h,u,p,m),sourceURL:a}}sourceLineMapping(e,n,r){const s=this.mappings(),i=this.reversedMappings(e),a=t.ArrayUtilities.lowerBound(i,n,c),o=t.ArrayUtilities.upperBound(i,n,c);if(a>=i.length||s[i[a]].sourceLineNumber!==n)return null;const l=i.slice(a,o);if(!l.length)return null;const d=t.ArrayUtilities.lowerBound(l,r,((e,t)=>e-s[t].sourceColumnNumber));return d>=l.length?s[l[l.length-1]]:s[l[d]];function c(e,t){return e-s[t].sourceLineNumber}}findReverseIndices(e,n,r){const s=this.mappings(),i=this.reversedMappings(e),a=t.ArrayUtilities.upperBound(i,void 0,((e,t)=>n-s[t].sourceLineNumber||r-s[t].sourceColumnNumber));let o=a;for(;o>0&&s[i[o-1]].sourceLineNumber===s[i[a-1]].sourceLineNumber&&s[i[o-1]].sourceColumnNumber===s[i[a-1]].sourceColumnNumber;)--o;return i.slice(o,a)}findReverseEntries(e,t,n){const r=this.mappings();return this.findReverseIndices(e,t,n).map((e=>r[e]))}findReverseRanges(e,t,r){const s=this.mappings(),i=this.findReverseIndices(e,t,r),a=[];for(let e=0;e<i.length;++e){const t=i[e];let r=t+1;for(;e+1<i.length&&r===i[e+1];)++r,++e;const o=s[t].lineNumber,l=s[t].columnNumber,d=r<s.length?s[r].lineNumber:2**31-1,c=r<s.length?s[r].columnNumber:2**31-1;a.push(new n.TextRange.TextRange(o,l,d,c))}return a}mappings(){return this.#rr(),this.#tr??[]}reversedMappings(e){return this.#rr(),this.#nr.get(e)?.reverseMappings??[]}#rr(){null===this.#tr&&(this.#tr=[],this.eachSection(this.parseMap.bind(this)),this.#sr(this.#tr),this.#Jn=null)}#sr(e){const t=new Map;for(let n=0;n<e.length;n++){const r=e[n].sourceURL;if(!r)continue;let s=t.get(r);s||(s=[],t.set(r,s)),s.push(n)}for(const[e,r]of t.entries()){const t=this.#nr.get(e);t&&(r.sort(n),t.reverseMappings=r)}function n(t,n){const r=e[t],s=e[n];return r.sourceLineNumber-s.sourceLineNumber||r.sourceColumnNumber-s.sourceColumnNumber||r.lineNumber-s.lineNumber||r.columnNumber-s.columnNumber}}eachSection(e){if(this.#Jn)if(this.#Jn.sections)for(const t of this.#Jn.sections)e(t.map,t.offset.line,t.offset.column);else e(this.#Jn,0,0)}parseSources(n){const r=[],s=n.sourceRoot||t.DevToolsPath.EmptyUrlString,i=new Set(n.x_google_ignoreList);for(let t=0;t<n.sources.length;++t){let a=n.sources[t];e.ParsedURL.ParsedURL.isRelativeURL(a)&&(a=s&&!s.endsWith("/")&&a&&!a.startsWith("/")?e.ParsedURL.ParsedURL.concatenate(s,"/",a):e.ParsedURL.ParsedURL.concatenate(s,a));let o=e.ParsedURL.ParsedURL.completeURL(this.#er,a)||a;const l=n.sourcesContent&&n.sourcesContent[t];if(o===this.#Yn&&l&&(o=e.ParsedURL.ParsedURL.concatenate(o,"? [sm]")),r.push(o),!this.#nr.has(o)){const e=l??null,n=i.has(t);this.#nr.set(o,new Yt.SourceInfo(e,n))}}Jt.set(n,r)}parseMap(e,t,n){let r=0,s=0,i=0,a=0;const o=Jt.get(e),l=e.names||[],d=new Yt.StringCharIterator(e.mappings);let c=o&&o[r];for(;;){if(","===d.peek())d.next();else{for(;";"===d.peek();)t+=1,n=0,d.next();if(!d.hasNext())break}if(n+=this.decodeVLQ(d),!d.hasNext()||this.isSeparator(d.peek())){this.mappings().push(new Qt(t,n));continue}const e=this.decodeVLQ(d);e&&(r+=e,o&&(c=o[r])),s+=this.decodeVLQ(d),i+=this.decodeVLQ(d),d.hasNext()&&!this.isSeparator(d.peek())?(a+=this.decodeVLQ(d),this.mappings().push(new Qt(t,n,c,s,i,l[a]))):this.mappings().push(new Qt(t,n,c,s,i))}this.mappings().sort(Qt.compare)}isSeparator(e){return","===e||";"===e}decodeVLQ(e){let t=0,n=0,r=Yt._VLQ_CONTINUATION_MASK;for(;r&Yt._VLQ_CONTINUATION_MASK;)r=Xt.get(e.next())||0,t+=(r&Yt._VLQ_BASE_MASK)<<n,n+=Yt._VLQ_BASE_SHIFT;const s=1&t;return t>>=1,s?-t:t}reverseMapTextRange(e,r){function s(e,t){return e.lineNumber!==a[t].sourceLineNumber?e.lineNumber-a[t].sourceLineNumber:e.columnNumber-a[t].sourceColumnNumber}const i=this.reversedMappings(e),a=this.mappings();if(!i.length)return null;const o=t.ArrayUtilities.lowerBound(i,{lineNumber:r.startLine,columnNumber:r.startColumn},s),l=t.ArrayUtilities.upperBound(i,{lineNumber:r.endLine,columnNumber:r.endColumn},s);if(l>=i.length)return null;const d=a[i[o]],c=a[i[l]];return new n.TextRange.TextRange(d.lineNumber,d.columnNumber,c.lineNumber,c.columnNumber)}mapsOrigin(){const e=this.mappings();if(e.length>0){const t=e[0];return 0===t?.lineNumber||0===t.columnNumber}return!1}hasIgnoreListHint(e){return this.#nr.get(e)?.ignoreListHint??!1}findRanges(e,t){const r=this.mappings(),s=[];if(!r.length)return[];let i=null;0===r[0].lineNumber&&0===r[0].columnNumber||!t?.isStartMatching||(i=n.TextRange.TextRange.createUnboundedFromLocation(0,0),s.push(i));for(const{sourceURL:t,lineNumber:a,columnNumber:o}of r){const r=t&&e(t);i||!r?i&&!r&&(i.endLine=a,i.endColumn=o,i=null):(i=n.TextRange.TextRange.createUnboundedFromLocation(a,o),s.push(i))}return s}}!function(e){e._VLQ_BASE_SHIFT=5,e._VLQ_BASE_MASK=31,e._VLQ_CONTINUATION_MASK=32;e.StringCharIterator=class{string;position;constructor(e){this.string=e,this.position=0}next(){return this.string.charAt(this.position++)}peek(){return this.string.charAt(this.position)}hasNext(){return this.position<this.string.length}};e.SourceInfo=class{content;ignoreListHint;reverseMappings=null;constructor(e,t){this.content=e,this.ignoreListHint=t}}}(Yt||(Yt={}));var Zt=Object.freeze({__proto__:null,SourceMapV3:class{version;file;sources;sections;mappings;sourceRoot;names;sourcesContent;x_google_ignoreList;constructor(){}},Section:class{map;offset;url;constructor(){}},Offset:class{line;column;constructor(){}},SourceMapEntry:Qt,get TextSourceMap(){return Yt}});const en={devtoolsFailedToLoadSourcemapS:"DevTools failed to load source map: {PH1}"},tn=r.i18n.registerUIStrings("core/sdk/SourceMapManager.ts",en),nn=r.i18n.getLocalizedString.bind(void 0,tn);class rn extends e.ObjectWrapper.ObjectWrapper{#ir;#ar;#or;#lr;#dr;#cr;#hr;#ur;constructor(e){super(),this.#ir=e,this.#ar=!0,this.#or=new Map,this.#lr=new Map,this.#dr=new Map,this.#cr=new Map,this.#hr=new t.MapUtilities.Multimap,this.#ur=new t.MapUtilities.Multimap,G.instance().addEventListener(K.InspectedURLChanged,this.inspectedURLChanged,this)}setEnabled(e){if(e===this.#ar)return;this.#ar=e;const t=[...this.#dr.keys()];for(const e of t){const t=this.#or.get(e),n=this.#lr.get(e);this.detachSourceMap(e),this.attachSourceMap(e,t,n)}}getBaseUrl(){let e=this.#ir;for(;e&&e.type()!==q.Frame;)e=e.parentTarget();return e?.inspectedURL()??t.DevToolsPath.EmptyUrlString}inspectedURLChanged(e){if(e.data!==this.#ir)return;const t=new Map(this.#dr);for(const[e,n]of t){const t=this.#or.get(e),r=this.#lr.get(e);if(void 0===t||void 0===r)continue;const s=this.resolveRelativeURLs(t,r);null!==s&&n!==s.sourceMapId&&(this.detachSourceMap(e),this.attachSourceMap(e,t,r))}}sourceMapForClient(e){const t=this.#dr.get(e);return t&&this.#cr.get(t)||null}sourceMapForClientPromise(e){const t=this.#dr.get(e);if(!t)return Promise.resolve(null);const n=this.sourceMapForClient(e);return n?Promise.resolve(n):this.#hr.has(t)?new Promise((t=>{const n=this.addEventListener(sn.SourceMapAttached,(s=>{s.data.client===e&&(this.removeEventListener(sn.SourceMapAttached,n.listener),this.removeEventListener(sn.SourceMapFailedToAttach,r.listener),t(s.data.sourceMap))})),r=this.addEventListener(sn.SourceMapFailedToAttach,(s=>{s.data.client===e&&(this.removeEventListener(sn.SourceMapAttached,n.listener),this.removeEventListener(sn.SourceMapFailedToAttach,r.listener),t(null))}))})):Promise.resolve(null)}clientsForSourceMap(e){const t=this.getSourceMapId(e.compiledURL(),e.url());return this.#ur.has(t)?[...this.#ur.get(t)]:[...this.#hr.get(t)]}getSourceMapId(e,t){return`${e}:${t}`}resolveRelativeURLs(t,n){const r=e.ParsedURL.ParsedURL.completeURL(this.getBaseUrl(),t);if(!r)return null;const s=e.ParsedURL.ParsedURL.completeURL(r,n);return s?{sourceURL:r,sourceMapURL:s,sourceMapId:this.getSourceMapId(r,s)}:null}attachSourceMap(t,n,r){if(void 0===n||!r)return;console.assert(!this.#dr.has(t),"SourceMap is already attached to client");const s=this.resolveRelativeURLs(n,r);if(!s)return;this.#or.set(t,n),this.#lr.set(t,r);const{sourceURL:i,sourceMapURL:a,sourceMapId:o}=s;function l(e,t){this.#ur.set(e,t);const n=this.#cr.get(e);this.dispatchEventToListeners(sn.SourceMapAttached,{client:t,sourceMap:n})}this.#dr.set(t,o),this.#ar&&(this.dispatchEventToListeners(sn.SourceMapWillAttach,{client:t}),this.#cr.has(o)?l.call(this,o,t):(this.#hr.has(o)||Yt.load(a,i,t.createPageResourceLoadInitiator()).catch((t=>(e.Console.Console.instance().warn(nn(en.devtoolsFailedToLoadSourcemapS,{PH1:t.message})),null))).then(function(e,t){this.sourceMapLoadedForTest();const n=this.#hr.get(e);if(this.#hr.deleteAll(e),!n.size)return;if(!t){for(const e of n)this.dispatchEventToListeners(sn.SourceMapFailedToAttach,{client:e});return}this.#cr.set(e,t);for(const t of n)l.call(this,e,t)}.bind(this,o)),this.#hr.set(o,t)))}detachSourceMap(e){const t=this.#dr.get(e);if(this.#or.delete(e),this.#lr.delete(e),this.#dr.delete(e),!t)return;if(!this.#ur.hasValue(t,e))return void(this.#hr.delete(t,e)&&this.dispatchEventToListeners(sn.SourceMapFailedToAttach,{client:e}));this.#ur.delete(t,e);const n=this.#cr.get(t);n&&(this.#ur.has(t)||this.#cr.delete(t),this.dispatchEventToListeners(sn.SourceMapDetached,{client:e,sourceMap:n}))}sourceMapLoadedForTest(){}dispose(){G.instance().removeEventListener(K.InspectedURLChanged,this.inspectedURLChanged,this)}}var sn;!function(e){e.SourceMapWillAttach="SourceMapWillAttach",e.SourceMapFailedToAttach="SourceMapFailedToAttach",e.SourceMapAttached="SourceMapAttached",e.SourceMapDetached="SourceMapDetached"}(sn||(sn={}));var an,on=Object.freeze({__proto__:null,SourceMapManager:rn,get Events(){return sn}});class ln extends l{agent;#gr;#pr;#mr;#br;#fr;#Ir;#vr;#yr;#Sr;#kr;#wr;#Cr;#Tr;#ar;#Rr;#Mr;constructor(t){super(t),this.#ar=!1,this.#kr=null,this.#wr=null,this.#gr=t.model(Dn),this.#fr=new rn(t),this.agent=t.cssAgent(),this.#Ir=new gn(this),this.#br=t.model(Xn),this.#br&&this.#br.addEventListener(Qn.MainFrameNavigated,this.onMainFrameNavigated,this),t.registerCSSDispatcher(new un(this)),t.suspended()||this.enable(),this.#Sr=new Map,this.#yr=new Map,this.#mr=new Map,this.#Rr=!1,this.#pr=new Map,this.#Cr=null,this.#Tr=!1,this.#Mr=!1,this.#vr=new e.Throttler.Throttler(bn),this.#fr.setEnabled(e.Settings.Settings.instance().moduleSetting("cssSourceMapsEnabled").get()),e.Settings.Settings.instance().moduleSetting("cssSourceMapsEnabled").addChangeListener((e=>this.#fr.setEnabled(e.data)))}headersForSourceURL(e){const t=[];for(const n of this.getStyleSheetIdsForURL(e)){const e=this.styleSheetHeaderForId(n);e&&t.push(e)}return t}createRawLocationsByURL(e,n,r=0){const s=this.headersForSourceURL(e);s.sort((function(e,t){return e.startLine-t.startLine||e.startColumn-t.startColumn||e.id.localeCompare(t.id)}));const i=t.ArrayUtilities.upperBound(s,void 0,((e,t)=>n-t.startLine||r-t.startColumn));if(!i)return[];const a=[],o=s[i-1];for(let e=i-1;e>=0&&s[e].startLine===o.startLine&&s[e].startColumn===o.startColumn;--e)s[e].containsLocation(n,r)&&a.push(new hn(s[e],n,r));return a}sourceMapManager(){return this.#fr}static readableLayerName(e){return e||"<anonymous>"}static trimSourceURL(e){let t=e.lastIndexOf("/*# sourceURL=");if(-1===t&&(t=e.lastIndexOf("/*@ sourceURL="),-1===t))return e;const n=e.lastIndexOf("\n",t);if(-1===n)return e;const r=e.substr(n+1).split("\n",1)[0];return-1===r.search(/[\040\t]*\/\*[#@] sourceURL=[\040\t]*([^\s]*)[\040\t]*\*\/[\040\t]*$/)?e:e.substr(0,n)+e.substr(n+r.length+1)}domModel(){return this.#gr}async setStyleText(e,t,n,r){try{await this.ensureOriginalStyleSheetText(e);const{styles:s}=await this.agent.invoke_setStyleTexts({edits:[{styleSheetId:e,range:t.serializeToObject(),text:n}]});if(!s||1!==s.length)return!1;this.#gr.markUndoableState(!r);const i=new cn(e,t,n,s[0]);return this.fireStyleSheetChanged(e,i),!0}catch(e){return!1}}async setSelectorText(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{selectorList:r}=await this.agent.invoke_setRuleSelector({styleSheetId:e,range:t,selector:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return!1}}async setKeyframeKey(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{keyText:r}=await this.agent.invoke_setKeyframeKey({styleSheetId:e,range:t,keyText:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return!1}}startCoverage(){return this.#Rr=!0,this.agent.invoke_startRuleUsageTracking()}async takeCoverageDelta(){const e=await this.agent.invoke_takeCoverageDelta();return{timestamp:e&&e.timestamp||0,coverage:e&&e.coverage||[]}}setLocalFontsEnabled(e){return this.agent.invoke_setLocalFontsEnabled({enabled:e})}async stopCoverage(){this.#Rr=!1,await this.agent.invoke_stopRuleUsageTracking()}async getMediaQueries(){const{medias:e}=await this.agent.invoke_getMediaQueries();return e?Ze.parseMediaArrayPayload(this,e):[]}async getRootLayer(e){const{rootLayer:t}=await this.agent.invoke_getLayersForNode({nodeId:e});return t}isEnabled(){return this.#ar}async enable(){await this.agent.invoke_enable(),this.#ar=!0,this.#Rr&&await this.startCoverage(),this.dispatchEventToListeners(an.ModelWasEnabled)}async getMatchedStyles(e){const t=await this.agent.invoke_getMatchedStylesForNode({nodeId:e});if(t.getError())return null;const n=this.#gr.nodeForId(e);return n?new ft(this,n,t.inlineStyle||null,t.attributesStyle||null,t.matchedCSSRules||[],t.pseudoElements||[],t.inherited||[],t.inheritedPseudoElements||[],t.cssKeyframesRules||[],t.parentLayoutNodeId):null}async getClassNames(e){const{classNames:t}=await this.agent.invoke_collectClassNames({styleSheetId:e});return t||[]}async getComputedStyle(e){return this.isEnabled()||await this.enable(),this.#Ir.computedStylePromise(e)}async getBackgroundColors(e){const t=await this.agent.invoke_getBackgroundColors({nodeId:e});return t.getError()?null:{backgroundColors:t.backgroundColors||null,computedFontSize:t.computedFontSize||"",computedFontWeight:t.computedFontWeight||""}}async getPlatformFonts(e){const{fonts:t}=await this.agent.invoke_getPlatformFontsForNode({nodeId:e});return t}allStyleSheets(){const e=[...this.#Sr.values()];return e.sort((function(e,t){return e.sourceURL<t.sourceURL?-1:e.sourceURL>t.sourceURL?1:e.startLine-t.startLine||e.startColumn-t.startColumn})),e}async getInlineStyles(e){const t=await this.agent.invoke_getInlineStylesForNode({nodeId:e});if(t.getError()||!t.inlineStyle)return null;const n=new lt(this,null,t.inlineStyle,at.Inline),r=t.attributesStyle?new lt(this,null,t.attributesStyle,at.Attributes):null;return new pn(n,r)}forcePseudoState(e,n,r){const s=e.marker(dn)||[],i=s.includes(n);if(r){if(i)return!1;s.push(n),e.setMarker(dn,s)}else{if(!i)return!1;t.ArrayUtilities.removeElement(s,n),s.length?e.setMarker(dn,s):e.setMarker(dn,null)}return void 0!==e.id&&(this.agent.invoke_forcePseudoState({nodeId:e.id,forcedPseudoClasses:s}),this.dispatchEventToListeners(an.PseudoStateForced,{node:e,pseudoClass:n,enable:r}),!0)}pseudoState(e){return e.marker(dn)||[]}async setMediaText(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{media:r}=await this.agent.invoke_setMediaText({styleSheetId:e,range:t,text:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return!1}}async setContainerQueryText(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{containerQuery:r}=await this.agent.invoke_setContainerQueryText({styleSheetId:e,range:t,text:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return!1}}async setSupportsText(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{supports:r}=await this.agent.invoke_setSupportsText({styleSheetId:e,range:t,text:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return!1}}async setScopeText(e,t,n){s.userMetrics.actionTaken(s.UserMetrics.Action.StyleRuleEdited);try{await this.ensureOriginalStyleSheetText(e);const{scope:r}=await this.agent.invoke_setScopeText({styleSheetId:e,range:t,text:n});if(!r)return!1;this.#gr.markUndoableState();const s=new cn(e,t,n,r);return this.fireStyleSheetChanged(e,s),!0}catch(e){return console.error(e),!1}}async addRule(e,t,n){try{await this.ensureOriginalStyleSheetText(e);const{rule:r}=await this.agent.invoke_addRule({styleSheetId:e,ruleText:t,location:n});if(!r)return null;this.#gr.markUndoableState();const s=new cn(e,n,t,r);return this.fireStyleSheetChanged(e,s),new ut(this,r)}catch(e){return null}}async requestViaInspectorStylesheet(e){const t=e.frameId()||(this.#br&&this.#br.mainFrame?this.#br.mainFrame.id:null),n=[...this.#Sr.values()].find((e=>e.frameId===t&&e.isViaInspector()));if(n)return n;if(!t)return null;try{const{styleSheetId:e}=await this.agent.invoke_createStyleSheet({frameId:t});return e&&this.#Sr.get(e)||null}catch(e){return null}}mediaQueryResultChanged(){this.dispatchEventToListeners(an.MediaQueryResultChanged)}fontsUpdated(e){e&&this.#pr.set(e.src,new qe(e)),this.dispatchEventToListeners(an.FontsUpdated)}fontFaces(){return[...this.#pr.values()]}fontFaceForSource(e){return this.#pr.get(e)}styleSheetHeaderForId(e){return this.#Sr.get(e)||null}styleSheetHeaders(){return[...this.#Sr.values()]}fireStyleSheetChanged(e,t){this.dispatchEventToListeners(an.StyleSheetChanged,{styleSheetId:e,edit:t})}ensureOriginalStyleSheetText(e){const t=this.styleSheetHeaderForId(e);if(!t)return Promise.resolve(null);let n=this.#mr.get(t);return n||(n=this.getStyleSheetText(t.id),this.#mr.set(t,n),this.originalContentRequestedForTest(t)),n}originalContentRequestedForTest(e){}originalStyleSheetText(e){return this.ensureOriginalStyleSheetText(e.id)}getAllStyleSheetHeaders(){return this.#Sr.values()}styleSheetAdded(e){console.assert(!this.#Sr.get(e.styleSheetId));const t=new Ct(this,e);this.#Sr.set(e.styleSheetId,t);const n=t.resourceURL();let r=this.#yr.get(n);if(r||(r=new Map,this.#yr.set(n,r)),r){let e=r.get(t.frameId);e||(e=new Set,r.set(t.frameId,e)),e.add(t.id)}this.#fr.attachSourceMap(t,t.sourceURL,t.sourceMapURL),this.dispatchEventToListeners(an.StyleSheetAdded,t)}styleSheetRemoved(e){const t=this.#Sr.get(e);if(console.assert(Boolean(t)),!t)return;this.#Sr.delete(e);const n=t.resourceURL(),r=this.#yr.get(n);if(console.assert(Boolean(r),"No frameId to styleSheetId map is available for given style sheet URL."),r){const s=r.get(t.frameId);s&&(s.delete(e),s.size||(r.delete(t.frameId),r.size||this.#yr.delete(n)))}this.#mr.delete(t),this.#fr.detachSourceMap(t),this.dispatchEventToListeners(an.StyleSheetRemoved,t)}getStyleSheetIdsForURL(e){const t=this.#yr.get(e);if(!t)return[];const n=[];for(const e of t.values())n.push(...e);return n}async setStyleSheetText(e,t,n){const r=this.#Sr.get(e);if(!r)return"Unknown stylesheet in CSS.setStyleSheetText";t=ln.trimSourceURL(t),r.hasSourceURL&&(t+="\n/*# sourceURL="+r.sourceURL+" */"),await this.ensureOriginalStyleSheetText(e);const s=(await this.agent.invoke_setStyleSheetText({styleSheetId:r.id,text:t})).sourceMapURL;return this.#fr.detachSourceMap(r),r.setSourceMapURL(s),this.#fr.attachSourceMap(r,r.sourceURL,r.sourceMapURL),null===s?"Error in CSS.setStyleSheetText":(this.#gr.markUndoableState(!n),this.fireStyleSheetChanged(e),null)}async getStyleSheetText(e){try{const{text:t}=await this.agent.invoke_getStyleSheetText({styleSheetId:e});return t&&ln.trimSourceURL(t)}catch(e){return null}}async onMainFrameNavigated(e){e.data.backForwardCacheDetails.restoredFromCache?(await this.suspendModel(),await this.resumeModel()):(this.resetStyleSheets(),this.resetFontFaces())}resetStyleSheets(){const e=[...this.#Sr.values()];this.#yr.clear(),this.#Sr.clear();for(const t of e)this.#fr.detachSourceMap(t),this.dispatchEventToListeners(an.StyleSheetRemoved,t)}resetFontFaces(){this.#pr.clear()}async suspendModel(){this.#ar=!1,await this.agent.invoke_disable(),this.resetStyleSheets(),this.resetFontFaces()}async resumeModel(){return this.enable()}setEffectivePropertyValueForNode(e,t,n){this.agent.invoke_setEffectivePropertyValueForNode({nodeId:e,propertyName:t,value:n})}cachedMatchedCascadeForNode(e){if(this.#kr!==e&&this.discardCachedMatchedCascade(),this.#kr=e,!this.#wr){if(!e.id)return Promise.resolve(null);this.#wr=this.getMatchedStyles(e.id)}return this.#wr}discardCachedMatchedCascade(){this.#kr=null,this.#wr=null}createCSSPropertyTracker(e){return new mn(this,e)}enableCSSPropertyTracker(e){const t=e.getTrackedProperties();0!==t.length&&(this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack:t}),this.#Tr=!0,this.#Cr=e,this.pollComputedStyleUpdates())}disableCSSPropertyTracker(){this.#Tr=!1,this.#Cr=null,this.agent.invoke_trackComputedStyleUpdates({propertiesToTrack:[]})}async pollComputedStyleUpdates(){if(!this.#Mr){if(this.#Tr){this.#Mr=!0;const e=await this.agent.invoke_takeComputedStyleUpdates();if(this.#Mr=!1,e.getError()||!e.nodeIds||!this.#Tr)return;this.#Cr&&this.#Cr.dispatchEventToListeners(fn.TrackedCSSPropertiesUpdated,e.nodeIds.map((e=>this.#gr.nodeForId(e))))}this.#Tr&&this.#vr.schedule(this.pollComputedStyleUpdates.bind(this))}}dispose(){this.disableCSSPropertyTracker(),super.dispose(),this.#fr.dispose()}getAgent(){return this.agent}}!function(e){e.FontsUpdated="FontsUpdated",e.MediaQueryResultChanged="MediaQueryResultChanged",e.ModelWasEnabled="ModelWasEnabled",e.PseudoStateForced="PseudoStateForced",e.StyleSheetAdded="StyleSheetAdded",e.StyleSheetChanged="StyleSheetChanged",e.StyleSheetRemoved="StyleSheetRemoved"}(an||(an={}));const dn="pseudo-state-marker";class cn{styleSheetId;oldRange;newRange;newText;payload;constructor(e,t,r,s){this.styleSheetId=e,this.oldRange=t,this.newRange=n.TextRange.TextRange.fromEdit(t,r),this.newText=r,this.payload=s}}class hn{#on;styleSheetId;url;lineNumber;columnNumber;constructor(e,t,n){this.#on=e.cssModel(),this.styleSheetId=e.id,this.url=e.resourceURL(),this.lineNumber=t,this.columnNumber=n||0}cssModel(){return this.#on}header(){return this.#on.styleSheetHeaderForId(this.styleSheetId)}}class un{#xr;constructor(e){this.#xr=e}mediaQueryResultChanged(){this.#xr.mediaQueryResultChanged()}fontsUpdated({font:e}){this.#xr.fontsUpdated(e)}styleSheetChanged({styleSheetId:e}){this.#xr.fireStyleSheetChanged(e)}styleSheetAdded({header:e}){this.#xr.styleSheetAdded(e)}styleSheetRemoved({styleSheetId:e}){this.#xr.styleSheetRemoved(e)}}class gn{#xr;#Pr;constructor(e){this.#xr=e,this.#Pr=new Map}computedStylePromise(e){let t=this.#Pr.get(e);return t||(t=this.#xr.getAgent().invoke_getComputedStyleForNode({nodeId:e}).then((({computedStyle:t})=>{if(this.#Pr.delete(e),!t||!t.length)return null;const n=new Map;for(const e of t)n.set(e.name,e.value);return n})),this.#Pr.set(e,t),t)}}class pn{inlineStyle;attributesStyle;constructor(e,t){this.inlineStyle=e,this.attributesStyle=t}}class mn extends e.ObjectWrapper.ObjectWrapper{#xr;#Lr;constructor(e,t){super(),this.#xr=e,this.#Lr=t}start(){this.#xr.enableCSSPropertyTracker(this)}stop(){this.#xr.disableCSSPropertyTracker()}getTrackedProperties(){return this.#Lr}}const bn=1e3;var fn;!function(e){e.TrackedCSSPropertiesUpdated="TrackedCSSPropertiesUpdated"}(fn||(fn={})),l.register(ln,{capabilities:_.DOM,autostart:!0});var In=Object.freeze({__proto__:null,CSSModel:ln,get Events(){return an},Edit:cn,CSSLocation:hn,InlineStyleResult:pn,CSSPropertyTracker:mn,get CSSPropertyTrackerEvents(){return fn}});class vn{#Er;#Ar;constructor(){const{Color:t,Format:n}=e.Color;this.#Er=[new t([.9607843137254902,.592156862745098,.5803921568627451,1],n.RGBA),new t([.9411764705882353,.7490196078431373,.2980392156862745,1],n.RGBA),new t([.8313725490196079,.9294117647058824,.19215686274509805,1],n.RGBA),new t([.6196078431372549,.9215686274509803,.2784313725490196,1],n.RGBA),new t([.3568627450980392,.8196078431372549,.8431372549019608,1],n.RGBA),new t([.7372549019607844,.807843137254902,.984313725490196,1],n.RGBA),new t([.7764705882352941,.7450980392156863,.9333333333333333,1],n.RGBA),new t([.8156862745098039,.5803921568627451,.9176470588235294,1],n.RGBA),new t([.9215686274509803,.5803921568627451,.8117647058823529,1],n.RGBA)],this.#Ar=0}next(){const e=this.#Er[this.#Ar];return this.#Ar++,this.#Ar>=this.#Er.length&&(this.#Ar=0),e}}var yn=Object.freeze({__proto__:null,OverlayColorGenerator:vn});class Sn{#Or;#Nr;#Fr;#Dr;#Br;#Ur;#Er;#Hr;#qr;#_r;#zr;#jr;#Wr;#Vr;constructor(t,n=!0){this.#Or=t,this.#Nr=new Map,this.#Fr=new Map,this.#Dr=new Map,this.#Br=new Map,this.#Ur=new Map,this.#Er=new Map,this.#Hr=new vn,this.#qr=new vn,this.#_r=n,this.#zr=e.Settings.Settings.instance().moduleSetting("showGridLineLabels"),this.#zr.addChangeListener(this.onSettingChange,this),this.#jr=e.Settings.Settings.instance().moduleSetting("extendGridLines"),this.#jr.addChangeListener(this.onSettingChange,this),this.#Wr=e.Settings.Settings.instance().moduleSetting("showGridAreas"),this.#Wr.addChangeListener(this.onSettingChange,this),this.#Vr=e.Settings.Settings.instance().moduleSetting("showGridTrackSizes"),this.#Vr.addChangeListener(this.onSettingChange,this)}onSettingChange(){this.resetOverlay()}buildGridHighlightConfig(e){const t=this.colorOfGrid(e),n=t.setAlpha(.1),r=t.setAlpha(.3),s=t.setAlpha(.8),i=this.#jr.get(),a="lineNumbers"===this.#zr.get(),o=a,l="lineNames"===this.#zr.get();return{rowGapColor:r.toProtocolRGBA(),rowHatchColor:s.toProtocolRGBA(),columnGapColor:r.toProtocolRGBA(),columnHatchColor:s.toProtocolRGBA(),gridBorderColor:t.toProtocolRGBA(),gridBorderDash:!1,rowLineColor:t.toProtocolRGBA(),columnLineColor:t.toProtocolRGBA(),rowLineDash:!0,columnLineDash:!0,showGridExtensionLines:i,showPositiveLineNumbers:a,showNegativeLineNumbers:o,showLineNames:l,showAreaNames:this.#Wr.get(),showTrackSizes:this.#Vr.get(),areaBorderColor:t.toProtocolRGBA(),gridBackgroundColor:n.toProtocolRGBA()}}buildFlexContainerHighlightConfig(e){const t=this.colorOfFlex(e);return{containerBorder:{color:t.toProtocolRGBA(),pattern:"dashed"},itemSeparator:{color:t.toProtocolRGBA(),pattern:"dotted"},lineSeparator:{color:t.toProtocolRGBA(),pattern:"dashed"},mainDistributedSpace:{hatchColor:t.toProtocolRGBA()},crossDistributedSpace:{hatchColor:t.toProtocolRGBA()}}}buildScrollSnapContainerHighlightConfig(t){return{snapAreaBorder:{color:e.Color.PageHighlight.GridBorder.toProtocolRGBA(),pattern:"dashed"},snapportBorder:{color:e.Color.PageHighlight.GridBorder.toProtocolRGBA()},scrollMarginColor:e.Color.PageHighlight.Margin.toProtocolRGBA(),scrollPaddingColor:e.Color.PageHighlight.Padding.toProtocolRGBA()}}highlightGridInOverlay(e){this.#Nr.set(e,this.buildGridHighlightConfig(e)),this.updateHighlightsInOverlay()}isGridHighlighted(e){return this.#Nr.has(e)}colorOfGrid(e){let t=this.#Er.get(e);return t||(t=this.#Hr.next(),this.#Er.set(e,t)),t}setColorOfGrid(e,t){this.#Er.set(e,t)}hideGridInOverlay(e){this.#Nr.has(e)&&(this.#Nr.delete(e),this.updateHighlightsInOverlay())}highlightScrollSnapInOverlay(e){this.#Fr.set(e,this.buildScrollSnapContainerHighlightConfig(e)),this.updateHighlightsInOverlay()}isScrollSnapHighlighted(e){return this.#Fr.has(e)}hideScrollSnapInOverlay(e){this.#Fr.has(e)&&(this.#Fr.delete(e),this.updateHighlightsInOverlay())}highlightFlexInOverlay(e){this.#Dr.set(e,this.buildFlexContainerHighlightConfig(e)),this.updateHighlightsInOverlay()}isFlexHighlighted(e){return this.#Dr.has(e)}colorOfFlex(e){let t=this.#Er.get(e);return t||(t=this.#qr.next(),this.#Er.set(e,t)),t}setColorOfFlex(e,t){this.#Er.set(e,t)}hideFlexInOverlay(e){this.#Dr.has(e)&&(this.#Dr.delete(e),this.updateHighlightsInOverlay())}highlightContainerQueryInOverlay(e){this.#Br.set(e,this.buildContainerQueryContainerHighlightConfig()),this.updateHighlightsInOverlay()}hideContainerQueryInOverlay(e){this.#Br.has(e)&&(this.#Br.delete(e),this.updateHighlightsInOverlay())}isContainerQueryHighlighted(e){return this.#Br.has(e)}buildContainerQueryContainerHighlightConfig(){return{containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},descendantBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"}}}highlightIsolatedElementInOverlay(e){this.#Ur.set(e,this.buildIsolationModeHighlightConfig()),this.updateHighlightsInOverlay()}hideIsolatedElementInOverlay(e){this.#Ur.has(e)&&(this.#Ur.delete(e),this.updateHighlightsInOverlay())}isIsolatedElementHighlighted(e){return this.#Ur.has(e)}buildIsolationModeHighlightConfig(){return{resizerColor:e.Color.IsolationModeHighlight.Resizer.toProtocolRGBA(),resizerHandleColor:e.Color.IsolationModeHighlight.ResizerHandle.toProtocolRGBA(),maskColor:e.Color.IsolationModeHighlight.Mask.toProtocolRGBA()}}hideAllInOverlay(){this.#Dr.clear(),this.#Nr.clear(),this.#Fr.clear(),this.#Br.clear(),this.#Ur.clear(),this.updateHighlightsInOverlay()}refreshHighlights(){const e=this.updateHighlightsForDeletedNodes(this.#Nr),t=this.updateHighlightsForDeletedNodes(this.#Dr),n=this.updateHighlightsForDeletedNodes(this.#Fr),r=this.updateHighlightsForDeletedNodes(this.#Br),s=this.updateHighlightsForDeletedNodes(this.#Ur);(t||e||n||r||s)&&this.updateHighlightsInOverlay()}updateHighlightsForDeletedNodes(e){let t=!1;for(const n of e.keys())null===this.#Or.getDOMModel().nodeForId(n)&&(e.delete(n),t=!0);return t}resetOverlay(){for(const e of this.#Nr.keys())this.#Nr.set(e,this.buildGridHighlightConfig(e));for(const e of this.#Dr.keys())this.#Dr.set(e,this.buildFlexContainerHighlightConfig(e));for(const e of this.#Fr.keys())this.#Fr.set(e,this.buildScrollSnapContainerHighlightConfig(e));for(const e of this.#Br.keys())this.#Br.set(e,this.buildContainerQueryContainerHighlightConfig());for(const e of this.#Ur.keys())this.#Ur.set(e,this.buildIsolationModeHighlightConfig());this.updateHighlightsInOverlay()}updateHighlightsInOverlay(){const e=this.#Nr.size>0||this.#Dr.size>0||this.#Br.size>0||this.#Ur.size>0;this.#Or.setShowViewportSizeOnResize(!e),this.updateGridHighlightsInOverlay(),this.updateFlexHighlightsInOverlay(),this.updateScrollSnapHighlightsInOverlay(),this.updateContainerQueryHighlightsInOverlay(),this.updateIsolatedElementHighlightsInOverlay()}updateGridHighlightsInOverlay(){const e=this.#Or,t=[];for(const[e,n]of this.#Nr.entries())t.push({nodeId:e,gridHighlightConfig:n});e.target().overlayAgent().invoke_setShowGridOverlays({gridNodeHighlightConfigs:t})}updateFlexHighlightsInOverlay(){if(!this.#_r)return;const e=this.#Or,t=[];for(const[e,n]of this.#Dr.entries())t.push({nodeId:e,flexContainerHighlightConfig:n});e.target().overlayAgent().invoke_setShowFlexOverlays({flexNodeHighlightConfigs:t})}updateScrollSnapHighlightsInOverlay(){const e=this.#Or,t=[];for(const[e,n]of this.#Fr.entries())t.push({nodeId:e,scrollSnapContainerHighlightConfig:n});e.target().overlayAgent().invoke_setShowScrollSnapOverlays({scrollSnapHighlightConfigs:t})}updateContainerQueryHighlightsInOverlay(){const e=this.#Or,t=[];for(const[e,n]of this.#Br.entries())t.push({nodeId:e,containerQueryContainerHighlightConfig:n});e.target().overlayAgent().invoke_setShowContainerQueryOverlays({containerQueryHighlightConfigs:t})}updateIsolatedElementHighlightsInOverlay(){const e=this.#Or,t=[];for(const[e,n]of this.#Ur.entries())t.push({nodeId:e,isolationModeHighlightConfig:n});e.target().overlayAgent().invoke_setShowIsolatedElements({isolatedElementHighlightConfigs:t})}}var kn=Object.freeze({__proto__:null,OverlayPersistentHighlighter:Sn});const wn={pausedInDebugger:"Paused in debugger"},Cn=r.i18n.registerUIStrings("core/sdk/OverlayModel.ts",wn),Tn=r.i18n.getLocalizedString.bind(void 0,Cn);class Rn extends l{#gr;overlayAgent;#Gr;#Kr;#Qr;#$r;#Xr;#Jr;#Yr;#Zr;#es;#ts;#ns;#rs;#ss;#is;#as;#os;#ls;constructor(t){super(t),this.#gr=t.model(Dn),t.registerOverlayDispatcher(this),this.overlayAgent=t.overlayAgent(),this.#Gr=t.model(ur),this.#Gr&&(e.Settings.Settings.instance().moduleSetting("disablePausedStateOverlay").addChangeListener(this.updatePausedInDebuggerMessage,this),this.#Gr.addEventListener(mr.DebuggerPaused,this.updatePausedInDebuggerMessage,this),this.#Gr.addEventListener(mr.DebuggerResumed,this.updatePausedInDebuggerMessage,this),this.#Gr.addEventListener(mr.GlobalObjectCleared,this.updatePausedInDebuggerMessage,this)),this.#Kr=!1,this.#Qr=null,this.#$r=new xn(this),this.#Xr=this.#$r,this.#Jr=e.Settings.Settings.instance().moduleSetting("showPaintRects"),this.#Yr=e.Settings.Settings.instance().moduleSetting("showLayoutShiftRegions"),this.#Zr=e.Settings.Settings.instance().moduleSetting("showAdHighlights"),this.#es=e.Settings.Settings.instance().moduleSetting("showDebugBorders"),this.#ts=e.Settings.Settings.instance().moduleSetting("showFPSCounter"),this.#ns=e.Settings.Settings.instance().moduleSetting("showScrollBottleneckRects"),this.#rs=e.Settings.Settings.instance().moduleSetting("showWebVitals"),this.#ss=[],this.#is=!0,t.suspended()||(this.overlayAgent.invoke_enable(),this.wireAgentToSettings()),this.#as=new Sn(this),this.#gr.addEventListener(Ln.NodeRemoved,(()=>{this.#as&&this.#as.refreshHighlights()})),this.#gr.addEventListener(Ln.DocumentUpdated,(()=>{this.#as&&this.#as.hideAllInOverlay()})),this.#os=new Pn(this),this.#ls=!1}static highlightObjectAsDOMNode(e){const t=e.runtimeModel().target().model(Dn);t&&t.overlayModel().highlightInOverlay({object:e,selectorList:void 0})}static hideDOMNodeHighlight(){for(const e of G.instance().models(Rn))e.delayedHideHighlight(0)}static async muteHighlight(){return Promise.all(G.instance().models(Rn).map((e=>e.suspendModel())))}static async unmuteHighlight(){return Promise.all(G.instance().models(Rn).map((e=>e.resumeModel())))}static highlightRect(e){for(const t of G.instance().models(Rn))t.highlightRect(e)}static clearHighlight(){for(const e of G.instance().models(Rn))e.clearHighlight()}getDOMModel(){return this.#gr}highlightRect({x:e,y:t,width:n,height:r,color:s,outlineColor:i}){const a=s||{r:255,g:0,b:255,a:.3},o=i||{r:255,g:0,b:255,a:.5};return this.overlayAgent.invoke_highlightRect({x:e,y:t,width:n,height:r,color:a,outlineColor:o})}clearHighlight(){return this.overlayAgent.invoke_hideHighlight()}async wireAgentToSettings(){this.#ss=[this.#Jr.addChangeListener((()=>this.overlayAgent.invoke_setShowPaintRects({result:this.#Jr.get()}))),this.#Yr.addChangeListener((()=>this.overlayAgent.invoke_setShowLayoutShiftRegions({result:this.#Yr.get()}))),this.#Zr.addChangeListener((()=>this.overlayAgent.invoke_setShowAdHighlights({show:this.#Zr.get()}))),this.#es.addChangeListener((()=>this.overlayAgent.invoke_setShowDebugBorders({show:this.#es.get()}))),this.#ts.addChangeListener((()=>this.overlayAgent.invoke_setShowFPSCounter({show:this.#ts.get()}))),this.#ns.addChangeListener((()=>this.overlayAgent.invoke_setShowScrollBottleneckRects({show:this.#ns.get()}))),this.#rs.addChangeListener((()=>this.overlayAgent.invoke_setShowWebVitals({show:this.#rs.get()})))],this.#Jr.get()&&this.overlayAgent.invoke_setShowPaintRects({result:!0}),this.#Yr.get()&&this.overlayAgent.invoke_setShowLayoutShiftRegions({result:!0}),this.#Zr.get()&&this.overlayAgent.invoke_setShowAdHighlights({show:!0}),this.#es.get()&&this.overlayAgent.invoke_setShowDebugBorders({show:!0}),this.#ts.get()&&this.overlayAgent.invoke_setShowFPSCounter({show:!0}),this.#ns.get()&&this.overlayAgent.invoke_setShowScrollBottleneckRects({show:!0}),this.#rs.get()&&this.overlayAgent.invoke_setShowWebVitals({show:!0}),this.#Gr&&this.#Gr.isPaused()&&this.updatePausedInDebuggerMessage(),await this.overlayAgent.invoke_setShowViewportSizeOnResize({show:this.#is})}async suspendModel(){e.EventTarget.removeEventListeners(this.#ss),await this.overlayAgent.invoke_disable()}async resumeModel(){await Promise.all([this.overlayAgent.invoke_enable(),this.wireAgentToSettings()])}setShowViewportSizeOnResize(e){this.#is!==e&&(this.#is=e,this.target().suspended()||this.overlayAgent.invoke_setShowViewportSizeOnResize({show:e}))}updatePausedInDebuggerMessage(){if(this.target().suspended())return;const t=this.#Gr&&this.#Gr.isPaused()&&!e.Settings.Settings.instance().moduleSetting("disablePausedStateOverlay").get()?Tn(wn.pausedInDebugger):void 0;this.overlayAgent.invoke_setPausedInDebuggerMessage({message:t})}setHighlighter(e){this.#Xr=e||this.#$r}async setInspectMode(e,t=!0){await this.#gr.requestDocument(),this.#Kr="none"!==e,this.dispatchEventToListeners(Mn.InspectModeWillBeToggled,this),this.#Xr.setInspectMode(e,this.buildHighlightConfig("all",t))}inspectModeEnabled(){return this.#Kr}highlightInOverlay(e,t,n){if(this.#ls)return;this.#Qr&&(clearTimeout(this.#Qr),this.#Qr=null);const r=this.buildHighlightConfig(t);void 0!==n&&(r.showInfo=n),this.#Xr.highlightInOverlay(e,r)}highlightInOverlayForTwoSeconds(e){this.highlightInOverlay(e),this.delayedHideHighlight(2e3)}highlightGridInPersistentOverlay(e){this.#as&&(this.#as.highlightGridInOverlay(e),this.dispatchEventToListeners(Mn.PersistentGridOverlayStateChanged,{nodeId:e,enabled:!0}))}isHighlightedGridInPersistentOverlay(e){return!!this.#as&&this.#as.isGridHighlighted(e)}hideGridInPersistentOverlay(e){this.#as&&(this.#as.hideGridInOverlay(e),this.dispatchEventToListeners(Mn.PersistentGridOverlayStateChanged,{nodeId:e,enabled:!1}))}highlightScrollSnapInPersistentOverlay(e){this.#as&&(this.#as.highlightScrollSnapInOverlay(e),this.dispatchEventToListeners(Mn.PersistentScrollSnapOverlayStateChanged,{nodeId:e,enabled:!0}))}isHighlightedScrollSnapInPersistentOverlay(e){return!!this.#as&&this.#as.isScrollSnapHighlighted(e)}hideScrollSnapInPersistentOverlay(e){this.#as&&(this.#as.hideScrollSnapInOverlay(e),this.dispatchEventToListeners(Mn.PersistentScrollSnapOverlayStateChanged,{nodeId:e,enabled:!1}))}highlightFlexContainerInPersistentOverlay(e){this.#as&&(this.#as.highlightFlexInOverlay(e),this.dispatchEventToListeners(Mn.PersistentFlexContainerOverlayStateChanged,{nodeId:e,enabled:!0}))}isHighlightedFlexContainerInPersistentOverlay(e){return!!this.#as&&this.#as.isFlexHighlighted(e)}hideFlexContainerInPersistentOverlay(e){this.#as&&(this.#as.hideFlexInOverlay(e),this.dispatchEventToListeners(Mn.PersistentFlexContainerOverlayStateChanged,{nodeId:e,enabled:!1}))}highlightContainerQueryInPersistentOverlay(e){this.#as&&(this.#as.highlightContainerQueryInOverlay(e),this.dispatchEventToListeners(Mn.PersistentContainerQueryOverlayStateChanged,{nodeId:e,enabled:!0}))}isHighlightedContainerQueryInPersistentOverlay(e){return!!this.#as&&this.#as.isContainerQueryHighlighted(e)}hideContainerQueryInPersistentOverlay(e){this.#as&&(this.#as.hideContainerQueryInOverlay(e),this.dispatchEventToListeners(Mn.PersistentContainerQueryOverlayStateChanged,{nodeId:e,enabled:!1}))}highlightSourceOrderInOverlay(t){const n={parentOutlineColor:e.Color.SourceOrderHighlight.ParentOutline.toProtocolRGBA(),childOutlineColor:e.Color.SourceOrderHighlight.ChildOutline.toProtocolRGBA()};this.#os.highlightSourceOrderInOverlay(t,n)}colorOfGridInPersistentOverlay(t){return this.#as?this.#as.colorOfGrid(t).asString(e.Color.Format.HEX):null}setColorOfGridInPersistentOverlay(t,n){if(!this.#as)return;const r=e.Color.Color.parse(n);r&&(this.#as.setColorOfGrid(t,r),this.#as.resetOverlay())}colorOfFlexInPersistentOverlay(t){return this.#as?this.#as.colorOfFlex(t).asString(e.Color.Format.HEX):null}setColorOfFlexInPersistentOverlay(t,n){if(!this.#as)return;const r=e.Color.Color.parse(n);r&&(this.#as.setColorOfFlex(t,r),this.#as.resetOverlay())}hideSourceOrderInOverlay(){this.#os.hideSourceOrderHighlight()}setSourceOrderActive(e){this.#ls=e}sourceOrderModeActive(){return this.#ls}highlightIsolatedElementInPersistentOverlay(e){this.#as&&this.#as.highlightIsolatedElementInOverlay(e)}hideIsolatedElementInPersistentOverlay(e){this.#as&&this.#as.hideIsolatedElementInOverlay(e)}isHighlightedIsolatedElementInPersistentOverlay(e){return!!this.#as&&this.#as.isIsolatedElementHighlighted(e)}delayedHideHighlight(e){null===this.#Qr&&(this.#Qr=window.setTimeout((()=>this.highlightInOverlay({clear:!0})),e))}highlightFrame(e){this.#Qr&&(clearTimeout(this.#Qr),this.#Qr=null),this.#Xr.highlightFrame(e)}showHingeForDualScreen(e){if(e){const{x:t,y:n,width:r,height:s,contentColor:i,outlineColor:a}=e;this.overlayAgent.invoke_setShowHinge({hingeConfig:{rect:{x:t,y:n,width:r,height:s},contentColor:i,outlineColor:a}})}else this.overlayAgent.invoke_setShowHinge({})}buildHighlightConfig(t="all",n=!1){const r=e.Settings.Settings.instance().moduleSetting("showMetricsRulers").get(),s=e.Settings.Settings.instance().moduleSetting("colorFormat").get(),i={showInfo:"all"===t||"container-outline"===t,showRulers:r,showStyles:n,showAccessibilityInfo:n,showExtensionLines:r,gridHighlightConfig:{},flexContainerHighlightConfig:{},flexItemHighlightConfig:{},contrastAlgorithm:a.Runtime.experiments.isEnabled("APCA")?"apca":"aa"};"all"!==t&&"content"!==t||(i.contentColor=e.Color.PageHighlight.Content.toProtocolRGBA()),"all"!==t&&"padding"!==t||(i.paddingColor=e.Color.PageHighlight.Padding.toProtocolRGBA()),"all"!==t&&"border"!==t||(i.borderColor=e.Color.PageHighlight.Border.toProtocolRGBA()),"all"!==t&&"margin"!==t||(i.marginColor=e.Color.PageHighlight.Margin.toProtocolRGBA()),"all"===t&&(i.eventTargetColor=e.Color.PageHighlight.EventTarget.toProtocolRGBA(),i.shapeColor=e.Color.PageHighlight.Shape.toProtocolRGBA(),i.shapeMarginColor=e.Color.PageHighlight.ShapeMargin.toProtocolRGBA(),i.gridHighlightConfig={rowGapColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA(),rowHatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),columnGapColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA(),columnHatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),rowLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:!0,columnLineDash:!0},i.flexContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},itemSeparator:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dotted"},lineSeparator:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},mainDistributedSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()},crossDistributedSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()},rowGapSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()},columnGapSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()}},i.flexItemHighlightConfig={baseSizeBox:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA()},baseSizeBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dotted"},flexibilityArrow:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}),t.endsWith("gap")&&(i.gridHighlightConfig={gridBorderColor:e.Color.PageHighlight.GridBorder.toProtocolRGBA(),gridBorderDash:!0},"gap"!==t&&"row-gap"!==t||(i.gridHighlightConfig.rowGapColor=e.Color.PageHighlight.GapBackground.toProtocolRGBA(),i.gridHighlightConfig.rowHatchColor=e.Color.PageHighlight.GapHatch.toProtocolRGBA()),"gap"!==t&&"column-gap"!==t||(i.gridHighlightConfig.columnGapColor=e.Color.PageHighlight.GapBackground.toProtocolRGBA(),i.gridHighlightConfig.columnHatchColor=e.Color.PageHighlight.GapHatch.toProtocolRGBA())),t.endsWith("gap")&&(i.flexContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"}},"gap"!==t&&"row-gap"!==t||(i.flexContainerHighlightConfig.rowGapSpace={hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()}),"gap"!==t&&"column-gap"!==t||(i.flexContainerHighlightConfig.columnGapSpace={hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()})),"grid-areas"===t&&(i.gridHighlightConfig={rowLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:!0,columnLineDash:!0,showAreaNames:!0,areaBorderColor:e.Color.PageHighlight.GridAreaBorder.toProtocolRGBA()}),"grid-template-columns"===t&&(i.contentColor=e.Color.PageHighlight.Content.toProtocolRGBA(),i.gridHighlightConfig={columnLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),columnLineDash:!0}),"grid-template-rows"===t&&(i.contentColor=e.Color.PageHighlight.Content.toProtocolRGBA(),i.gridHighlightConfig={rowLineColor:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),rowLineDash:!0}),"justify-content"===t&&(i.flexContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},mainDistributedSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()}}),"align-content"===t&&(i.flexContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},crossDistributedSpace:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA(),fillColor:e.Color.PageHighlight.GapBackground.toProtocolRGBA()}}),"align-items"===t&&(i.flexContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},lineSeparator:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"},crossAlignment:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}),"flexibility"===t&&(i.flexItemHighlightConfig={baseSizeBox:{hatchColor:e.Color.PageHighlight.GapHatch.toProtocolRGBA()},baseSizeBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dotted"},flexibilityArrow:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA()}}),"container-outline"===t&&(i.containerQueryContainerHighlightConfig={containerBorder:{color:e.Color.PageHighlight.LayoutLine.toProtocolRGBA(),pattern:"dashed"}});return new Set(["rgb","hsl","hex"]).has(s)&&(i.colorFormat=s),i}nodeHighlightRequested({nodeId:e}){const t=this.#gr.nodeForId(e);t&&this.dispatchEventToListeners(Mn.HighlightNodeRequested,t)}static setInspectNodeHandler(e){Rn.inspectNodeHandler=e}inspectNodeRequested({backendNodeId:t}){const n=new On(this.target(),t);Rn.inspectNodeHandler?n.resolvePromise().then((e=>{e&&Rn.inspectNodeHandler&&Rn.inspectNodeHandler(e)})):e.Revealer.reveal(n),this.dispatchEventToListeners(Mn.ExitedInspectMode)}screenshotRequested({viewport:e}){this.dispatchEventToListeners(Mn.ScreenshotRequested,e),this.dispatchEventToListeners(Mn.ExitedInspectMode)}inspectModeCanceled(){this.dispatchEventToListeners(Mn.ExitedInspectMode)}static inspectNodeHandler=null;getOverlayAgent(){return this.overlayAgent}}var Mn;!function(e){e.InspectModeWillBeToggled="InspectModeWillBeToggled",e.ExitedInspectMode="InspectModeExited",e.HighlightNodeRequested="HighlightNodeRequested",e.ScreenshotRequested="ScreenshotRequested",e.PersistentGridOverlayStateChanged="PersistentGridOverlayStateChanged",e.PersistentFlexContainerOverlayStateChanged="PersistentFlexContainerOverlayStateChanged",e.PersistentScrollSnapOverlayStateChanged="PersistentScrollSnapOverlayStateChanged",e.PersistentContainerQueryOverlayStateChanged="PersistentContainerQueryOverlayStateChanged"}(Mn||(Mn={}));class xn{#Or;constructor(e){this.#Or=e}highlightInOverlay(e,t){const{node:n,deferredNode:r,object:s,selectorList:i}={node:void 0,deferredNode:void 0,object:void 0,selectorList:void 0,...e},a=n?n.id:void 0,o=r?r.backendNodeId():void 0,l=s?s.objectId:void 0;a||o||l?this.#Or.target().overlayAgent().invoke_highlightNode({highlightConfig:t,nodeId:a,backendNodeId:o,objectId:l,selector:i}):this.#Or.target().overlayAgent().invoke_hideHighlight()}async setInspectMode(e,t){await this.#Or.target().overlayAgent().invoke_setInspectMode({mode:e,highlightConfig:t})}highlightFrame(t){this.#Or.target().overlayAgent().invoke_highlightFrame({frameId:t,contentColor:e.Color.PageHighlight.Content.toProtocolRGBA(),contentOutlineColor:e.Color.PageHighlight.ContentOutline.toProtocolRGBA()})}}class Pn{#Or;constructor(e){this.#Or=e}highlightSourceOrderInOverlay(e,t){this.#Or.setSourceOrderActive(!0),this.#Or.setShowViewportSizeOnResize(!1),this.#Or.getOverlayAgent().invoke_highlightSourceOrder({sourceOrderConfig:t,nodeId:e.id})}hideSourceOrderHighlight(){this.#Or.setSourceOrderActive(!1),this.#Or.setShowViewportSizeOnResize(!0),this.#Or.clearHighlight()}}l.register(Rn,{capabilities:_.DOM,autostart:!0});var Ln,En=Object.freeze({__proto__:null,OverlayModel:Rn,get Events(){return Mn},SourceOrderHighlighter:Pn});class An{#ds;#cs;ownerDocument;#hs;id;index;#us;#gs;#ps;#ms;nodeValueInternal;#bs;#fs;#Is;#vs;#ys;#Ss;#ks;#ws;#Cs;assignedSlot;shadowRootsInternal;#Ts;#Rs;#Ms;childNodeCountInternal;childrenInternal;nextSibling;previousSibling;firstChild;lastChild;parentNode;templateContentInternal;contentDocumentInternal;childDocumentPromiseForTesting;#xs;publicId;systemId;internalSubset;name;value;constructor(e){this.#ds=e,this.#cs=this.#ds.getAgent(),this.index=void 0,this.#ks=null,this.#ws=new Map,this.#Cs=[],this.assignedSlot=null,this.shadowRootsInternal=[],this.#Ts=new Map,this.#Rs=new Map,this.#Ms=0,this.childrenInternal=null,this.nextSibling=null,this.previousSibling=null,this.firstChild=null,this.lastChild=null,this.parentNode=null}static create(e,t,n,r){const s=new An(e);return s.init(t,n,r),s}init(e,t,n){if(this.#cs=this.#ds.getAgent(),this.ownerDocument=e,this.#hs=t,this.id=n.nodeId,this.#us=n.backendNodeId,this.#ds.registerNode(this),this.#gs=n.nodeType,this.#ps=n.nodeName,this.#ms=n.localName,this.nodeValueInternal=n.nodeValue,this.#bs=n.pseudoType,this.#fs=n.pseudoIdentifier,this.#Is=n.shadowRootType,this.#vs=n.frameId||null,this.#ys=n.xmlVersion,this.#Ss=Boolean(n.isSVG),n.attributes&&this.setAttributesPayload(n.attributes),this.childNodeCountInternal=n.childNodeCount||0,n.shadowRoots)for(let e=0;e<n.shadowRoots.length;++e){const t=n.shadowRoots[e],r=An.create(this.#ds,this.ownerDocument,!0,t);this.shadowRootsInternal.push(r),r.parentNode=this}n.templateContent&&(this.templateContentInternal=An.create(this.#ds,this.ownerDocument,!0,n.templateContent),this.templateContentInternal.parentNode=this,this.childrenInternal=[]);const r=new Set(["EMBED","IFRAME","OBJECT","PORTAL","FENCEDFRAME"]);n.contentDocument?(this.contentDocumentInternal=new Fn(this.#ds,n.contentDocument),this.contentDocumentInternal.parentNode=this,this.childrenInternal=[]):n.frameId&&r.has(n.nodeName)&&(this.childDocumentPromiseForTesting=this.requestChildDocument(n.frameId,this.#ds.target()),this.childrenInternal=[]),n.importedDocument&&(this.#xs=An.create(this.#ds,this.ownerDocument,!0,n.importedDocument),this.#xs.parentNode=this,this.childrenInternal=[]),n.distributedNodes&&this.setDistributedNodePayloads(n.distributedNodes),n.assignedSlot&&this.setAssignedSlot(n.assignedSlot),n.children&&this.setChildrenPayload(n.children),this.setPseudoElements(n.pseudoElements),this.#gs===Node.ELEMENT_NODE?(this.ownerDocument&&!this.ownerDocument.documentElement&&"HTML"===this.#ps&&(this.ownerDocument.documentElement=this),this.ownerDocument&&!this.ownerDocument.body&&"BODY"===this.#ps&&(this.ownerDocument.body=this)):this.#gs===Node.DOCUMENT_TYPE_NODE?(this.publicId=n.publicId,this.systemId=n.systemId,this.internalSubset=n.internalSubset):this.#gs===Node.ATTRIBUTE_NODE&&(this.name=n.name,this.value=n.value)}async requestChildDocument(e,t){const n=(await Mt.instance().getOrWaitForFrame(e,t)).resourceTreeModel()?.target().model(Dn);return n?.requestDocument()||null}isAdFrameNode(){if(this.isIframe()&&this.#vs){const e=Mt.instance().getFrame(this.#vs);return!!e&&"none"!==e.adFrameType()}return!1}isSVGNode(){return this.#Ss}creationStackTrace(){if(this.#ks)return this.#ks;const e=this.#cs.invoke_getNodeStackTraces({nodeId:this.id});return this.#ks=e.then((e=>e.creation||null)),this.#ks}get subtreeMarkerCount(){return this.#Ms}domModel(){return this.#ds}backendNodeId(){return this.#us}children(){return this.childrenInternal?this.childrenInternal.slice():null}setChildren(e){this.childrenInternal=e}hasAttributes(){return this.#Ts.size>0}childNodeCount(){return this.childNodeCountInternal}setChildNodeCount(e){this.childNodeCountInternal=e}hasShadowRoots(){return Boolean(this.shadowRootsInternal.length)}shadowRoots(){return this.shadowRootsInternal.slice()}templateContent(){return this.templateContentInternal||null}contentDocument(){return this.contentDocumentInternal||null}setContentDocument(e){this.contentDocumentInternal=e}isIframe(){return"IFRAME"===this.#ps}isPortal(){return"PORTAL"===this.#ps}importedDocument(){return this.#xs||null}nodeType(){return this.#gs}nodeName(){return this.#ps}pseudoType(){return this.#bs}pseudoIdentifier(){return this.#fs}hasPseudoElements(){return this.#ws.size>0}pseudoElements(){return this.#ws}beforePseudoElement(){return this.#ws.get(An.PseudoElementNames.Before)?.at(-1)}afterPseudoElement(){return this.#ws.get(An.PseudoElementNames.After)?.at(-1)}markerPseudoElement(){return this.#ws.get(An.PseudoElementNames.Marker)?.at(-1)}backdropPseudoElement(){return this.#ws.get(An.PseudoElementNames.Backdrop)?.at(-1)}pageTransitionPseudoElements(){return[...this.#ws.get(An.PseudoElementNames.PageTransition)||[],...this.#ws.get(An.PseudoElementNames.PageTransitionContainer)||[],...this.#ws.get(An.PseudoElementNames.PageTransitionImageWrapper)||[],...this.#ws.get(An.PseudoElementNames.PageTransitionOutgoingImage)||[],...this.#ws.get(An.PseudoElementNames.PageTransitionIncomingImage)||[]]}hasAssignedSlot(){return null!==this.assignedSlot}isInsertionPoint(){return!this.isXMLNode()&&("SHADOW"===this.#ps||"CONTENT"===this.#ps||"SLOT"===this.#ps)}distributedNodes(){return this.#Cs}isInShadowTree(){return this.#hs}ancestorShadowHost(){const e=this.ancestorShadowRoot();return e?e.parentNode:null}ancestorShadowRoot(){if(!this.#hs)return null;let e=this;for(;e&&!e.isShadowRoot();)e=e.parentNode;return e}ancestorUserAgentShadowRoot(){const e=this.ancestorShadowRoot();return e&&e.shadowRootType()===An.ShadowRootTypes.UserAgent?e:null}isShadowRoot(){return Boolean(this.#Is)}shadowRootType(){return this.#Is||null}nodeNameInCorrectCase(){const e=this.shadowRootType();return e?"#shadow-root ("+e+")":this.localName()?this.localName().length!==this.nodeName().length?this.nodeName():this.localName():this.nodeName()}setNodeName(e,t){this.#cs.invoke_setNodeName({nodeId:this.id,name:e}).then((e=>{e.getError()||this.#ds.markUndoableState(),t&&t(e.getError()||null,this.#ds.nodeForId(e.nodeId))}))}localName(){return this.#ms}nodeValue(){return this.nodeValueInternal}setNodeValueInternal(e){this.nodeValueInternal=e}setNodeValue(e,t){this.#cs.invoke_setNodeValue({nodeId:this.id,value:e}).then((e=>{e.getError()||this.#ds.markUndoableState(),t&&t(e.getError()||null)}))}getAttribute(e){const t=this.#Ts.get(e);return t?t.value:void 0}setAttribute(e,t,n){this.#cs.invoke_setAttributesAsText({nodeId:this.id,text:t,name:e}).then((e=>{e.getError()||this.#ds.markUndoableState(),n&&n(e.getError()||null)}))}setAttributeValue(e,t,n){this.#cs.invoke_setAttributeValue({nodeId:this.id,name:e,value:t}).then((e=>{e.getError()||this.#ds.markUndoableState(),n&&n(e.getError()||null)}))}setAttributeValuePromise(e,t){return new Promise((n=>this.setAttributeValue(e,t,n)))}attributes(){return[...this.#Ts.values()]}async removeAttribute(e){(await this.#cs.invoke_removeAttribute({nodeId:this.id,name:e})).getError()||(this.#Ts.delete(e),this.#ds.markUndoableState())}getChildNodes(e){this.childrenInternal?e(this.children()):this.#cs.invoke_requestChildNodes({nodeId:this.id}).then((t=>{e(t.getError()?null:this.children())}))}async getSubtree(e,t){return(await this.#cs.invoke_requestChildNodes({nodeId:this.id,depth:e,pierce:t})).getError()?null:this.childrenInternal}async getOuterHTML(){const{outerHTML:e}=await this.#cs.invoke_getOuterHTML({nodeId:this.id});return e}setOuterHTML(e,t){this.#cs.invoke_setOuterHTML({nodeId:this.id,outerHTML:e}).then((e=>{e.getError()||this.#ds.markUndoableState(),t&&t(e.getError()||null)}))}removeNode(e){return this.#cs.invoke_removeNode({nodeId:this.id}).then((t=>{t.getError()||this.#ds.markUndoableState(),e&&e(t.getError()||null)}))}async copyNode(){const{outerHTML:e}=await this.#cs.invoke_getOuterHTML({nodeId:this.id});return null!==e&&s.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(e),e}path(){function e(e){return(void 0!==e.index||e.isShadowRoot()&&e.parentNode)&&e.#ps.length}const t=[];let n=this;for(;n&&e(n);){const e="number"==typeof n.index?n.index:n.shadowRootType()===An.ShadowRootTypes.UserAgent?"u":"a";t.push([e,n.#ps]),n=n.parentNode}return t.reverse(),t.join(",")}isAncestor(e){if(!e)return!1;let t=e.parentNode;for(;t;){if(this===t)return!0;t=t.parentNode}return!1}isDescendant(e){return null!==e&&e.isAncestor(this)}frameOwnerFrameId(){return this.#vs}frameId(){let e=this.parentNode||this;for(;!e.#vs&&e.parentNode;)e=e.parentNode;return e.#vs}setAttributesPayload(e){let t=!this.#Ts||e.length!==2*this.#Ts.size;const n=this.#Ts||new Map;this.#Ts=new Map;for(let r=0;r<e.length;r+=2){const s=e[r],i=e[r+1];if(this.addAttribute(s,i),t)continue;const a=n.get(s);a&&a.value===i||(t=!0)}return t}insertChild(e,t){if(!this.childrenInternal)throw new Error("DOMNode._children is expected to not be null.");const n=An.create(this.#ds,this.ownerDocument,this.#hs,t);return this.childrenInternal.splice(e?this.childrenInternal.indexOf(e)+1:0,0,n),this.renumber(),n}removeChild(e){const t=e.pseudoType();if(t){const n=this.#ws.get(t)?.filter((t=>t!==e));n&&n.length>0?this.#ws.set(t,n):this.#ws.delete(t)}else{const t=this.shadowRootsInternal.indexOf(e);if(-1!==t)this.shadowRootsInternal.splice(t,1);else{if(!this.childrenInternal)throw new Error("DOMNode._children is expected to not be null.");if(-1===this.childrenInternal.indexOf(e))throw new Error("DOMNode._children is expected to contain the node to be removed.");this.childrenInternal.splice(this.childrenInternal.indexOf(e),1)}}e.parentNode=null,this.#Ms-=e.#Ms,e.#Ms&&this.#ds.dispatchEventToListeners(Ln.MarkersChanged,this),this.renumber()}setChildrenPayload(e){this.childrenInternal=[];for(let t=0;t<e.length;++t){const n=e[t],r=An.create(this.#ds,this.ownerDocument,this.#hs,n);this.childrenInternal.push(r)}this.renumber()}setPseudoElements(e){if(e)for(let t=0;t<e.length;++t){const n=An.create(this.#ds,this.ownerDocument,this.#hs,e[t]);n.parentNode=this;const r=n.pseudoType();if(!r)throw new Error("DOMNode.pseudoType() is expected to be defined.");const s=this.#ws.get(r);s?s.push(n):this.#ws.set(r,[n])}}setDistributedNodePayloads(e){this.#Cs=[];for(const t of e)this.#Cs.push(new Nn(this.#ds.target(),t.backendNodeId,t.nodeType,t.nodeName))}setAssignedSlot(e){this.assignedSlot=new Nn(this.#ds.target(),e.backendNodeId,e.nodeType,e.nodeName)}renumber(){if(!this.childrenInternal)throw new Error("DOMNode._children is expected to not be null.");if(this.childNodeCountInternal=this.childrenInternal.length,0===this.childNodeCountInternal)return this.firstChild=null,void(this.lastChild=null);this.firstChild=this.childrenInternal[0],this.lastChild=this.childrenInternal[this.childNodeCountInternal-1];for(let e=0;e<this.childNodeCountInternal;++e){const t=this.childrenInternal[e];t.index=e,t.nextSibling=e+1<this.childNodeCountInternal?this.childrenInternal[e+1]:null,t.previousSibling=e-1>=0?this.childrenInternal[e-1]:null,t.parentNode=this}}addAttribute(e,t){const n={name:e,value:t,_node:this};this.#Ts.set(e,n)}setAttributeInternal(e,t){const n=this.#Ts.get(e);n?n.value=t:this.addAttribute(e,t)}removeAttributeInternal(e){this.#Ts.delete(e)}copyTo(e,t,n){this.#cs.invoke_copyTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:void 0}).then((e=>{e.getError()||this.#ds.markUndoableState(),n&&n(e.getError()||null,this.#ds.nodeForId(e.nodeId))}))}moveTo(e,t,n){this.#cs.invoke_moveTo({nodeId:this.id,targetNodeId:e.id,insertBeforeNodeId:t?t.id:void 0}).then((e=>{e.getError()||this.#ds.markUndoableState(),n&&n(e.getError()||null,this.#ds.nodeForId(e.nodeId))}))}isXMLNode(){return Boolean(this.#ys)}setMarker(e,t){if(null!==t){if(this.parentNode&&!this.#Rs.has(e))for(let e=this;e;e=e.parentNode)++e.#Ms;this.#Rs.set(e,t);for(let e=this;e;e=e.parentNode)this.#ds.dispatchEventToListeners(Ln.MarkersChanged,e)}else{if(!this.#Rs.has(e))return;this.#Rs.delete(e);for(let e=this;e;e=e.parentNode)--e.#Ms;for(let e=this;e;e=e.parentNode)this.#ds.dispatchEventToListeners(Ln.MarkersChanged,e)}}marker(e){return this.#Rs.get(e)||null}getMarkerKeysForTest(){return[...this.#Rs.keys()]}traverseMarkers(e){!function t(n){if(n.#Ms){for(const t of n.#Rs.keys())e(n,t);if(n.childrenInternal)for(const e of n.childrenInternal)t(e)}}(this)}resolveURL(t){if(!t)return t;for(let n=this;n;n=n.parentNode)if(n instanceof Fn&&n.baseURL)return e.ParsedURL.ParsedURL.completeURL(n.baseURL,t);return null}highlight(e){this.#ds.overlayModel().highlightInOverlay({node:this,selectorList:void 0},e)}highlightForTwoSeconds(){this.#ds.overlayModel().highlightInOverlayForTwoSeconds({node:this,selectorList:void 0})}async resolveToObject(e){const{object:t}=await this.#cs.invoke_resolveNode({nodeId:this.id,backendNodeId:void 0,objectGroup:e});return t&&this.#ds.runtimeModelInternal.createRemoteObject(t)||null}async boxModel(){const{model:e}=await this.#cs.invoke_getBoxModel({nodeId:this.id});return e}async setAsInspectedNode(){let e=this;for(e&&e.pseudoType()&&(e=e.parentNode);e;){let t=e.ancestorUserAgentShadowRoot();if(!t)break;if(t=e.ancestorShadowHost(),!t)break;e=t}if(!e)throw new Error("In DOMNode.setAsInspectedNode: node is expected to not be null.");await this.#cs.invoke_setInspectedNode({nodeId:e.id})}enclosingElementOrSelf(){let e=this;return e&&e.nodeType()===Node.TEXT_NODE&&e.parentNode&&(e=e.parentNode),e&&e.nodeType()!==Node.ELEMENT_NODE&&(e=null),e}async scrollIntoView(){const e=this.enclosingElementOrSelf();if(!e)return;const t=await e.resolveToObject();t&&(t.callFunction((function(){this.scrollIntoViewIfNeeded(!0)})),t.release(),e.highlightForTwoSeconds())}async focus(){const e=this.enclosingElementOrSelf();if(!e)throw new Error("DOMNode.focus expects node to not be null.");const t=await e.resolveToObject();t&&(await t.callFunction((function(){this.focus()})),t.release(),e.highlightForTwoSeconds(),await this.#ds.target().pageAgent().invoke_bringToFront())}simpleSelector(){const e=this.localName()||this.nodeName().toLowerCase();if(this.nodeType()!==Node.ELEMENT_NODE)return e;const t=this.getAttribute("type"),n=this.getAttribute("id"),r=this.getAttribute("class");if("input"===e&&t&&!n&&!r)return e+'[type="'+CSS.escape(t)+'"]';if(n)return e+"#"+CSS.escape(n);if(r){return("div"===e?"":e)+"."+r.trim().split(/\s+/g).map((e=>CSS.escape(e))).join(".")}return e}}!function(e){let t,n;!function(e){e.Before="before",e.After="after",e.Marker="marker",e.PageTransition="page-transition",e.PageTransitionContainer="page-transition-container",e.PageTransitionImageWrapper="page-transition-image-wrapper",e.PageTransitionOutgoingImage="page-transition-outgoing-image",e.PageTransitionIncomingImage="page-transition-incoming-image",e.Backdrop="backdrop"}(t=e.PseudoElementNames||(e.PseudoElementNames={})),function(e){e.UserAgent="user-agent",e.Open="open",e.Closed="closed"}(n=e.ShadowRootTypes||(e.ShadowRootTypes={}))}(An||(An={}));class On{#ds;#us;constructor(e,t){this.#ds=e.model(Dn),this.#us=t}resolve(e){this.resolvePromise().then(e)}async resolvePromise(){const e=await this.#ds.pushNodesByBackendIdsToFrontend(new Set([this.#us]));return e&&e.get(this.#us)||null}backendNodeId(){return this.#us}domModel(){return this.#ds}highlight(){this.#ds.overlayModel().highlightInOverlay({deferredNode:this,selectorList:void 0})}}class Nn{nodeType;nodeName;deferredNode;constructor(e,t,n,r){this.nodeType=n,this.nodeName=r,this.deferredNode=new On(e,t)}}class Fn extends An{body;documentElement;documentURL;baseURL;constructor(e,t){super(e),this.body=null,this.documentElement=null,this.init(this,!1,t),this.documentURL=t.documentURL||"",this.baseURL=t.baseURL||""}}class Dn extends l{agent;idToDOMNode=new Map;#Ps;#Ls;runtimeModelInternal;#Es;#As;#Os;#Ns;#Fs;constructor(e){super(e),this.agent=e.domAgent(),this.#Ps=null,this.#Ls=new Set,e.registerDOMDispatcher(new Bn(this)),this.runtimeModelInternal=e.model(Pr),this.#As=null,e.suspended()||this.agent.invoke_enable({}),a.Runtime.experiments.isEnabled("captureNodeCreationStacks")&&this.agent.invoke_setNodeStackTracesEnabled({enable:!0})}runtimeModel(){return this.runtimeModelInternal}cssModel(){return this.target().model(ln)}overlayModel(){return this.target().model(Rn)}static cancelSearch(){for(const e of G.instance().models(Dn))e.cancelSearch()}scheduleMutationEvent(e){this.hasEventListeners(Ln.DOMMutated)&&(this.#Es=(this.#Es||0)+1,Promise.resolve().then(function(e,t){if(!this.hasEventListeners(Ln.DOMMutated)||this.#Es!==t)return;this.dispatchEventToListeners(Ln.DOMMutated,e)}.bind(this,e,this.#Es)))}requestDocument(){return this.#Ps?Promise.resolve(this.#Ps):(this.#As||(this.#As=this.requestDocumentInternal()),this.#As)}async getOwnerNodeForFrame(e){const t=await this.agent.invoke_getFrameOwner({frameId:e});return t.getError()?null:new On(this.target(),t.backendNodeId)}async requestDocumentInternal(){const e=await this.agent.invoke_getDocument({});if(e.getError())return console.error(e.getError()),null;const{root:t}=e;if(this.#As=null,t&&this.setDocument(t),!this.#Ps)return console.error("No document"),null;const n=this.parentModel();if(n&&!this.#Os){await n.requestDocument();const e=this.target().model(Xn)?.mainFrame;if(e){const t=await n.agent.invoke_getFrameOwner({frameId:e.id});!t.getError()&&t.nodeId&&(this.#Os=n.nodeForId(t.nodeId))}}if(this.#Os){const e=this.#Os.contentDocument();this.#Os.setContentDocument(this.#Ps),this.#Os.setChildren([]),this.#Ps?(this.#Ps.parentNode=this.#Os,this.dispatchEventToListeners(Ln.NodeInserted,this.#Ps)):e&&this.dispatchEventToListeners(Ln.NodeRemoved,{node:e,parent:this.#Os})}return this.#Ps}existingDocument(){return this.#Ps}async pushNodeToFrontend(e){await this.requestDocument();const{nodeId:t}=await this.agent.invoke_requestNode({objectId:e});return t?this.nodeForId(t):null}pushNodeByPathToFrontend(e){return this.requestDocument().then((()=>this.agent.invoke_pushNodeByPathToFrontend({path:e}))).then((({nodeId:e})=>e))}async pushNodesByBackendIdsToFrontend(e){await this.requestDocument();const t=[...e],{nodeIds:n}=await this.agent.invoke_pushNodesByBackendIdsToFrontend({backendNodeIds:t});if(!n)return null;const r=new Map;for(let e=0;e<n.length;++e)n[e]&&r.set(t[e],this.nodeForId(n[e]));return r}attributeModified(e,t,n){const r=this.idToDOMNode.get(e);r&&(r.setAttributeInternal(t,n),this.dispatchEventToListeners(Ln.AttrModified,{node:r,name:t}),this.scheduleMutationEvent(r))}attributeRemoved(e,t){const n=this.idToDOMNode.get(e);n&&(n.removeAttributeInternal(t),this.dispatchEventToListeners(Ln.AttrRemoved,{node:n,name:t}),this.scheduleMutationEvent(n))}inlineStyleInvalidated(e){t.SetUtilities.addAll(this.#Ls,e),this.#Ns||(this.#Ns=window.setTimeout(this.loadNodeAttributes.bind(this),20))}loadNodeAttributes(){this.#Ns=void 0;for(const e of this.#Ls)this.agent.invoke_getAttributes({nodeId:e}).then((({attributes:t})=>{if(!t)return;const n=this.idToDOMNode.get(e);n&&n.setAttributesPayload(t)&&(this.dispatchEventToListeners(Ln.AttrModified,{node:n,name:"style"}),this.scheduleMutationEvent(n))}));this.#Ls.clear()}characterDataModified(e,t){const n=this.idToDOMNode.get(e);n?(n.setNodeValueInternal(t),this.dispatchEventToListeners(Ln.CharacterDataModified,n),this.scheduleMutationEvent(n)):console.error("nodeId could not be resolved to a node")}nodeForId(e){return e&&this.idToDOMNode.get(e)||null}documentUpdated(){const e=this.#As;this.setDocument(null),this.parentModel()&&!e&&this.requestDocument()}setDocument(e){this.idToDOMNode=new Map,this.#Ps=e&&"nodeId"in e?new Fn(this,e):null,Hn.instance().dispose(this),this.parentModel()||this.dispatchEventToListeners(Ln.DocumentUpdated,this)}setDetachedRoot(e){"#document"===e.nodeName?new Fn(this,e):An.create(this,null,!1,e)}setChildNodes(e,t){if(!e&&t.length)return void this.setDetachedRoot(t[0]);this.idToDOMNode.get(e)?.setChildrenPayload(t)}childNodeCountUpdated(e,t){const n=this.idToDOMNode.get(e);n?(n.setChildNodeCount(t),this.dispatchEventToListeners(Ln.ChildNodeCountUpdated,n),this.scheduleMutationEvent(n)):console.error("nodeId could not be resolved to a node")}childNodeInserted(e,t,n){const r=this.idToDOMNode.get(e),s=this.idToDOMNode.get(t);if(!r)return void console.error("parentId could not be resolved to a node");const i=r.insertChild(s,n);this.idToDOMNode.set(i.id,i),this.dispatchEventToListeners(Ln.NodeInserted,i),this.scheduleMutationEvent(i)}childNodeRemoved(e,t){const n=this.idToDOMNode.get(e),r=this.idToDOMNode.get(t);n&&r?(n.removeChild(r),this.unbind(r),this.dispatchEventToListeners(Ln.NodeRemoved,{node:r,parent:n}),this.scheduleMutationEvent(r)):console.error("parentId or nodeId could not be resolved to a node")}shadowRootPushed(e,t){const n=this.idToDOMNode.get(e);if(!n)return;const r=An.create(this,n.ownerDocument,!0,t);r.parentNode=n,this.idToDOMNode.set(r.id,r),n.shadowRootsInternal.unshift(r),this.dispatchEventToListeners(Ln.NodeInserted,r),this.scheduleMutationEvent(r)}shadowRootPopped(e,t){const n=this.idToDOMNode.get(e);if(!n)return;const r=this.idToDOMNode.get(t);r&&(n.removeChild(r),this.unbind(r),this.dispatchEventToListeners(Ln.NodeRemoved,{node:r,parent:n}),this.scheduleMutationEvent(r))}pseudoElementAdded(e,t){const n=this.idToDOMNode.get(e);if(!n)return;const r=An.create(this,n.ownerDocument,!1,t);r.parentNode=n,this.idToDOMNode.set(r.id,r);const s=r.pseudoType();if(!s)throw new Error("DOMModel._pseudoElementAdded expects pseudoType to be defined.");const i=n.pseudoElements().get(s);i?i.push(r):n.pseudoElements().set(s,[r]),this.dispatchEventToListeners(Ln.NodeInserted,r),this.scheduleMutationEvent(r)}topLayerElementsUpdated(){this.dispatchEventToListeners(Ln.TopLayerElementsChanged)}pseudoElementRemoved(e,t){const n=this.idToDOMNode.get(e);if(!n)return;const r=this.idToDOMNode.get(t);r&&(n.removeChild(r),this.unbind(r),this.dispatchEventToListeners(Ln.NodeRemoved,{node:r,parent:n}),this.scheduleMutationEvent(r))}distributedNodesUpdated(e,t){const n=this.idToDOMNode.get(e);n&&(n.setDistributedNodePayloads(t),this.dispatchEventToListeners(Ln.DistributedNodesChanged,n),this.scheduleMutationEvent(n))}unbind(e){this.idToDOMNode.delete(e.id);const t=e.children();for(let e=0;t&&e<t.length;++e)this.unbind(t[e]);for(let t=0;t<e.shadowRootsInternal.length;++t)this.unbind(e.shadowRootsInternal[t]);const n=e.pseudoElements();for(const e of n.values())for(const t of e)this.unbind(t);const r=e.templateContent();r&&this.unbind(r)}async getNodesByStyle(e,t=!1){if(await this.requestDocument(),!this.#Ps)throw new Error("DOMModel.getNodesByStyle expects to have a document.");const n=await this.agent.invoke_getNodesForSubtreeByStyle({nodeId:this.#Ps.id,computedStyles:e,pierce:t});if(n.getError())throw n.getError();return n.nodeIds}async performSearch(e,t){const n=await this.agent.invoke_performSearch({query:e,includeUserAgentShadowDOM:t});return n.getError()||(this.#Fs=n.searchId),n.getError()?0:n.resultCount}async searchResult(e){if(!this.#Fs)return null;const{nodeIds:t}=await this.agent.invoke_getSearchResults({searchId:this.#Fs,fromIndex:e,toIndex:e+1});return t&&1===t.length?this.nodeForId(t[0]):null}cancelSearch(){this.#Fs&&(this.agent.invoke_discardSearchResults({searchId:this.#Fs}),this.#Fs=void 0)}classNamesPromise(e){return this.agent.invoke_collectClassNamesFromSubtree({nodeId:e}).then((({classNames:e})=>e||[]))}querySelector(e,t){return this.agent.invoke_querySelector({nodeId:e,selector:t}).then((({nodeId:e})=>e))}querySelectorAll(e,t){return this.agent.invoke_querySelectorAll({nodeId:e,selector:t}).then((({nodeIds:e})=>e))}getTopLayerElements(){return this.agent.invoke_getTopLayerElements().then((({nodeIds:e})=>e))}markUndoableState(e){Hn.instance().markUndoableState(this,e||!1)}async nodeForLocation(e,t,n){const r=await this.agent.invoke_getNodeForLocation({x:e,y:t,includeUserAgentShadowDOM:n});return r.getError()||!r.nodeId?null:this.nodeForId(r.nodeId)}async getContainerForNode(e,t){const{nodeId:n}=await this.agent.invoke_getContainerForNode({nodeId:e,containerName:t});return n?this.nodeForId(n):null}pushObjectAsNodeToFrontend(e){return e.isNode()&&e.objectId?this.pushNodeToFrontend(e.objectId):Promise.resolve(null)}suspendModel(){return this.agent.invoke_disable().then((()=>this.setDocument(null)))}async resumeModel(){await this.agent.invoke_enable({})}dispose(){Hn.instance().dispose(this)}parentModel(){const e=this.target().parentTarget();return e?e.model(Dn):null}getAgent(){return this.agent}registerNode(e){this.idToDOMNode.set(e.id,e)}}!function(e){e.AttrModified="AttrModified",e.AttrRemoved="AttrRemoved",e.CharacterDataModified="CharacterDataModified",e.DOMMutated="DOMMutated",e.NodeInserted="NodeInserted",e.NodeRemoved="NodeRemoved",e.DocumentUpdated="DocumentUpdated",e.ChildNodeCountUpdated="ChildNodeCountUpdated",e.DistributedNodesChanged="DistributedNodesChanged",e.MarkersChanged="MarkersChanged",e.TopLayerElementsChanged="TopLayerElementsChanged"}(Ln||(Ln={}));class Bn{#gr;constructor(e){this.#gr=e}documentUpdated(){this.#gr.documentUpdated()}attributeModified({nodeId:e,name:t,value:n}){this.#gr.attributeModified(e,t,n)}attributeRemoved({nodeId:e,name:t}){this.#gr.attributeRemoved(e,t)}inlineStyleInvalidated({nodeIds:e}){this.#gr.inlineStyleInvalidated(e)}characterDataModified({nodeId:e,characterData:t}){this.#gr.characterDataModified(e,t)}setChildNodes({parentId:e,nodes:t}){this.#gr.setChildNodes(e,t)}childNodeCountUpdated({nodeId:e,childNodeCount:t}){this.#gr.childNodeCountUpdated(e,t)}childNodeInserted({parentNodeId:e,previousNodeId:t,node:n}){this.#gr.childNodeInserted(e,t,n)}childNodeRemoved({parentNodeId:e,nodeId:t}){this.#gr.childNodeRemoved(e,t)}shadowRootPushed({hostId:e,root:t}){this.#gr.shadowRootPushed(e,t)}shadowRootPopped({hostId:e,rootId:t}){this.#gr.shadowRootPopped(e,t)}pseudoElementAdded({parentId:e,pseudoElement:t}){this.#gr.pseudoElementAdded(e,t)}pseudoElementRemoved({parentId:e,pseudoElementId:t}){this.#gr.pseudoElementRemoved(e,t)}distributedNodesUpdated({insertionPointId:e,distributedNodes:t}){this.#gr.distributedNodesUpdated(e,t)}topLayerElementsUpdated(){this.#gr.topLayerElementsUpdated()}}let Un;class Hn{#Ds;#Ar;#Bs;constructor(){this.#Ds=[],this.#Ar=0,this.#Bs=null}static instance(e={forceNew:null}){const{forceNew:t}=e;return Un&&!t||(Un=new Hn),Un}async markUndoableState(e,t){this.#Bs&&e!==this.#Bs&&(this.#Bs.markUndoableState(),this.#Bs=null),t&&this.#Bs===e||(this.#Ds=this.#Ds.slice(0,this.#Ar),this.#Ds.push(e),this.#Ar=this.#Ds.length,t?this.#Bs=e:(await e.getAgent().invoke_markUndoableState(),this.#Bs=null))}async undo(){if(0===this.#Ar)return Promise.resolve();--this.#Ar,this.#Bs=null,await this.#Ds[this.#Ar].getAgent().invoke_undo()}async redo(){if(this.#Ar>=this.#Ds.length)return Promise.resolve();++this.#Ar,this.#Bs=null,await this.#Ds[this.#Ar-1].getAgent().invoke_redo()}dispose(e){let n=0;for(let t=0;t<this.#Ar;++t)this.#Ds[t]===e&&++n;t.ArrayUtilities.removeElement(this.#Ds,e),this.#Ar-=n,this.#Bs===e&&(this.#Bs=null)}}l.register(Dn,{capabilities:_.DOM,autostart:!0});var qn=Object.freeze({__proto__:null,get DOMNode(){return An},DeferredDOMNode:On,DOMNodeShortcut:Nn,DOMDocument:Fn,DOMModel:Dn,get Events(){return Ln},DOMModelUndoStack:Hn});class _n{#br;#Us;#nt;#fe;#Ie;#ve;#Hs;#lt;#qs;#_s;#zs;#js;#Ws;#Vs;#dt;#Gs;constructor(n,r,s,i,a,o,l,d,c,h){this.#br=n,this.#Us=r,this.url=s,this.#fe=i,this.#Ie=a,this.#ve=o,this.#Hs=l||e.ResourceType.resourceTypes.Other,this.#lt=d,this.#qs=!1,this.#_s=c&&t.DateUtilities.isValid(c)?c:null,this.#zs=h,this.#Vs=[],this.#Us&&!this.#Us.finished&&this.#Us.addEventListener(Ce.FinishedLoading,this.requestFinished,this)}lastModified(){if(this.#_s||!this.#Us)return this.#_s;const e=this.#Us.responseLastModified(),n=e?new Date(e):null;return this.#_s=n&&t.DateUtilities.isValid(n)?n:null,this.#_s}contentSize(){return"number"!=typeof this.#zs&&this.#Us?this.#Us.resourceSize:this.#zs}get request(){return this.#Us}get url(){return this.#nt}set url(t){this.#nt=t,this.#dt=new e.ParsedURL.ParsedURL(t)}get parsedURL(){return this.#dt}get documentURL(){return this.#fe}get frameId(){return this.#Ie}get loaderId(){return this.#ve}get displayName(){return this.#dt?this.#dt.displayName:""}resourceType(){return this.#Us?this.#Us.resourceType():this.#Hs}get mimeType(){return this.#Us?this.#Us.mimeType:this.#lt}get content(){return this.#js}get isGenerated(){return this.#qs}set isGenerated(e){this.#qs=e}contentURL(){return this.#nt}contentType(){return this.resourceType()===e.ResourceType.resourceTypes.Document&&-1!==this.mimeType.indexOf("javascript")?e.ResourceType.resourceTypes.Script:this.resourceType()}async requestContent(){return void 0!==this.#js?{content:this.#js,isEncoded:this.#Ws}:new Promise((e=>{this.#Vs.push(e),this.#Us&&!this.#Us.finished||this.innerRequestContent()}))}canonicalMimeType(){return this.contentType().canonicalMimeType()||this.mimeType}async searchInContent(e,t,n){if(!this.frameId)return[];if(this.request)return this.request.searchInContent(e,t,n);return(await this.#br.target().pageAgent().invoke_searchInResource({frameId:this.frameId,url:this.url,query:e,caseSensitive:t,isRegex:n})).result||[]}async populateImageSource(e){const{content:t}=await this.requestContent(),r=this.#Ws;e.src=n.ContentProvider.contentAsDataURL(t,this.#lt,r)||this.#nt}requestFinished(){this.#Us&&this.#Us.removeEventListener(Ce.FinishedLoading,this.requestFinished,this),this.#Vs.length&&this.innerRequestContent()}async innerRequestContent(){if(this.#Gs)return;this.#Gs=!0;let e=null;if(this.request){const t=await this.request.contentData();t.error||(this.#js=t.content,this.#Ws=t.encoded,e={content:t.content,isEncoded:t.encoded})}if(!e){const t=await this.#br.target().pageAgent().invoke_getResourceContent({frameId:this.frameId,url:this.url}),n=t.getError();n?(this.#js=null,e={content:null,error:n,isEncoded:!1}):(this.#js=t.content,e={content:t.content,isEncoded:t.base64Encoded}),this.#Ws=t.base64Encoded}null===this.#js&&(this.#Ws=!1);for(const t of this.#Vs.splice(0))t(e);this.#Gs=void 0}hasTextContent(){return!!this.#Hs.isTextType()||this.#Hs===e.ResourceType.resourceTypes.Other&&(Boolean(this.#js)&&!this.#Ws)}frame(){return this.#Ie?this.#br.frameForId(this.#Ie):null}statusCode(){return this.#Us?this.#Us.statusCode:0}}var zn,jn=Object.freeze({__proto__:null,Resource:_n});class Wn extends l{#Ks;#Qs;#$s;constructor(e){super(e),this.#Ks="",this.#Qs="",this.#$s=new Set}updateSecurityOrigins(e){const t=this.#$s;this.#$s=e;for(const e of t)this.#$s.has(e)||this.dispatchEventToListeners(zn.SecurityOriginRemoved,e);for(const e of this.#$s)t.has(e)||this.dispatchEventToListeners(zn.SecurityOriginAdded,e)}securityOrigins(){return[...this.#$s]}mainSecurityOrigin(){return this.#Ks}unreachableMainSecurityOrigin(){return this.#Qs}setMainSecurityOrigin(e,t){this.#Ks=e,this.#Qs=t||null,this.dispatchEventToListeners(zn.MainSecurityOriginChanged,{mainSecurityOrigin:this.#Ks,unreachableMainSecurityOrigin:this.#Qs})}}!function(e){e.SecurityOriginAdded="SecurityOriginAdded",e.SecurityOriginRemoved="SecurityOriginRemoved",e.MainSecurityOriginChanged="MainSecurityOriginChanged"}(zn||(zn={})),l.register(Wn,{capabilities:_.None,autostart:!1});var Vn,Gn=Object.freeze({__proto__:null,SecurityOriginManager:Wn,get Events(){return zn}});class Kn extends l{#Xs;#Js;constructor(e){super(e),this.#Xs="",this.#Js=new Set}updateStorageKeys(e){const t=this.#Js;this.#Js=e;for(const e of t)this.#Js.has(e)||this.dispatchEventToListeners(Vn.StorageKeyRemoved,e);for(const e of this.#Js)t.has(e)||this.dispatchEventToListeners(Vn.StorageKeyAdded,e)}storageKeys(){return[...this.#Js]}mainStorageKey(){return this.#Xs}setMainStorageKey(e){this.#Xs=e,this.dispatchEventToListeners(Vn.MainStorageKeyChanged,{mainStorageKey:this.#Xs})}}!function(e){e.StorageKeyAdded="StorageKeyAdded",e.StorageKeyRemoved="StorageKeyRemoved",e.MainStorageKeyChanged="MainStorageKeyChanged"}(Vn||(Vn={})),l.register(Kn,{capabilities:_.None,autostart:!1});var Qn,$n=Object.freeze({__proto__:null,StorageKeyManager:Kn,get Events(){return Vn}});class Xn extends l{agent;storageAgent;#Ys;#Zs;framesInternal;#ei;#ti;#ni;isInterstitialShowing;mainFrame;#ri;#si;constructor(e){super(e);const t=e.model(te);t&&(t.addEventListener(ne.RequestFinished,this.onRequestFinished,this),t.addEventListener(ne.RequestUpdateDropped,this.onRequestUpdateDropped,this)),this.agent=e.pageAgent(),this.storageAgent=e.storageAgent(),this.agent.invoke_enable(),this.#Ys=e.model(Wn),this.#Zs=e.model(Kn),this.#ri=new Set,this.#si=new Set,e.registerPageDispatcher(new Yn(this)),this.framesInternal=new Map,this.#ei=!1,this.#ti=null,this.#ni=0,this.isInterstitialShowing=!1,this.mainFrame=null,this.agent.invoke_getResourceTree().then((e=>{this.processCachedResources(e.getError()?null:e.frameTree)}))}static frameForRequest(e){const t=te.forRequest(e),n=t?t.target().model(Xn):null;return n&&e.frameId?n.frameForId(e.frameId):null}static frames(){const e=[];for(const t of G.instance().models(Xn))e.push(...t.framesInternal.values());return e}static resourceForURL(e){for(const t of G.instance().models(Xn)){const n=t.mainFrame,r=n?n.resourceForURL(e):null;if(r)return r}return null}static reloadAllPages(e,t){for(const n of G.instance().models(Xn))n.target().parentTarget()||n.reloadPage(e,t)}async storageKeyForFrame(e){const t=await this.storageAgent.invoke_getStorageKeyForFrame({frameId:e});return"Frame tree node for given frame not found"===t.getError()?null:t.storageKey}domModel(){return this.target().model(Dn)}processCachedResources(e){e&&":"!==e.frame.url&&(this.dispatchEventToListeners(Qn.WillLoadCachedResources),this.addFramesRecursively(null,e),this.target().setInspectedURL(e.frame.url)),this.#ei=!0;const t=this.target().model(Pr);t&&(t.setExecutionContextComparator(this.executionContextComparator.bind(this)),t.fireExecutionContextOrderChanged()),this.dispatchEventToListeners(Qn.CachedResourcesLoaded,this)}cachedResourcesLoaded(){return this.#ei}addFrame(e,t){this.framesInternal.set(e.id,e),e.isMainFrame()&&(this.mainFrame=e),this.dispatchEventToListeners(Qn.FrameAdded,e),this.updateSecurityOrigins(),this.updateStorageKeys()}frameAttached(e,t,n,r){const s=t&&this.framesInternal.get(t)||null;if(!this.#ei&&s)return null;if(this.framesInternal.has(e))return null;const i=new Jn(this,s,e,null,n||null,r||null);return t&&!s&&(i.crossTargetParentFrameId=t),i.isMainFrame()&&this.mainFrame&&this.frameDetached(this.mainFrame.id,!1),this.addFrame(i,!0),i}frameNavigated(e,t){const n=e.parentId&&this.framesInternal.get(e.parentId)||null;if(!this.#ei&&n)return;let r=this.framesInternal.get(e.id)||null;if(!r&&(r=this.frameAttached(e.id,e.parentId||null),console.assert(Boolean(r)),!r))return;if(this.dispatchEventToListeners(Qn.FrameWillNavigate,r),r.navigate(e),t&&(r.backForwardCacheDetails.restoredFromCache="BackForwardCacheRestore"===t),this.dispatchEventToListeners(Qn.FrameNavigated,r),r.isMainFrame()){this.processPendingEvents(r),this.dispatchEventToListeners(Qn.MainFrameNavigated,r);const e=this.target().model(te);e&&r.isTopFrame()&&e.clearRequests()}const s=r.resources();for(let e=0;e<s.length;++e)this.dispatchEventToListeners(Qn.ResourceAdded,s[e]);r.isMainFrame()&&this.target().setInspectedURL(r.url),this.updateSecurityOrigins(),this.updateStorageKeys()}documentOpened(t){this.frameNavigated(t,void 0);const n=this.framesInternal.get(t.id);if(n&&!n.getResourcesMap().get(t.url)){const r=this.createResourceFromFramePayload(t,t.url,e.ResourceType.resourceTypes.Document,t.mimeType,null,null);r.isGenerated=!0,n.addResource(r)}}frameDetached(e,t){if(!this.#ei)return;const n=this.framesInternal.get(e);if(!n)return;const r=n.sameTargetParentFrame();r?r.removeChildFrame(n,t):n.remove(t),this.updateSecurityOrigins(),this.updateStorageKeys()}onRequestFinished(t){if(!this.#ei)return;const n=t.data;if(n.failed||n.resourceType()===e.ResourceType.resourceTypes.XHR)return;const r=n.frameId?this.framesInternal.get(n.frameId):null;r&&r.addRequest(n)}onRequestUpdateDropped(t){if(!this.#ei)return;const n=t.data,r=n.frameId;if(!r)return;const s=this.framesInternal.get(r);if(!s)return;const i=n.url;if(s.getResourcesMap().get(i))return;const a=new _n(this,null,i,s.url,r,n.loaderId,e.ResourceType.resourceTypes[n.resourceType],n.mimeType,n.lastModified,null);s.addResource(a)}frameForId(e){return this.framesInternal.get(e)||null}forAllResources(e){return!!this.mainFrame&&this.mainFrame.callForFrameResources(e)}frames(){return[...this.framesInternal.values()]}resourceForURL(e){return this.mainFrame?this.mainFrame.resourceForURL(e):null}addFramesRecursively(t,n){const r=n.frame,s=new Jn(this,t,r.id,r,null,null);!t&&r.parentId&&(s.crossTargetParentFrameId=r.parentId),this.addFrame(s);for(const e of n.childFrames||[])this.addFramesRecursively(s,e);for(let t=0;t<n.resources.length;++t){const i=n.resources[t],a=this.createResourceFromFramePayload(r,i.url,e.ResourceType.resourceTypes[i.type],i.mimeType,i.lastModified||null,i.contentSize||null);s.addResource(a)}if(!s.getResourcesMap().get(r.url)){const t=this.createResourceFromFramePayload(r,r.url,e.ResourceType.resourceTypes.Document,r.mimeType,null,null);s.addResource(t)}}createResourceFromFramePayload(e,t,n,r,s,i){const a="number"==typeof s?new Date(1e3*s):null;return new _n(this,null,t,e.url,e.id,e.loaderId,n,r,a,i)}suspendReload(){this.#ni++}resumeReload(){if(this.#ni--,console.assert(this.#ni>=0,"Unbalanced call to ResourceTreeModel.resumeReload()"),!this.#ni&&this.#ti){const{ignoreCache:e,scriptToEvaluateOnLoad:t}=this.#ti;this.reloadPage(e,t)}}reloadPage(e,t){if(this.#ti||this.dispatchEventToListeners(Qn.PageReloadRequested,this),this.#ni)return void(this.#ti={ignoreCache:e,scriptToEvaluateOnLoad:t});this.#ti=null;const n=this.target().model(te);n&&n.clearRequests(),this.dispatchEventToListeners(Qn.WillReloadPage),this.agent.invoke_reload({ignoreCache:e,scriptToEvaluateOnLoad:t})}navigate(e){return this.agent.invoke_navigate({url:e})}async navigationHistory(){const e=await this.agent.invoke_getNavigationHistory();return e.getError()?null:{currentIndex:e.currentIndex,entries:e.entries}}navigateToHistoryEntry(e){this.agent.invoke_navigateToHistoryEntry({entryId:e.id})}setLifecycleEventsEnabled(e){return this.agent.invoke_setLifecycleEventsEnabled({enabled:e})}async fetchAppManifest(){const e=await this.agent.invoke_getAppManifest();return e.getError()?{url:e.url,data:null,errors:[]}:{url:e.url,data:e.data||null,errors:e.errors}}async getInstallabilityErrors(){return(await this.agent.invoke_getInstallabilityErrors()).installabilityErrors||[]}async getManifestIcons(){return{primaryIcon:(await this.agent.invoke_getManifestIcons()).primaryIcon||null}}async getAppId(){return this.agent.invoke_getAppId()}executionContextComparator(e,t){function n(e){let t=e;const n=[];for(;t;)n.push(t),t=t.sameTargetParentFrame();return n.reverse()}if(e.target()!==t.target())return Or.comparator(e,t);const r=e.frameId?n(this.frameForId(e.frameId)):[],s=t.frameId?n(this.frameForId(t.frameId)):[];let i,a;for(let e=0;;e++)if(!r[e]||!s[e]||r[e]!==s[e]){i=r[e],a=s[e];break}return!i&&a?-1:!a&&i?1:i&&a?i.id.localeCompare(a.id):Or.comparator(e,t)}getSecurityOriginData(){const t=new Set;let n=null,r=null;for(const s of this.framesInternal.values()){const i=s.securityOrigin;if(i&&(t.add(i),s.isMainFrame()&&(n=i,s.unreachableUrl()))){r=new e.ParsedURL.ParsedURL(s.unreachableUrl()).securityOrigin()}}return{securityOrigins:t,mainSecurityOrigin:n,unreachableMainSecurityOrigin:r}}async getStorageKeyData(){const e=new Set;let t=null;for(const{isMainFrame:n,storageKey:r}of await Promise.all([...this.framesInternal.values()].map((async e=>e.storageKey.then((t=>({isMainFrame:e.isMainFrame(),storageKey:t})))))))n&&(t=r),r&&e.add(r);return{storageKeys:e,mainStorageKey:t}}updateSecurityOrigins(){const e=this.getSecurityOriginData();this.#Ys.setMainSecurityOrigin(e.mainSecurityOrigin||"",e.unreachableMainSecurityOrigin||""),this.#Ys.updateSecurityOrigins(e.securityOrigins)}async updateStorageKeys(){const e=await this.getStorageKeyData();this.#Zs.setMainStorageKey(e.mainStorageKey||""),this.#Zs.updateStorageKeys(e.storageKeys)}async getMainStorageKey(){return this.mainFrame?this.mainFrame.storageKey:null}getMainSecurityOrigin(){const e=this.getSecurityOriginData();return e.mainSecurityOrigin||e.unreachableMainSecurityOrigin}onBackForwardCacheNotUsed(e){this.mainFrame&&this.mainFrame.id===e.frameId&&this.mainFrame.loaderId===e.loaderId?(this.mainFrame.setBackForwardCacheDetails(e),this.dispatchEventToListeners(Qn.BackForwardCacheDetailsUpdated,this.mainFrame)):this.#ri.add(e)}onPrerenderAttemptCompleted(e){this.mainFrame&&this.mainFrame.id===e.initiatingFrameId?(this.mainFrame.setPrerenderFinalStatus(e.finalStatus),this.dispatchEventToListeners(Qn.PrerenderingStatusUpdated,this.mainFrame)):this.#si.add(e)}processPendingEvents(e){if(e.isMainFrame()){for(const t of this.#ri)if(e.id===t.frameId&&e.loaderId===t.loaderId){e.setBackForwardCacheDetails(t),this.#ri.delete(t);break}for(const t of this.#si)if(e.id===t.initiatingFrameId){e.setPrerenderFinalStatus(t.finalStatus),this.#si.delete(t);break}}}}!function(e){e.FrameAdded="FrameAdded",e.FrameNavigated="FrameNavigated",e.FrameDetached="FrameDetached",e.FrameResized="FrameResized",e.FrameWillNavigate="FrameWillNavigate",e.MainFrameNavigated="MainFrameNavigated",e.ResourceAdded="ResourceAdded",e.WillLoadCachedResources="WillLoadCachedResources",e.CachedResourcesLoaded="CachedResourcesLoaded",e.DOMContentLoaded="DOMContentLoaded",e.LifecycleEvent="LifecycleEvent",e.Load="Load",e.PageReloadRequested="PageReloadRequested",e.WillReloadPage="WillReloadPage",e.InterstitialShown="InterstitialShown",e.InterstitialHidden="InterstitialHidden",e.BackForwardCacheDetailsUpdated="BackForwardCacheDetailsUpdated",e.PrerenderingStatusUpdated="PrerenderingStatusUpdated"}(Qn||(Qn={}));class Jn{#Or;#ii;#L;crossTargetParentFrameId;#ve;#h;#nt;#ai;#oi;#li;#di;#ci;#hi;#ui;#gi;#pi;#mi;#bi;#fi;#Ii;resourcesMap;backForwardCacheDetails={restoredFromCache:void 0,explanations:[],explanationsTree:void 0};prerenderFinalStatus;constructor(e,n,r,s,i,a){this.#Or=e,this.#ii=n,this.#L=r,this.crossTargetParentFrameId=null,this.#ve=s&&s.loaderId||"",this.#h=s&&s.name,this.#nt=s&&s.url||t.DevToolsPath.EmptyUrlString,this.#ai=s&&s.domainAndRegistry||"",this.#oi=s&&s.securityOrigin,this.#di=s&&s.unreachableUrl||t.DevToolsPath.EmptyUrlString,this.#ci=s?.adFrameStatus,this.#hi=s&&s.secureContextType,this.#ui=s&&s.crossOriginIsolatedContextType,this.#gi=s&&s.gatedAPIFeatures,this.#pi=i,this.#mi=null,this.#fi=a?.scriptId||null,this.#Ii=a?.debuggerId||null,this.#bi=new Set,this.resourcesMap=new Map,this.prerenderFinalStatus=null,this.#ii&&this.#ii.#bi.add(this)}isSecureContext(){return null!==this.#hi&&this.#hi.startsWith("Secure")}getSecureContextType(){return this.#hi}isCrossOriginIsolated(){return null!==this.#ui&&this.#ui.startsWith("Isolated")}getCrossOriginIsolatedContextType(){return this.#ui}getGatedAPIFeatures(){return this.#gi}getCreationStackTraceData(){return{creationStackTrace:this.#pi,creationStackTraceTarget:this.#mi||this.resourceTreeModel().target()}}navigate(e){this.#ve=e.loaderId,this.#h=e.name,this.#nt=e.url,this.#ai=e.domainAndRegistry,this.#oi=e.securityOrigin,this.#di=e.unreachableUrl||t.DevToolsPath.EmptyUrlString,this.#ci=e?.adFrameStatus,this.#hi=e.secureContextType,this.#ui=e.crossOriginIsolatedContextType,this.#gi=e.gatedAPIFeatures,this.backForwardCacheDetails={restoredFromCache:void 0,explanations:[],explanationsTree:void 0};const n=this.resourcesMap.get(this.#nt);this.resourcesMap.clear(),this.removeChildFrames(),n&&n.loaderId===this.#ve&&this.addResource(n)}resourceTreeModel(){return this.#Or}get id(){return this.#L}get name(){return this.#h||""}get url(){return this.#nt}domainAndRegistry(){return this.#ai}getAdScriptId(){return this.#fi}setAdScriptId(e){this.#fi=e}getDebuggerId(){return this.#Ii}setDebuggerId(e){this.#Ii=e}get securityOrigin(){return this.#oi}get storageKey(){return this.#li||(this.#li=this.#Or.storageKeyForFrame(this.#L)),this.#li}unreachableUrl(){return this.#di}get loaderId(){return this.#ve}adFrameType(){return this.#ci?.adFrameType||"none"}adFrameStatus(){return this.#ci}get childFrames(){return[...this.#bi]}sameTargetParentFrame(){return this.#ii}crossTargetParentFrame(){if(!this.crossTargetParentFrameId)return null;const e=this.#Or.target().parentTarget();if(!e)return null;const t=e.model(Xn);return t&&t.framesInternal.get(this.crossTargetParentFrameId)||null}parentFrame(){return this.sameTargetParentFrame()||this.crossTargetParentFrame()}isMainFrame(){return!this.#ii}isTopFrame(){return!this.#Or.target().parentTarget()&&!this.#ii&&!this.crossTargetParentFrameId}removeChildFrame(e,t){this.#bi.delete(e),e.remove(t)}removeChildFrames(){const e=this.#bi;this.#bi=new Set;for(const t of e)t.remove(!1)}remove(e){this.removeChildFrames(),this.#Or.framesInternal.delete(this.id),this.#Or.dispatchEventToListeners(Qn.FrameDetached,{frame:this,isSwap:e})}addResource(e){this.resourcesMap.get(e.url)!==e&&(this.resourcesMap.set(e.url,e),this.#Or.dispatchEventToListeners(Qn.ResourceAdded,e))}addRequest(e){let t=this.resourcesMap.get(e.url());t&&t.request===e||(t=new _n(this.#Or,e,e.url(),e.documentURL,e.frameId,e.loaderId,e.resourceType(),e.mimeType,null,null),this.resourcesMap.set(t.url,t),this.#Or.dispatchEventToListeners(Qn.ResourceAdded,t))}resources(){return Array.from(this.resourcesMap.values())}resourceForURL(e){const t=this.resourcesMap.get(e);if(t)return t;for(const t of this.#bi){const n=t.resourceForURL(e);if(n)return n}return null}callForFrameResources(e){for(const t of this.resourcesMap.values())if(e(t))return!0;for(const t of this.#bi)if(t.callForFrameResources(e))return!0;return!1}displayName(){if(this.isTopFrame())return r.i18n.lockedString("top");const t=new e.ParsedURL.ParsedURL(this.#nt).displayName;return t?this.#h?this.#h+" ("+t+")":t:r.i18n.lockedString("iframe")}async getOwnerDeferredDOMNode(){const e=this.parentFrame();return e?e.resourceTreeModel().domModel().getOwnerNodeForFrame(this.#L):null}async getOwnerDOMNodeOrDocument(){const e=await this.getOwnerDeferredDOMNode();return e?e.resolvePromise():this.isTopFrame()?this.resourceTreeModel().domModel().requestDocument():null}async highlight(){const e=this.parentFrame(),t=this.resourceTreeModel().target().parentTarget(),n=async e=>{const t=await e.getOwnerNodeForFrame(this.#L);t&&e.overlayModel().highlightInOverlay({deferredNode:t,selectorList:""},"all",!0)};if(e)return n(e.resourceTreeModel().domModel());if(t){const e=t.model(Dn);if(e)return n(e)}const r=await this.resourceTreeModel().domModel().requestDocument();r&&this.resourceTreeModel().domModel().overlayModel().highlightInOverlay({node:r,selectorList:""},"all",!0)}async getPermissionsPolicyState(){const e=await this.resourceTreeModel().target().pageAgent().invoke_getPermissionsPolicyState({frameId:this.#L});return e.getError()?null:e.states}async getOriginTrials(){const e=await this.resourceTreeModel().target().pageAgent().invoke_getOriginTrials({frameId:this.#L});return e.getError()?[]:e.originTrials}setCreationStackTrace(e){this.#pi=e.creationStackTrace,this.#mi=e.creationStackTraceTarget}setBackForwardCacheDetails(e){this.backForwardCacheDetails.restoredFromCache=!1,this.backForwardCacheDetails.explanations=e.notRestoredExplanations,this.backForwardCacheDetails.explanationsTree=e.notRestoredExplanationsTree}getResourcesMap(){return this.resourcesMap}setPrerenderFinalStatus(e){this.prerenderFinalStatus=e}}class Yn{#br;constructor(e){this.#br=e}backForwardCacheNotUsed(e){this.#br.onBackForwardCacheNotUsed(e)}domContentEventFired({timestamp:e}){this.#br.dispatchEventToListeners(Qn.DOMContentLoaded,e)}loadEventFired({timestamp:e}){this.#br.dispatchEventToListeners(Qn.Load,{resourceTreeModel:this.#br,loadTime:e})}lifecycleEvent({frameId:e,name:t}){this.#br.dispatchEventToListeners(Qn.LifecycleEvent,{frameId:e,name:t})}frameAttached({frameId:e,parentFrameId:t,stack:n,adScriptId:r}){this.#br.frameAttached(e,t,n,r)}frameNavigated({frame:e,type:t}){this.#br.frameNavigated(e,t)}documentOpened({frame:e}){this.#br.documentOpened(e)}frameDetached({frameId:e,reason:t}){this.#br.frameDetached(e,"swap"===t)}frameStartedLoading({}){}frameStoppedLoading({}){}frameRequestedNavigation({}){}frameScheduledNavigation({}){}frameClearedScheduledNavigation({}){}navigatedWithinDocument({}){}frameResized(){this.#br.dispatchEventToListeners(Qn.FrameResized)}javascriptDialogOpening({hasBrowserHandler:e}){e||this.#br.agent.invoke_handleJavaScriptDialog({accept:!1})}javascriptDialogClosed({}){}screencastFrame({}){}screencastVisibilityChanged({}){}interstitialShown(){this.#br.isInterstitialShowing=!0,this.#br.dispatchEventToListeners(Qn.InterstitialShown)}interstitialHidden(){this.#br.isInterstitialShowing=!1,this.#br.dispatchEventToListeners(Qn.InterstitialHidden)}windowOpen({}){}compilationCacheProduced({}){}fileChooserOpened({}){}downloadWillBegin({}){}downloadProgress(){}prerenderAttemptCompleted(e){this.#br.onPrerenderAttemptCompleted(e)}}l.register(Xn,{capabilities:_.DOM,autostart:!0,early:!0});var Zn=Object.freeze({__proto__:null,ResourceTreeModel:Xn,get Events(){return Qn},ResourceTreeFrame:Jn,PageDispatcher:Yn});const er={scriptRemovedOrDeleted:"Script removed or deleted.",unableToFetchScriptSource:"Unable to fetch script source."},tr=r.i18n.registerUIStrings("core/sdk/Script.ts",er),nr=r.i18n.getLocalizedString.bind(void 0,tr);class rr{debuggerModel;scriptId;sourceURL;lineOffset;columnOffset;endLine;endColumn;executionContextId;hash;#vi;#yi;sourceMapURL;debugSymbols;hasSourceURL;contentLength;originStackTrace;#Si;#ki;#wi;#Ci;isModule;constructor(e,t,n,r,s,i,a,o,l,d,c,h,u,g,p,m,b,f,I,v){this.debuggerModel=e,this.scriptId=t,this.sourceURL=n,this.lineOffset=r,this.columnOffset=s,this.endLine=i,this.endColumn=a,this.isModule=p,this.executionContextId=o,this.hash=l,this.#vi=d,this.#yi=c,this.sourceMapURL=h,this.debugSymbols=I,this.hasSourceURL=u,this.contentLength=g,this.originStackTrace=m,this.#Si=b,this.#ki=f,this.#wi=null,this.#Ci=v}embedderName(){return this.#Ci}target(){return this.debuggerModel.target()}static trimSourceURLComment(e){let t=e.lastIndexOf("//# sourceURL=");if(-1===t&&(t=e.lastIndexOf("//@ sourceURL="),-1===t))return e;const n=e.lastIndexOf("\n",t);if(-1===n)return e;return e.substr(n+1).match(ir)?e.substr(0,n):e}isContentScript(){return this.#vi}codeOffset(){return this.#Si}isJavaScript(){return"JavaScript"===this.#ki}isWasm(){return"WebAssembly"===this.#ki}scriptLanguage(){return this.#ki}executionContext(){return this.debuggerModel.runtimeModel().executionContext(this.executionContextId)}isLiveEdit(){return this.#yi}contentURL(){return this.sourceURL}contentType(){return e.ResourceType.resourceTypes.Script}async loadTextContent(){const e=await this.debuggerModel.target().debuggerAgent().invoke_getScriptSource({scriptId:this.scriptId});if(e.getError())throw new Error(e.getError());const{scriptSource:t,bytecode:n}=e;if(n)return{content:n,isEncoded:!0};let r=t||"";return this.hasSourceURL&&this.sourceURL.startsWith("snippet://")&&(r=rr.trimSourceURLComment(r)),{content:r,isEncoded:!1}}async loadWasmContent(){if(!this.isWasm())throw new Error("Not a wasm script");const t=await this.debuggerModel.target().debuggerAgent().invoke_disassembleWasmModule({scriptId:this.scriptId});if(t.getError())return this.loadTextContent();const{streamId:n,functionBodyOffsets:r,chunk:{lines:s,bytecodeOffsets:i}}=t,a=[],o=[];if(n)for(;;){const e=await this.debuggerModel.target().debuggerAgent().invoke_nextWasmDisassemblyChunk({streamId:n});if(e.getError())throw new Error(e.getError());const{chunk:{lines:t,bytecodeOffsets:r}}=e;if(0===t.length)break;a.push(t),o.push(r)}const l=[];for(let e=0;e<r.length;e+=2)l.push({start:r[e],end:r[e+1]});return{content:"",isEncoded:!1,wasmDisassemblyInfo:new e.WasmDisassembly.WasmDisassembly(s.concat(...a),i.concat(...o),l)}}requestContent(){return this.#wi||(this.#wi=(async()=>{if(!this.scriptId)return{content:null,error:nr(er.scriptRemovedOrDeleted),isEncoded:!1};try{return this.isWasm()?await this.loadWasmContent():await this.loadTextContent()}catch(e){return{content:null,error:nr(er.unableToFetchScriptSource),isEncoded:!1}}})()),this.#wi}async getWasmBytecode(){const e=await this.debuggerModel.target().debuggerAgent().invoke_getWasmBytecode({scriptId:this.scriptId});return(await fetch(`data:application/wasm;base64,${e.bytecode}`)).arrayBuffer()}originalContentProvider(){return new n.StaticContentProvider.StaticContentProvider(this.contentURL(),this.contentType(),(()=>this.requestContent()))}async searchInContent(e,t,r){if(!this.scriptId)return[];return((await this.debuggerModel.target().debuggerAgent().invoke_searchInContent({scriptId:this.scriptId,query:e,caseSensitive:t,isRegex:r})).result||[]).map((e=>new n.ContentProvider.SearchMatch(e.lineNumber,e.lineContent)))}appendSourceURLCommentIfNeeded(e){return this.hasSourceURL?e+"\n //# sourceURL="+this.sourceURL:e}async editSource(e){e=rr.trimSourceURLComment(e),e=this.appendSourceURLCommentIfNeeded(e);const{content:t}=await this.requestContent();if(t===e)return{status:"Ok"};const n=await this.debuggerModel.target().debuggerAgent().invoke_setScriptSource({scriptId:this.scriptId,scriptSource:e,allowTopFrameEditing:!0});if(n.getError())throw new Error(`Script#editSource failed for script with id ${this.scriptId}: ${n.getError()}`);return n.getError()||"Ok"!==n.status||(this.#wi=Promise.resolve({content:e,isEncoded:!1})),{status:n.status,exceptionDetails:n.exceptionDetails}}rawLocation(e,t){return this.containsLocation(e,t)?new fr(this.debuggerModel,this.scriptId,e,t):null}toRelativeLocation(e){console.assert(e.scriptId===this.scriptId,"`toRelativeLocation` must be used with location of the same script");const t=e.lineNumber-this.lineOffset;return[t,(e.columnNumber||0)-(0===t?this.columnOffset:0)]}isInlineScript(){const e=!this.lineOffset&&!this.columnOffset;return!this.isWasm()&&Boolean(this.sourceURL)&&!e}isAnonymousScript(){return!this.sourceURL}async setBlackboxedRanges(e){return!(await this.debuggerModel.target().debuggerAgent().invoke_setBlackboxedRanges({scriptId:this.scriptId,positions:e})).getError()}containsLocation(e,t){const n=e===this.lineOffset&&t>=this.columnOffset||e>this.lineOffset,r=e<this.endLine||e===this.endLine&&t<=this.endColumn;return n&&r}get frameId(){return"string"!=typeof this[sr]&&(this[sr]=function(e){const t=e.executionContext();if(t)return t.frameId||null;const n=e.debuggerModel.target().model(Xn);if(!n||!n.mainFrame)return null;return n.mainFrame.id}(this)),this[sr]}createPageResourceLoadInitiator(){return{target:this.target(),frameId:this.frameId,initiatorUrl:this.embedderName()}}}const sr=Symbol("frameid");const ir=/^[\040\t]*\/\/[@#] sourceURL=\s*(\S*?)\s*$/;var ar=Object.freeze({__proto__:null,Script:rr,sourceURLRegex:ir});const or={local:"Local",closure:"Closure",block:"Block",script:"Script",withBlock:"`With` block",catchBlock:"`Catch` block",global:"Global",module:"Module",expression:"Expression"},lr=r.i18n.registerUIStrings("core/sdk/DebuggerModel.ts",or),dr=r.i18n.getLocalizedString.bind(void 0,lr);function cr(e){if(0===e.length)return[];e.sort(vr.comparator);let t=e[0];const n=[];for(let r=1;r<e.length;++r){const s=e[r];if(t.overlap(s)){const e=t.end.compareTo(s.end)>0?t.end:s.end;t=new vr(t.scriptId,t.start,e)}else n.push(t),t=s}return n.push(t),n}var hr;!function(e){e.StepInto="StepInto",e.StepOut="StepOut",e.StepOver="StepOver"}(hr||(hr={}));class ur extends l{agent;runtimeModelInternal;#Ti;#Ri;#Mi;#xi;#Pi;#Li;continueToLocationCallback;#Ei;#Ai;#Ii;#Oi;#Ni;#Fi;#Di;evaluateOnCallFrameCallback;#Bi;#Ui=new e.ObjectWrapper.ObjectWrapper;#Hi;#qi;constructor(t){super(t),t.registerDebuggerDispatcher(new br(this)),this.agent=t.debuggerAgent(),this.runtimeModelInternal=t.model(Pr),this.#Ti=new rn(t),this.#Ri=new Map,this.#Mi=null,this.#xi=new Map,this.#Pi=new Map,this.#Li=[],this.continueToLocationCallback=null,this.#Ei=null,this.#Ai=!1,this.#Ii=null,this.#Oi=0,this.#Ni=null,this.#Fi=null,this.#Di=null,this.evaluateOnCallFrameCallback=null,this.#Bi=null,this.#Hi=!1,this.#qi=!1,e.Settings.Settings.instance().moduleSetting("pauseOnExceptionEnabled").addChangeListener(this.pauseOnExceptionStateChanged,this),e.Settings.Settings.instance().moduleSetting("pauseOnCaughtException").addChangeListener(this.pauseOnExceptionStateChanged,this),e.Settings.Settings.instance().moduleSetting("disableAsyncStackTraces").addChangeListener(this.asyncStackTracesStateChanged,this),e.Settings.Settings.instance().moduleSetting("breakpointsActive").addChangeListener(this.breakpointsActiveChanged,this),t.suspended()||this.enableDebugger(),this.#Ti.setEnabled(e.Settings.Settings.instance().moduleSetting("jsSourceMapsEnabled").get()),e.Settings.Settings.instance().moduleSetting("jsSourceMapsEnabled").addChangeListener((e=>this.#Ti.setEnabled(e.data)));const n=t.model(Xn);n&&n.addEventListener(Qn.FrameNavigated,this.onFrameNavigated,this)}static sourceMapId(e,t,n){return n?e+":"+t+":"+n:null}sourceMapManager(){return this.#Ti}runtimeModel(){return this.runtimeModelInternal}debuggerEnabled(){return Boolean(this.#Ai)}debuggerId(){return this.#Ii}async enableDebugger(){if(this.#Ai)return;this.#Ai=!0;const t=a.Runtime.Runtime.queryParam("remoteFrontend")||a.Runtime.Runtime.queryParam("ws")?1e7:1e8,n=this.agent.invoke_enable({maxScriptsCacheSize:t});let r;a.Runtime.experiments.isEnabled(a.Runtime.ExperimentName.INSTRUMENTATION_BREAKPOINTS)&&(r=this.agent.invoke_setInstrumentationBreakpoint({instrumentation:"beforeScriptExecution"})),this.pauseOnExceptionStateChanged(),this.asyncStackTracesStateChanged(),e.Settings.Settings.instance().moduleSetting("breakpointsActive").get()||this.breakpointsActiveChanged(),this.dispatchEventToListeners(mr.DebuggerWasEnabled,this);const[s]=await Promise.all([n,r]);this.registerDebugger(s)}async syncDebuggerId(){const e=a.Runtime.Runtime.queryParam("remoteFrontend")||a.Runtime.Runtime.queryParam("ws")?1e7:1e8,t=this.agent.invoke_enable({maxScriptsCacheSize:e});return t.then(this.registerDebugger.bind(this)),t}onFrameNavigated(){ur.shouldResyncDebuggerId||(ur.shouldResyncDebuggerId=!0)}registerDebugger(e){if(e.getError())return;const{debuggerId:t}=e;gr.set(t,this),this.#Ii=t,this.dispatchEventToListeners(mr.DebuggerIsReadyToPause,this)}isReadyToPause(){return Boolean(this.#Ii)}static async modelForDebuggerId(e){return ur.shouldResyncDebuggerId&&(await ur.resyncDebuggerIdForModels(),ur.shouldResyncDebuggerId=!1),gr.get(e)||null}static async resyncDebuggerIdForModels(){const e=gr.values();for(const t of e)t.debuggerEnabled()&&await t.syncDebuggerId()}async disableDebugger(){this.#Ai&&(this.#Ai=!1,await this.asyncStackTracesStateChanged(),await this.agent.invoke_disable(),this.#qi=!1,this.globalObjectCleared(),this.dispatchEventToListeners(mr.DebuggerWasDisabled,this),"string"==typeof this.#Ii&&gr.delete(this.#Ii),this.#Ii=null)}skipAllPauses(e){this.#Oi&&(clearTimeout(this.#Oi),this.#Oi=0),this.agent.invoke_setSkipAllPauses({skip:e})}skipAllPausesUntilReloadOrTimeout(e){this.#Oi&&clearTimeout(this.#Oi),this.agent.invoke_setSkipAllPauses({skip:!0}),this.#Oi=window.setTimeout(this.skipAllPauses.bind(this,!1),e)}pauseOnExceptionStateChanged(){let t;t=e.Settings.Settings.instance().moduleSetting("pauseOnExceptionEnabled").get()?e.Settings.Settings.instance().moduleSetting("pauseOnCaughtException").get()?"all":"uncaught":"none",this.agent.invoke_setPauseOnExceptions({state:t})}asyncStackTracesStateChanged(){const t=!e.Settings.Settings.instance().moduleSetting("disableAsyncStackTraces").get()&&this.#Ai?32:0;return this.agent.invoke_setAsyncCallStackDepth({maxDepth:t})}breakpointsActiveChanged(){this.agent.invoke_setBreakpointsActive({active:e.Settings.Settings.instance().moduleSetting("breakpointsActive").get()})}setComputeAutoStepRangesCallback(e){this.#Fi=e}async computeAutoStepSkipList(e){let t=[];if(this.#Fi&&this.#Mi){const[n]=this.#Mi.callFrames;t=await this.#Fi.call(null,e,n)}return cr(t.map((e=>new vr(e.start.scriptId,new Ir(e.start.lineNumber,e.start.columnNumber),new Ir(e.end.lineNumber,e.end.columnNumber))))).map((e=>e.payload()))}async stepInto(){const e=await this.computeAutoStepSkipList(hr.StepInto);this.agent.invoke_stepInto({breakOnAsyncCall:!1,skipList:e})}async stepOver(){this.#Hi=!0;const e=await this.computeAutoStepSkipList(hr.StepOver);this.agent.invoke_stepOver({skipList:e})}async stepOut(){const e=await this.computeAutoStepSkipList(hr.StepOut);0!==e.length?this.agent.invoke_stepOver({skipList:e}):this.agent.invoke_stepOut()}scheduleStepIntoAsync(){this.computeAutoStepSkipList(hr.StepInto).then((e=>{this.agent.invoke_stepInto({breakOnAsyncCall:!0,skipList:e})}))}resume(){this.agent.invoke_resume({terminateOnResume:!1}),this.#qi=!1}pause(){this.#qi=!0,this.skipAllPauses(!1),this.agent.invoke_pause()}async setBreakpointByURL(n,r,i,a){let o;if(this.target().type()===q.Node&&n.startsWith("file://")){const r=e.ParsedURL.ParsedURL.urlToRawPathString(n,s.Platform.isWin());o=`${t.StringUtilities.escapeForRegExp(r)}|${t.StringUtilities.escapeForRegExp(n)}`,s.Platform.isWin()&&r.match(/^.:\\/)&&(o=`[${r[0].toUpperCase()}${r[0].toLowerCase()}]`+o.substr(1))}let l=0;const d=this.#Pi.get(n)||[];for(let e=0,t=d.length;e<t;++e){const t=d[e];r===t.lineOffset&&(l=l?Math.min(l,t.columnOffset):t.columnOffset)}i=Math.max(i||0,l);const c=await this.agent.invoke_setBreakpointByUrl({lineNumber:r,url:o?void 0:n,urlRegex:o,columnNumber:i,condition:a});if(c.getError())return{locations:[],breakpointId:null};let h=[];return c.locations&&(h=c.locations.map((e=>fr.fromPayload(this,e)))),{locations:h,breakpointId:c.breakpointId}}async setBreakpointInAnonymousScript(e,t,n,r,s){const i=await this.agent.invoke_setBreakpointByUrl({lineNumber:n,scriptHash:t,columnNumber:r,condition:s}),a=i.getError();if(a)return"Either url or urlRegex must be specified."!==a?{locations:[],breakpointId:null}:this.setBreakpointBySourceId(e,n,r,s);let o=[];return i.locations&&(o=i.locations.map((e=>fr.fromPayload(this,e)))),{locations:o,breakpointId:i.breakpointId}}async setBreakpointBySourceId(e,t,n,r){const s=await this.agent.invoke_setBreakpoint({location:{scriptId:e,lineNumber:t,columnNumber:n},condition:r});if(s.getError())return{breakpointId:null,locations:[]};let i=[];return s.actualLocation&&(i=[fr.fromPayload(this,s.actualLocation)]),{locations:i,breakpointId:s.breakpointId}}async removeBreakpoint(e){const t=await this.agent.invoke_removeBreakpoint({breakpointId:e});t.getError()&&console.error("Failed to remove breakpoint: "+t.getError())}async getPossibleBreakpoints(e,t,n){const r=await this.agent.invoke_getPossibleBreakpoints({start:e.payload(),end:t?t.payload():void 0,restrictToFunction:n});return r.getError()||!r.locations?[]:r.locations.map((e=>yr.fromPayload(this,e)))}async fetchAsyncStackTrace(e){const t=await this.agent.invoke_getStackTrace({stackTraceId:e});return t.getError()?null:t.stackTrace}breakpointResolved(e,t){this.#Ui.dispatchEventToListeners(e,fr.fromPayload(this,t))}globalObjectCleared(){this.setDebuggerPausedDetails(null),this.reset(),this.dispatchEventToListeners(mr.GlobalObjectCleared,this)}reset(){for(const e of this.#Ri.values())this.#Ti.detachSourceMap(e);this.#Ri.clear(),this.#xi.clear(),this.#Pi.clear(),this.#Li=[],this.#Hi=!1}scripts(){return Array.from(this.#xi.values())}scriptForId(e){return this.#xi.get(e)||null}scriptsForSourceURL(e){return e&&this.#Pi.get(e)||[]}scriptsForExecutionContext(e){const t=[];for(const n of this.#xi.values())n.executionContextId===e.id&&t.push(n);return t}get callFrames(){return this.#Mi?this.#Mi.callFrames:null}debuggerPausedDetails(){return this.#Mi}setDebuggerPausedDetails(e){if(e){if(this.#qi=!1,this.#Mi=e,this.#Ni&&!this.#Ni.call(null,e))return!1;this.#Hi=!1,this.dispatchEventToListeners(mr.DebuggerPaused,this),this.setSelectedCallFrame(e.callFrames[0])}else this.#qi=!1,this.#Mi=null,this.setSelectedCallFrame(null);return!0}setBeforePausedCallback(e){this.#Ni=e}setExpandCallFramesCallback(e){this.#Di=e}setEvaluateOnCallFrameCallback(e){this.evaluateOnCallFrameCallback=e}setSynchronizeBreakpointsCallback(e){this.#Bi=e}async pausedScript(t,n,r,s,i,a){if("instrumentation"===n){const e=this.scriptForId(t[0].location.scriptId);return this.#Bi&&e&&await this.#Bi(e),void this.resume()}const o=new wr(this,t,n,r,s,i,a);if(this.#Di&&(o.callFrames=await this.#Di.call(null,o.callFrames)),this.continueToLocationCallback){const e=this.continueToLocationCallback;if(this.continueToLocationCallback=null,e(o))return}this.setDebuggerPausedDetails(o)?e.EventTarget.fireEvent("DevTools.DebuggerPaused"):this.#Hi?this.stepOver():this.stepInto()}resumedScript(){this.setDebuggerPausedDetails(null),this.dispatchEventToListeners(mr.DebuggerResumed,this)}parsedScriptSource(e,t,n,r,s,i,a,o,l,d,c,h,u,g,p,m,b,f,I,v){const y=this.#xi.get(e);if(y)return y;let S=!1;l&&"isDefault"in l&&(S=!l.isDefault);const k=new rr(this,e,t,n,r,s,i,a,o,S,d,c,h,g,p,m,b,f,I,v);this.registerScript(k),this.dispatchEventToListeners(mr.ParsedScriptSource,k);const w=ur.sourceMapId(k.executionContextId,k.sourceURL,k.sourceMapURL);if(w&&!u){const e=this.#Ri.get(w);e&&this.#Ti.detachSourceMap(e),this.#Ri.set(w,k),this.#Ti.attachSourceMap(k,k.sourceURL,k.sourceMapURL)}return u&&k.isAnonymousScript()&&(this.#Li.push(k),this.collectDiscardedScripts()),k}setSourceMapURL(e,t){let n=ur.sourceMapId(e.executionContextId,e.sourceURL,e.sourceMapURL);n&&this.#Ri.get(n)===e&&this.#Ri.delete(n),this.#Ti.detachSourceMap(e),e.sourceMapURL=t,n=ur.sourceMapId(e.executionContextId,e.sourceURL,e.sourceMapURL),n&&(this.#Ri.set(n,e),this.#Ti.attachSourceMap(e,e.sourceURL,e.sourceMapURL))}async setDebugInfoURL(e,t){this.#Di&&this.#Mi&&(this.#Mi.callFrames=await this.#Di.call(null,this.#Mi.callFrames)),this.dispatchEventToListeners(mr.DebugInfoAttached,e)}executionContextDestroyed(e){const t=Array.from(this.#Ri.keys());for(const n of t){const t=this.#Ri.get(n);t&&t.executionContextId===e.id&&(this.#Ri.delete(n),this.#Ti.detachSourceMap(t))}}registerScript(e){if(this.#xi.set(e.scriptId,e),e.isAnonymousScript())return;let t=this.#Pi.get(e.sourceURL);t||(t=[],this.#Pi.set(e.sourceURL,t)),t.unshift(e)}unregisterScript(e){console.assert(e.isAnonymousScript()),this.#xi.delete(e.scriptId)}collectDiscardedScripts(){if(this.#Li.length<1e3)return;const e=this.#Li.splice(0,100);for(const t of e)this.unregisterScript(t),this.dispatchEventToListeners(mr.DiscardedAnonymousScriptSource,t)}createRawLocation(e,t,n,r){return this.createRawLocationByScriptId(e.scriptId,t,n,r)}createRawLocationByURL(e,t,n,r){for(const s of this.#Pi.get(e)||[])if(!(s.lineOffset>t||s.lineOffset===t&&void 0!==n&&s.columnOffset>n||s.endLine<t||s.endLine===t&&void 0!==n&&s.endColumn<=n))return new fr(this,s.scriptId,t,n,r);return null}createRawLocationByScriptId(e,t,n,r){return new fr(this,e,t,n,r)}createRawLocationsByStackTrace(e){const t=[];for(let n=e;n;n=n.parent)for(const{scriptId:e,lineNumber:r,columnNumber:s}of n.callFrames)t.push(this.createRawLocationByScriptId(e,r,s));return t}isPaused(){return Boolean(this.debuggerPausedDetails())}isPausing(){return this.#qi}setSelectedCallFrame(e){this.#Ei!==e&&(this.#Ei=e,this.dispatchEventToListeners(mr.CallFrameSelected,this))}selectedCallFrame(){return this.#Ei}async evaluateOnSelectedCallFrame(e){const t=this.selectedCallFrame();if(!t)throw new Error("No call frame selected");return t.evaluate(e)}functionDetailsPromise(e){return e.getAllProperties(!1,!1).then(function(e){if(!e)return null;let t=null;if(e.internalProperties)for(const n of e.internalProperties)"[[FunctionLocation]]"===n.name&&(t=n.value);let n=null;if(e.properties)for(const t of e.properties)"name"===t.name&&t.value&&"string"===t.value.type&&(n=t.value);let r=null;t&&(r=this.createRawLocationByScriptId(t.value.scriptId,t.value.lineNumber,t.value.columnNumber));return{location:r,functionName:n?n.value:""}}.bind(this))}async setVariableValue(e,t,n,r){const s=(await this.agent.invoke_setVariableValue({scopeNumber:e,variableName:t,newValue:n,callFrameId:r})).getError();return s&&console.error(s),s}addBreakpointListener(e,t,n){this.#Ui.addEventListener(e,t,n)}removeBreakpointListener(e,t,n){this.#Ui.removeEventListener(e,t,n)}async setBlackboxPatterns(e){const t=(await this.agent.invoke_setBlackboxPatterns({patterns:e})).getError();return t&&console.error(t),!t}dispose(){this.#Ti.dispose(),this.#Ii&&gr.delete(this.#Ii),e.Settings.Settings.instance().moduleSetting("pauseOnExceptionEnabled").removeChangeListener(this.pauseOnExceptionStateChanged,this),e.Settings.Settings.instance().moduleSetting("pauseOnCaughtException").removeChangeListener(this.pauseOnExceptionStateChanged,this),e.Settings.Settings.instance().moduleSetting("disableAsyncStackTraces").removeChangeListener(this.asyncStackTracesStateChanged,this)}async suspendModel(){await this.disableDebugger()}async resumeModel(){await this.enableDebugger()}static shouldResyncDebuggerId=!1;getContinueToLocationCallback(){return this.continueToLocationCallback}getEvaluateOnCallFrameCallback(){return this.evaluateOnCallFrameCallback}}const gr=new Map;var pr,mr;!function(e){e.DontPauseOnExceptions="none",e.PauseOnAllExceptions="all",e.PauseOnUncaughtExceptions="uncaught"}(pr||(pr={})),function(e){e.DebuggerWasEnabled="DebuggerWasEnabled",e.DebuggerWasDisabled="DebuggerWasDisabled",e.DebuggerPaused="DebuggerPaused",e.DebuggerResumed="DebuggerResumed",e.DebugInfoAttached="DebugInfoAttached",e.ParsedScriptSource="ParsedScriptSource",e.DiscardedAnonymousScriptSource="DiscardedAnonymousScriptSource",e.GlobalObjectCleared="GlobalObjectCleared",e.CallFrameSelected="CallFrameSelected",e.DebuggerIsReadyToPause="DebuggerIsReadyToPause"}(mr||(mr={}));class br{#Gr;constructor(e){this.#Gr=e}paused({callFrames:e,reason:t,data:n,hitBreakpoints:r,asyncStackTrace:s,asyncStackTraceId:i}){this.#Gr.debuggerEnabled()&&this.#Gr.pausedScript(e,t,n,r||[],s,i)}resumed(){this.#Gr.debuggerEnabled()&&this.#Gr.resumedScript()}scriptParsed({scriptId:e,url:t,startLine:n,startColumn:r,endLine:s,endColumn:i,executionContextId:a,hash:o,executionContextAuxData:l,isLiveEdit:d,sourceMapURL:c,hasSourceURL:h,length:u,isModule:g,stackTrace:p,codeOffset:m,scriptLanguage:b,debugSymbols:f,embedderName:I}){this.#Gr.debuggerEnabled()&&this.#Gr.parsedScriptSource(e,t,n,r,s,i,a,o,l,Boolean(d),c,Boolean(h),!1,u||0,g||null,p||null,m||null,b||null,f||null,I||null)}scriptFailedToParse({scriptId:e,url:t,startLine:n,startColumn:r,endLine:s,endColumn:i,executionContextId:a,hash:o,executionContextAuxData:l,sourceMapURL:d,hasSourceURL:c,length:h,isModule:u,stackTrace:g,codeOffset:p,scriptLanguage:m,embedderName:b}){this.#Gr.debuggerEnabled()&&this.#Gr.parsedScriptSource(e,t,n,r,s,i,a,o,l,!1,d,Boolean(c),!0,h||0,u||null,g||null,p||null,m||null,null,b||null)}breakpointResolved({breakpointId:e,location:t}){this.#Gr.debuggerEnabled()&&this.#Gr.breakpointResolved(e,t)}}class fr{debuggerModel;scriptId;lineNumber;columnNumber;inlineFrameIndex;constructor(e,t,n,r,s){this.debuggerModel=e,this.scriptId=t,this.lineNumber=n,this.columnNumber=r||0,this.inlineFrameIndex=s||0}static fromPayload(e,t,n){return new fr(e,t.scriptId,t.lineNumber,t.columnNumber,n)}payload(){return{scriptId:this.scriptId,lineNumber:this.lineNumber,columnNumber:this.columnNumber}}script(){return this.debuggerModel.scriptForId(this.scriptId)}continueToLocation(e){e&&(this.debuggerModel.continueToLocationCallback=this.paused.bind(this,e)),this.debuggerModel.agent.invoke_continueToLocation({location:this.payload(),targetCallFrames:"current"})}paused(e,t){const n=t.callFrames[0].location();return n.scriptId===this.scriptId&&n.lineNumber===this.lineNumber&&n.columnNumber===this.columnNumber&&(e(),!0)}id(){return this.debuggerModel.target().id()+":"+this.scriptId+":"+this.lineNumber+":"+this.columnNumber}}class Ir{lineNumber;columnNumber;constructor(e,t){this.lineNumber=e,this.columnNumber=t}payload(){return{lineNumber:this.lineNumber,columnNumber:this.columnNumber}}compareTo(e){return this.lineNumber!==e.lineNumber?this.lineNumber-e.lineNumber:this.columnNumber-e.columnNumber}}class vr{scriptId;start;end;constructor(e,t,n){this.scriptId=e,this.start=t,this.end=n}payload(){return{scriptId:this.scriptId,start:this.start.payload(),end:this.end.payload()}}static comparator(e,t){return e.compareTo(t)}compareTo(e){if(this.scriptId!==e.scriptId)return this.scriptId>e.scriptId?1:-1;const t=this.start.compareTo(e.start);return t||this.end.compareTo(e.end)}overlap(e){if(this.scriptId!==e.scriptId)return!1;const t=this.start.compareTo(e.start);return t<0?this.end.compareTo(e.start)>=0:!(t>0)||this.start.compareTo(e.end)<=0}}class yr extends fr{type;constructor(e,t,n,r,s){super(e,t,n,r),s&&(this.type=s)}static fromPayload(e,t){return new yr(e,t.scriptId,t.lineNumber,t.columnNumber,t.type)}}class Sr{debuggerModel;#_i;payload;#zi;#ji;#Wi;#Vi;#Gi;#Ki;#Qi;#$i=null;canBeRestarted;constructor(e,t,n,r,s){this.debuggerModel=e,this.#_i=t,this.payload=n,this.#zi=fr.fromPayload(e,n.location,r),this.#ji=[],this.#Wi=null,this.#Vi=r||0,this.#Gi=s||n.functionName,this.canBeRestarted=Boolean(n.canBeRestarted);for(let e=0;e<n.scopeChain.length;++e){const t=new kr(this,e);this.#ji.push(t),"local"===t.type()&&(this.#Wi=t)}n.functionLocation&&(this.#Ki=fr.fromPayload(e,n.functionLocation)),this.#Qi=n.returnValue?this.debuggerModel.runtimeModel().createRemoteObject(n.returnValue):null}static fromPayloadArray(e,t){const n=[];for(let r=0;r<t.length;++r){const s=t[r],i=e.scriptForId(s.location.scriptId);i&&n.push(new Sr(e,i,s))}return n}createVirtualCallFrame(e,t){return new Sr(this.debuggerModel,this.#_i,this.payload,e,t)}setMissingDebugInfoDetails(e){this.#$i=e}get missingDebugInfoDetails(){return this.#$i}get script(){return this.#_i}get id(){return this.payload.callFrameId}get inlineFrameIndex(){return this.#Vi}scopeChain(){return this.#ji}localScope(){return this.#Wi}thisObject(){return this.payload.this?this.debuggerModel.runtimeModel().createRemoteObject(this.payload.this):null}returnValue(){return this.#Qi}async setReturnValue(e){if(!this.#Qi)return null;const t=await this.debuggerModel.agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e,silent:!0,objectGroup:"backtrace"});if(t.getError()||t.exceptionDetails)return null;return(await this.debuggerModel.agent.invoke_setReturnValue({newValue:t.result})).getError()?null:(this.#Qi=this.debuggerModel.runtimeModel().createRemoteObject(t.result),this.#Qi)}get functionName(){return this.#Gi}location(){return this.#zi}functionLocation(){return this.#Ki||null}async evaluate(e){const t=this.debuggerModel,n=t.runtimeModel();if((Boolean(e.throwOnSideEffect)||void 0!==e.timeout)&&(!1===n.hasSideEffectSupport()||null===n.hasSideEffectSupport()&&!await n.checkSideEffectSupport()))return{error:"Side-effect checks not supported by backend."};const r=t.getEvaluateOnCallFrameCallback();if(r){const t=await r(this,e);if(t)return t}const s=await this.debuggerModel.agent.invoke_evaluateOnCallFrame({callFrameId:this.id,expression:e.expression,objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,returnByValue:e.returnByValue,generatePreview:e.generatePreview,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout}),i=s.getError();return i?(console.error(i),{error:i}):{object:n.createRemoteObject(s.result),exceptionDetails:s.exceptionDetails}}async restart(){console.assert(this.canBeRestarted,"This frame can not be restarted."),await this.debuggerModel.agent.invoke_restartFrame({callFrameId:this.id,mode:"StepInto"})}getPayload(){return this.payload}}class kr{#Xi;#Ji;#g;#h;#Yi;#Zi;#ea;#Gt;constructor(e,t){this.#Xi=e,this.#Ji=e.getPayload().scopeChain[t],this.#g=this.#Ji.type,this.#h=this.#Ji.name,this.#Yi=t,this.#Zi=this.#Ji.startLocation?fr.fromPayload(e.debuggerModel,this.#Ji.startLocation):null,this.#ea=this.#Ji.endLocation?fr.fromPayload(e.debuggerModel,this.#Ji.endLocation):null,this.#Gt=null}callFrame(){return this.#Xi}type(){return this.#g}typeName(){switch(this.#g){case"local":return dr(or.local);case"closure":return dr(or.closure);case"catch":return dr(or.catchBlock);case"eval":return r.i18n.lockedString("Eval");case"block":return dr(or.block);case"script":return dr(or.script);case"with":return dr(or.withBlock);case"global":return dr(or.global);case"module":return dr(or.module);case"wasm-expression-stack":return dr(or.expression)}return""}name(){return this.#h}startLocation(){return this.#Zi}endLocation(){return this.#ea}object(){if(this.#Gt)return this.#Gt;const e=this.#Xi.debuggerModel.runtimeModel(),t="with"!==this.#g&&"global"!==this.#g;return this.#Gt=t?e.createScopeRemoteObject(this.#Ji.object,new Ae(this.#Yi,this.#Xi.id)):e.createRemoteObject(this.#Ji.object),this.#Gt}description(){return"with"!==this.#g&&"global"!==this.#g?"":this.#Ji.object.description||""}icon(){}}class wr{debuggerModel;callFrames;reason;auxData;breakpointIds;asyncStackTrace;asyncStackTraceId;constructor(e,t,n,r,s,i,a){this.debuggerModel=e,this.callFrames=Sr.fromPayloadArray(e,t),this.reason=n,this.auxData=r,this.breakpointIds=s,i&&(this.asyncStackTrace=this.cleanRedundantFrames(i)),this.asyncStackTraceId=a}exception(){return"exception"!==this.reason&&"promiseRejection"!==this.reason?null:this.debuggerModel.runtimeModel().createRemoteObject(this.auxData)}cleanRedundantFrames(e){let t=e,n=null;for(;t;)"async function"===t.description&&t.callFrames.length&&t.callFrames.shift(),n&&!t.callFrames.length?n.parent=t.parent:n=t,t=t.parent;return e}}l.register(ur,{capabilities:_.JS,autostart:!0});var Cr,Tr=Object.freeze({__proto__:null,sortAndMergeRanges:cr,get StepMode(){return hr},DebuggerModel:ur,_debuggerIdToModel:gr,get PauseOnExceptionsState(){return pr},get Events(){return mr},Location:fr,ScriptPosition:Ir,LocationRange:vr,BreakLocation:yr,CallFrame:Sr,Scope:kr,DebuggerPausedDetails:wr});class Rr extends l{#ta;#na;#ra;#sa;constructor(e){super(e),e.registerHeapProfilerDispatcher(new Mr(this)),this.#ta=!1,this.#na=e.heapProfilerAgent(),this.#ra=e.model(Pr),this.#sa=0}debuggerModel(){return this.#ra.debuggerModel()}runtimeModel(){return this.#ra}async enable(){this.#ta||(this.#ta=!0,await this.#na.invoke_enable())}async startSampling(e){if(this.#sa++)return!1;const t=await this.#na.invoke_startSampling({samplingInterval:e||16384});return Boolean(t.getError())}async stopSampling(){if(!this.#sa)throw new Error("Sampling profiler is not running.");if(--this.#sa)return this.getSamplingProfile();const e=await this.#na.invoke_stopSampling();return e.getError()?null:e.profile}async getSamplingProfile(){const e=await this.#na.invoke_getSamplingProfile();return e.getError()?null:e.profile}async collectGarbage(){const e=await this.#na.invoke_collectGarbage();return Boolean(e.getError())}async snapshotObjectIdForObjectId(e){const t=await this.#na.invoke_getHeapObjectId({objectId:e});return t.getError()?null:t.heapSnapshotObjectId}async objectForSnapshotObjectId(e,t){const n=await this.#na.invoke_getObjectByHeapObjectId({objectId:e,objectGroup:t});return n.getError()?null:this.#ra.createRemoteObject(n.result)}async addInspectedHeapObject(e){const t=await this.#na.invoke_addInspectedHeapObject({heapObjectId:e});return Boolean(t.getError())}async takeHeapSnapshot(e){await this.#na.invoke_takeHeapSnapshot(e)}async startTrackingHeapObjects(e){const t=await this.#na.invoke_startTrackingHeapObjects({trackAllocations:e});return Boolean(t.getError())}async stopTrackingHeapObjects(e){const t=await this.#na.invoke_stopTrackingHeapObjects({reportProgress:e});return Boolean(t.getError())}heapStatsUpdate(e){this.dispatchEventToListeners(Cr.HeapStatsUpdate,e)}lastSeenObjectId(e,t){this.dispatchEventToListeners(Cr.LastSeenObjectId,{lastSeenObjectId:e,timestamp:t})}addHeapSnapshotChunk(e){this.dispatchEventToListeners(Cr.AddHeapSnapshotChunk,e)}reportHeapSnapshotProgress(e,t,n){this.dispatchEventToListeners(Cr.ReportHeapSnapshotProgress,{done:e,total:t,finished:n})}resetProfiles(){this.dispatchEventToListeners(Cr.ResetProfiles,this)}}!function(e){e.HeapStatsUpdate="HeapStatsUpdate",e.LastSeenObjectId="LastSeenObjectId",e.AddHeapSnapshotChunk="AddHeapSnapshotChunk",e.ReportHeapSnapshotProgress="ReportHeapSnapshotProgress",e.ResetProfiles="ResetProfiles"}(Cr||(Cr={}));class Mr{#ia;constructor(e){this.#ia=e}heapStatsUpdate({statsUpdate:e}){this.#ia.heapStatsUpdate(e)}lastSeenObjectId({lastSeenObjectId:e,timestamp:t}){this.#ia.lastSeenObjectId(e,t)}addHeapSnapshotChunk({chunk:e}){this.#ia.addHeapSnapshotChunk(e)}reportHeapSnapshotProgress({done:e,total:t,finished:n}){this.#ia.reportHeapSnapshotProgress(e,t,n)}resetProfiles(){this.#ia.resetProfiles()}}l.register(Rr,{capabilities:_.JS,autostart:!1});var xr=Object.freeze({__proto__:null,HeapProfilerModel:Rr,get Events(){return Cr}});class Pr extends l{agent;#aa;#oa;#la;constructor(t){super(t),this.agent=t.runtimeAgent(),this.target().registerRuntimeDispatcher(new Ar(this)),this.agent.invoke_enable(),this.#aa=new Map,this.#oa=Or.comparator,this.#la=null,e.Settings.Settings.instance().moduleSetting("customFormatters").get()&&this.agent.invoke_setCustomObjectFormatterEnabled({enabled:!0}),e.Settings.Settings.instance().moduleSetting("customFormatters").addChangeListener(this.customFormattersStateChanged.bind(this))}static isSideEffectFailure(e){const t="exceptionDetails"in e&&e.exceptionDetails;return Boolean(t&&t.exception&&t.exception.description&&t.exception.description.startsWith("EvalError: Possible side-effect in debug-evaluate"))}debuggerModel(){return this.target().model(ur)}heapProfilerModel(){return this.target().model(Rr)}executionContexts(){return[...this.#aa.values()].sort(this.executionContextComparator())}setExecutionContextComparator(e){this.#oa=e}executionContextComparator(){return this.#oa}defaultExecutionContext(){for(const e of this.executionContexts())if(e.isDefault)return e;return null}executionContext(e){return this.#aa.get(e)||null}executionContextCreated(e){const t=e.auxData||{isDefault:!0},n=new Or(this,e.id,e.uniqueId,e.name,e.origin,t.isDefault,t.frameId);this.#aa.set(n.id,n),this.dispatchEventToListeners(Er.ExecutionContextCreated,n)}executionContextDestroyed(e){const t=this.#aa.get(e);t&&(this.debuggerModel().executionContextDestroyed(t),this.#aa.delete(e),this.dispatchEventToListeners(Er.ExecutionContextDestroyed,t))}fireExecutionContextOrderChanged(){this.dispatchEventToListeners(Er.ExecutionContextOrderChanged,this)}executionContextsCleared(){this.debuggerModel().globalObjectCleared();const e=this.executionContexts();this.#aa.clear();for(let t=0;t<e.length;++t)this.dispatchEventToListeners(Er.ExecutionContextDestroyed,e[t])}createRemoteObject(e){return console.assert("object"==typeof e,"Remote object payload should only be an object"),new Le(this,e.objectId,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview,e.customPreview,e.className)}createScopeRemoteObject(e,t){return new Ee(this,e.objectId,t,e.type,e.subtype,e.value,e.unserializableValue,e.description,e.preview)}createRemoteObjectFromPrimitiveValue(e){const t=typeof e;let n;const r=Pe.unserializableDescription(e);return null!==r&&(n=r),void 0!==n&&(e=void 0),new Le(this,void 0,t,void 0,e,n)}createRemotePropertyFromPrimitiveValue(e,t){return new Oe(e,this.createRemoteObjectFromPrimitiveValue(t))}discardConsoleEntries(){this.agent.invoke_discardConsoleEntries()}releaseObjectGroup(e){this.agent.invoke_releaseObjectGroup({objectGroup:e})}releaseEvaluationResult(e){if("object"in e&&e.object&&e.object.release(),"exceptionDetails"in e&&e.exceptionDetails&&e.exceptionDetails.exception){const t=e.exceptionDetails.exception;this.createRemoteObject({type:t.type,objectId:t.objectId}).release()}}runIfWaitingForDebugger(){this.agent.invoke_runIfWaitingForDebugger()}customFormattersStateChanged({data:e}){this.agent.invoke_setCustomObjectFormatterEnabled({enabled:e})}async compileScript(e,t,n,r){const s=await this.agent.invoke_compileScript({expression:e,sourceURL:t,persistScript:n,executionContextId:r});return s.getError()?(console.error(s.getError()),null):{scriptId:s.scriptId,exceptionDetails:s.exceptionDetails}}async runScript(e,t,n,r,s,i,a,o){const l=await this.agent.invoke_runScript({scriptId:e,executionContextId:t,objectGroup:n,silent:r,includeCommandLineAPI:s,returnByValue:i,generatePreview:a,awaitPromise:o}),d=l.getError();return d?(console.error(d),{error:d}):{object:this.createRemoteObject(l.result),exceptionDetails:l.exceptionDetails}}async queryObjects(e){if(!e.objectId)return{error:"Prototype should be an Object."};const t=await this.agent.invoke_queryObjects({prototypeObjectId:e.objectId,objectGroup:"console"}),n=t.getError();return n?(console.error(n),{error:n}):{objects:this.createRemoteObject(t.objects)}}async isolateId(){const e=await this.agent.invoke_getIsolateId();return e.getError()||!e.id?this.target().id():e.id}async heapUsage(){const e=await this.agent.invoke_getHeapUsage();return e.getError()?null:e}inspectRequested(t,n,r){const s=this.createRemoteObject(t);n&&"copyToClipboard"in n&&Boolean(n.copyToClipboard)?this.copyRequested(s):n&&"queryObjects"in n&&n.queryObjects?this.queryObjectsRequested(s,r):s.isNode()?e.Revealer.reveal(s).then(s.release.bind(s)):"function"!==s.type?s.release():De.objectAsFunction(s).targetFunctionDetails().then((function(t){if(s.release(),!t||!t.location)return;e.Revealer.reveal(t.location)}))}async addBinding(e){return await this.agent.invoke_addBinding(e)}bindingCalled(e){this.dispatchEventToListeners(Er.BindingCalled,e)}copyRequested(t){if(!t.objectId)return void s.InspectorFrontendHost.InspectorFrontendHostInstance.copyText(t.unserializableValue()||t.value);const n=e.Settings.Settings.instance().moduleSetting("textEditorIndent").get();t.callFunctionJSON((function(e){const t=e.subtype,n=e.indent;if("node"===t)return this instanceof Element?this.outerHTML:void 0;if(t&&void 0===this)return String(t);try{return JSON.stringify(this,null,n)}catch(e){return String(this)}}),[{value:{subtype:t.subtype,indent:n}}]).then(s.InspectorFrontendHost.InspectorFrontendHostInstance.copyText.bind(s.InspectorFrontendHost.InspectorFrontendHostInstance))}async queryObjectsRequested(t,n){const r=await this.queryObjects(t);t.release(),"error"in r?e.Console.Console.instance().error(r.error):this.dispatchEventToListeners(Er.QueryObjectRequested,{objects:r.objects,executionContextId:n})}static simpleTextFromException(e){let t=e.text;if(e.exception&&e.exception.description){let n=e.exception.description;-1!==n.indexOf("\n")&&(n=n.substring(0,n.indexOf("\n"))),t+=" "+n}return t}exceptionThrown(e,t){const n={timestamp:e,details:t};this.dispatchEventToListeners(Er.ExceptionThrown,n)}exceptionRevoked(e){this.dispatchEventToListeners(Er.ExceptionRevoked,e)}consoleAPICalled(e,t,n,r,s,i){const a={type:e,args:t,executionContextId:n,timestamp:r,stackTrace:s,context:i};this.dispatchEventToListeners(Er.ConsoleAPICalled,a)}executionContextIdForScriptId(e){const t=this.debuggerModel().scriptForId(e);return t?t.executionContextId:0}executionContextForStackTrace(e){let t=e;for(;t&&!t.callFrames.length;)t=t.parent||null;return t&&t.callFrames.length?this.executionContextIdForScriptId(t.callFrames[0].scriptId):0}hasSideEffectSupport(){return this.#la}async checkSideEffectSupport(){const e=this.executionContexts(),t=e[e.length-1];if(!t)return!1;const n=await this.agent.invoke_evaluate({expression:Lr,contextId:t.id,throwOnSideEffect:!0});return this.#la=!n.getError()&&Pr.isSideEffectFailure(n),this.#la}terminateExecution(){return this.agent.invoke_terminateExecution()}async getExceptionDetails(e){const t=await this.agent.invoke_getExceptionDetails({errorObjectId:e});if(!t.getError())return t.exceptionDetails}}const Lr="(async function(){ await 1; })()";var Er;!function(e){e.BindingCalled="BindingCalled",e.ExecutionContextCreated="ExecutionContextCreated",e.ExecutionContextDestroyed="ExecutionContextDestroyed",e.ExecutionContextChanged="ExecutionContextChanged",e.ExecutionContextOrderChanged="ExecutionContextOrderChanged",e.ExceptionThrown="ExceptionThrown",e.ExceptionRevoked="ExceptionRevoked",e.ConsoleAPICalled="ConsoleAPICalled",e.QueryObjectRequested="QueryObjectRequested"}(Er||(Er={}));class Ar{#da;constructor(e){this.#da=e}executionContextCreated({context:e}){this.#da.executionContextCreated(e)}executionContextDestroyed({executionContextId:e}){this.#da.executionContextDestroyed(e)}executionContextsCleared(){this.#da.executionContextsCleared()}exceptionThrown({timestamp:e,exceptionDetails:t}){this.#da.exceptionThrown(e,t)}exceptionRevoked({exceptionId:e}){this.#da.exceptionRevoked(e)}consoleAPICalled({type:e,args:t,executionContextId:n,timestamp:r,stackTrace:s,context:i}){this.#da.consoleAPICalled(e,t,n,r,s,i)}inspectRequested({object:e,hints:t,executionContextId:n}){this.#da.inspectRequested(e,t,n)}bindingCalled(e){this.#da.bindingCalled(e)}}class Or{id;uniqueId;name;#ca;origin;isDefault;runtimeModel;debuggerModel;frameId;constructor(e,t,n,r,s,i,a){this.id=t,this.uniqueId=n,this.name=r,this.#ca=null,this.origin=s,this.isDefault=i,this.runtimeModel=e,this.debuggerModel=e.debuggerModel(),this.frameId=a,this.setLabelInternal("")}target(){return this.runtimeModel.target()}static comparator(e,t){function n(e){return e.parentTarget()?e.type()===q.Frame?4:e.type()===q.ServiceWorker?3:e.type()===q.Worker||e.type()===q.SharedWorker?2:1:5}function r(e){let t=e;const n=[];for(;t;)n.push(t),t=t.parentTarget();return n.reverse()}const s=r(e.target()),i=r(t.target());let a,o;for(let e=0;;e++)if(!s[e]||!i[e]||s[e]!==i[e]){a=s[e],o=i[e];break}if(!a&&o)return-1;if(!o&&a)return 1;if(a&&o){const e=n(a)-n(o);return e?-e:a.id().localeCompare(o.id())}return e.isDefault?-1:t.isDefault?1:e.name.localeCompare(t.name)}async evaluate(e,t,n){if(this.debuggerModel.selectedCallFrame())return this.debuggerModel.evaluateOnSelectedCallFrame(e);return!(Boolean(e.throwOnSideEffect)||void 0!==e.timeout)||this.runtimeModel.hasSideEffectSupport()||!1!==this.runtimeModel.hasSideEffectSupport()&&(await this.runtimeModel.checkSideEffectSupport(),this.runtimeModel.hasSideEffectSupport())?this.evaluateGlobal(e,t,n):{error:"Side-effect checks not supported by backend."}}globalObject(e,t){const n={expression:"this",objectGroup:e,includeCommandLineAPI:!1,silent:!0,returnByValue:!1,generatePreview:t};return this.evaluateGlobal(n,!1,!1)}async evaluateGlobal(e,t,n){e.expression||(e.expression="this");const r=await this.runtimeModel.agent.invoke_evaluate({expression:e.expression,objectGroup:e.objectGroup,includeCommandLineAPI:e.includeCommandLineAPI,silent:e.silent,returnByValue:e.returnByValue,generatePreview:e.generatePreview,userGesture:t,awaitPromise:n,throwOnSideEffect:e.throwOnSideEffect,timeout:e.timeout,disableBreaks:e.disableBreaks,replMode:e.replMode,allowUnsafeEvalBlockedByCSP:e.allowUnsafeEvalBlockedByCSP,...this.uniqueId?{uniqueContextId:this.uniqueId}:{contextId:this.id}}),s=r.getError();return s?(console.error(s),{error:s}):{object:this.runtimeModel.createRemoteObject(r.result),exceptionDetails:r.exceptionDetails}}async globalLexicalScopeNames(){const e=await this.runtimeModel.agent.invoke_globalLexicalScopeNames({executionContextId:this.id});return e.getError()?[]:e.names}label(){return this.#ca}setLabel(e){this.setLabelInternal(e),this.runtimeModel.dispatchEventToListeners(Er.ExecutionContextChanged,this)}setLabelInternal(t){if(t)return void(this.#ca=t);if(this.name)return void(this.#ca=this.name);const n=e.ParsedURL.ParsedURL.fromString(this.origin);this.#ca=n?n.lastPathComponentWithFragment():""}}l.register(Pr,{capabilities:_.JS,autostart:!0});var Nr,Fr,Dr=Object.freeze({__proto__:null,RuntimeModel:Pr,get Events(){return Er},ExecutionContext:Or});!function(e){e.Name="name",e.Description="description",e.Value="value",e.Role="role"}(Nr||(Nr={}));class Br{#ha;#L;#ua;#ga;#pa;#ma;#ba;#h;#Bt;#u;#fa;#Ia;#va;#ya;constructor(e,t){this.#ha=e,this.#L=t.nodeId,e.setAXNodeForAXId(this.#L,this),t.backendDOMNodeId?(e.setAXNodeForBackendDOMNodeId(t.backendDOMNodeId,this),this.#ua=t.backendDOMNodeId,this.#ga=new On(e.target(),t.backendDOMNodeId)):(this.#ua=null,this.#ga=null),this.#pa=t.ignored,this.#pa&&"ignoredReasons"in t&&(this.#ma=t.ignoredReasons),this.#ba=t.role||null,this.#h=t.name||null,this.#Bt=t.description||null,this.#u=t.value||null,this.#fa=t.properties||null,this.#ya=t.childIds||null,this.#Ia=t.parentId||null,t.frameId&&!t.parentId?(this.#va=t.frameId,e.setRootAXNodeForFrameId(t.frameId,this)):this.#va=null}id(){return this.#L}accessibilityModel(){return this.#ha}ignored(){return this.#pa}ignoredReasons(){return this.#ma||null}role(){return this.#ba||null}coreProperties(){const e=[];return this.#h&&e.push({name:Nr.Name,value:this.#h}),this.#Bt&&e.push({name:Nr.Description,value:this.#Bt}),this.#u&&e.push({name:Nr.Value,value:this.#u}),e}name(){return this.#h||null}description(){return this.#Bt||null}value(){return this.#u||null}properties(){return this.#fa||null}parentNode(){return this.#Ia?this.#ha.axNodeForId(this.#Ia):null}isDOMNode(){return Boolean(this.#ua)}backendDOMNodeId(){return this.#ua}deferredDOMNode(){return this.#ga}highlightDOMNode(){const e=this.deferredDOMNode();e&&e.highlight()}children(){if(!this.#ya)return[];const e=[];for(const t of this.#ya){const n=this.#ha.axNodeForId(t);n&&e.push(n)}return e}numChildren(){return this.#ya?this.#ya.length:0}hasOnlyUnloadedChildren(){return!(!this.#ya||!this.#ya.length)&&this.#ya.every((e=>null===this.#ha.axNodeForId(e)))}hasUnloadedChildren(){return!(!this.#ya||!this.#ya.length)&&this.#ya.some((e=>null===this.#ha.axNodeForId(e)))}getFrameId(){return this.#va||this.parentNode()?.getFrameId()||null}}(Fr||(Fr={})).TreeUpdated="TreeUpdated";class Ur extends l{agent;#Sa;#ka;#wa;#Ca;#Ta;constructor(e){super(e),e.registerAccessibilityDispatcher(this),this.agent=e.accessibilityAgent(),this.resumeModel(),this.#Sa=new Map,this.#ka=new Map,this.#wa=new Map,this.#Ca=new Map,this.#Ta=null}clear(){this.#Ta=null,this.#Sa.clear(),this.#ka.clear(),this.#wa.clear()}async resumeModel(){await this.agent.invoke_enable()}async suspendModel(){await this.agent.invoke_disable()}async requestPartialAXTree(e){const{nodes:t}=await this.agent.invoke_getPartialAXTree({nodeId:e.id,fetchRelatives:!0});if(!t)return;const n=[];for(const e of t)n.push(new Br(this,e))}loadComplete({root:e}){this.clear(),this.#Ta=new Br(this,e),this.dispatchEventToListeners(Fr.TreeUpdated,{root:this.#Ta})}nodesUpdated({nodes:e}){this.createNodesFromPayload(e),this.dispatchEventToListeners(Fr.TreeUpdated,{})}createNodesFromPayload(e){return e.map((e=>new Br(this,e)))}async requestRootNode(e){if(e&&this.#wa.has(e))return this.#wa.get(e);if(!e&&this.#Ta)return this.#Ta;const{node:t}=await this.agent.invoke_getRootAXNode({frameId:e});return t?this.createNodesFromPayload([t])[0]:void 0}async requestAXChildren(e,t){const n=this.#Sa.get(e);if(!n)throw Error("Cannot request children before parent");if(!n.hasUnloadedChildren())return n.children();const r=this.#Ca.get(e);if(r)await r;else{const n=this.agent.invoke_getChildAXNodes({id:e,frameId:t});this.#Ca.set(e,n);const r=await n;r.getError()||(this.createNodesFromPayload(r.nodes),this.#Ca.delete(e))}return n.children()}async requestAndLoadSubTreeToNode(e){const t=[];let n=this.axNodeForDOMNode(e);for(;n;){t.push(n);const e=n.parentNode();if(!e)return t;n=e}const{nodes:r}=await this.agent.invoke_getAXNodeAndAncestors({backendNodeId:e.backendNodeId()});if(!r)return null;return this.createNodesFromPayload(r)}axNodeForId(e){return this.#Sa.get(e)||null}setRootAXNodeForFrameId(e,t){this.#wa.set(e,t)}axNodeForFrameId(e){return this.#wa.get(e)??null}setAXNodeForAXId(e,t){this.#Sa.set(e,t)}axNodeForDOMNode(e){return e?this.#ka.get(e.backendNodeId())??null:null}setAXNodeForBackendDOMNodeId(e,t){this.#ka.set(e,t)}getAgent(){return this.agent}}l.register(Ur,{capabilities:_.DOM,autostart:!1});var Hr=Object.freeze({__proto__:null,get CoreAxPropertyName(){return Nr},AccessibilityNode:Br,get Events(){return Fr},AccessibilityModel:Ur});class qr{#Ra;titleInternal;enabledInternal;constructor(e,t){this.#Ra=e,this.titleInternal=t,this.enabledInternal=!1}category(){return this.#Ra}enabled(){return this.enabledInternal}setEnabled(e){this.enabledInternal=e}title(){return this.titleInternal}setTitle(e){this.titleInternal=e}}var _r=Object.freeze({__proto__:null,CategorizedBreakpoint:qr});class zr{onMessage;#Ma;#xa;#Pa;#Dn;constructor(){this.onMessage=null,this.#Ma=null,this.#xa="",this.#Pa=0,this.#Dn=[s.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(s.InspectorFrontendHostAPI.Events.DispatchMessage,this.dispatchMessage,this),s.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(s.InspectorFrontendHostAPI.Events.DispatchMessageChunk,this.dispatchMessageChunk,this)]}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Ma=e}sendRawMessage(e){this.onMessage&&s.InspectorFrontendHost.InspectorFrontendHostInstance.sendMessageToBackend(e)}dispatchMessage(e){this.onMessage&&this.onMessage.call(null,e.data)}dispatchMessageChunk(e){const{messageChunk:t,messageSize:n}=e.data;n&&(this.#xa="",this.#Pa=n),this.#xa+=t,this.#xa.length===this.#Pa&&this.onMessage&&(this.onMessage.call(null,this.#xa),this.#xa="",this.#Pa=0)}async disconnect(){const t=this.#Ma;e.EventTarget.removeEventListeners(this.#Dn),this.#Ma=null,this.onMessage=null,t&&t.call(null,"force disconnect")}}class jr{#La;onMessage;#Ma;#Ea;#Aa;#Oa;constructor(e,t){this.#La=new WebSocket(e),this.#La.onerror=this.onError.bind(this),this.#La.onopen=this.onOpen.bind(this),this.#La.onmessage=e=>{this.onMessage&&this.onMessage.call(null,e.data)},this.#La.onclose=this.onClose.bind(this),this.onMessage=null,this.#Ma=null,this.#Ea=t,this.#Aa=!1,this.#Oa=[]}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Ma=e}onError(){this.#Ea&&this.#Ea.call(null),this.#Ma&&this.#Ma.call(null,"connection failed"),this.close()}onOpen(){if(this.#Aa=!0,this.#La){this.#La.onerror=console.error;for(const e of this.#Oa)this.#La.send(e)}this.#Oa=[]}onClose(){this.#Ea&&this.#Ea.call(null),this.#Ma&&this.#Ma.call(null,"websocket closed"),this.close()}close(e){this.#La&&(this.#La.onerror=null,this.#La.onopen=null,this.#La.onclose=e||null,this.#La.onmessage=null,this.#La.close(),this.#La=null),this.#Ea=null}sendRawMessage(e){this.#Aa&&this.#La?this.#La.send(e):this.#Oa.push(e)}disconnect(){return new Promise((e=>{this.close((()=>{this.#Ma&&this.#Ma.call(null,"force disconnect"),e()}))}))}}class Wr{onMessage;#Ma;constructor(){this.onMessage=null,this.#Ma=null}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Ma=e}sendRawMessage(e){window.setTimeout(this.respondWithError.bind(this,e),0)}respondWithError(e){const t=JSON.parse(e),n={message:"This is a stub connection, can't dispatch message.",code:i.InspectorBackend.DevToolsStubErrorCode,data:t};this.onMessage&&this.onMessage.call(null,{id:t.id,error:n})}async disconnect(){this.#Ma&&this.#Ma.call(null,"force disconnect"),this.#Ma=null,this.onMessage=null}}class Vr{#Na;#Fa;onMessage;#Ma;constructor(e,t){this.#Na=e,this.#Fa=t,this.onMessage=null,this.#Ma=null}setOnMessage(e){this.onMessage=e}setOnDisconnect(e){this.#Ma=e}getOnDisconnect(){return this.#Ma}sendRawMessage(e){const t=JSON.parse(e);t.sessionId||(t.sessionId=this.#Fa),this.#Na.sendRawMessage(JSON.stringify(t))}getSessionId(){return this.#Fa}async disconnect(){this.#Ma&&this.#Ma.call(null,"force disconnect"),this.#Ma=null,this.onMessage=null}}function Gr(e){const t=a.Runtime.Runtime.queryParam("ws"),n=a.Runtime.Runtime.queryParam("wss");if(t||n){return new jr(t?`ws://${t}`:`wss://${n}`,e)}return s.InspectorFrontendHost.InspectorFrontendHostInstance.isHostedMode()?new Wr:new zr}var Kr,Qr=Object.freeze({__proto__:null,MainConnection:zr,WebSocketConnection:jr,StubConnection:Wr,ParallelConnection:Vr,initMainConnection:async function(e,t){i.InspectorBackend.Connection.setFactory(Gr.bind(null,t)),await e(),s.InspectorFrontendHost.InspectorFrontendHostInstance.connectionReady(),s.InspectorFrontendHost.InspectorFrontendHostInstance.events.addEventListener(s.InspectorFrontendHostAPI.Events.ReattachMainTarget,(()=>{const t=G.instance().mainTarget();if(t){const e=t.router();e&&e.connection().disconnect()}e()}))}});class $r extends l{#Da;#Ba;#Ua;#Ha=new Map;#qa=new Map;#_a=new Map;#za=new Map;#ja=null;constructor(e){super(e),this.#Da=e.targetManager(),this.#Ba=e,this.#Ua=e.targetAgent(),e.registerTargetDispatcher(this);const t=this.#Da.browserTarget();t?t!==e&&t.targetAgent().invoke_autoAttachRelated({targetId:e.id(),waitForDebuggerOnStart:!0}):this.#Ua.invoke_setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0}),e.parentTarget()||s.InspectorFrontendHost.isUnderTest()||(this.#Ua.invoke_setDiscoverTargets({discover:!0}),this.#Ua.invoke_setRemoteLocations({locations:[{host:"localhost",port:9229}]}))}static install(e){$r.attachCallback=e,l.register($r,{capabilities:_.Target,autostart:!0})}childTargets(){return Array.from(this.#qa.values())}async suspendModel(){await this.#Ua.invoke_setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:!1,flatten:!0})}async resumeModel(){await this.#Ua.invoke_setAutoAttach({autoAttach:!0,waitForDebuggerOnStart:!0,flatten:!0})}dispose(){for(const e of this.#qa.keys())this.detachedFromTarget({sessionId:e,targetId:void 0})}targetCreated({targetInfo:e}){this.#Ha.set(e.targetId,e),this.fireAvailableTargetsChanged(),this.dispatchEventToListeners(Kr.TargetCreated,e)}targetInfoChanged({targetInfo:e}){this.#Ha.set(e.targetId,e);const t=this.#_a.get(e.targetId);t&&t.updateTargetInfo(e),this.fireAvailableTargetsChanged(),this.dispatchEventToListeners(Kr.TargetInfoChanged,e)}targetDestroyed({targetId:e}){this.#Ha.delete(e),this.fireAvailableTargetsChanged(),this.dispatchEventToListeners(Kr.TargetDestroyed,e)}targetCrashed({targetId:e,status:t,errorCode:n}){}fireAvailableTargetsChanged(){G.instance().dispatchEventToListeners(K.AvailableTargetsChanged,[...this.#Ha.values()])}async getParentTargetId(){return this.#ja||(this.#ja=(await this.#Ba.targetAgent().invoke_getTargetInfo({})).targetInfo.targetId),this.#ja}async attachedToTarget({sessionId:t,targetInfo:n,waitingForDebugger:r}){if(this.#ja===n.targetId)return;let s="";if("worker"===n.type&&n.title&&n.title!==n.url)s=n.title;else if("iframe"!==n.type&&"webview"!==n.type){const t=e.ParsedURL.ParsedURL.fromString(n.url);s=t?t.lastPathComponentWithFragment():"#"+ ++$r.lastAnonymousTargetId}let i=q.Browser;"iframe"===n.type||"webview"===n.type||"page"===n.type?i=q.Frame:"worker"===n.type?i=q.Worker:"shared_worker"===n.type?i=q.SharedWorker:"service_worker"===n.type?i=q.ServiceWorker:"auction_worklet"===n.type&&(i=q.AuctionWorklet);const a=this.#Da.createTarget(n.targetId,s,i,this.#Ba,t,void 0,void 0,n);this.#qa.set(t,a),this.#_a.set(a.id(),a),$r.attachCallback&&await $r.attachCallback({target:a,waitingForDebugger:r}),a.runtimeAgent().invoke_runIfWaitingForDebugger()}detachedFromTarget({sessionId:e}){if(this.#za.has(e))this.#za.delete(e);else{const t=this.#qa.get(e);t&&(t.dispose("target terminated"),this.#qa.delete(e),this.#_a.delete(t.id()))}}receivedMessageFromTarget({}){}async createParallelConnection(e){const t=await this.getParentTargetId(),{connection:n,sessionId:r}=await this.createParallelConnectionAndSessionForTarget(this.#Ba,t);return n.setOnMessage(e),this.#za.set(r,n),{connection:n,sessionId:r}}async createParallelConnectionAndSessionForTarget(e,t){const n=e.targetAgent(),r=e.router(),s=(await n.invoke_attachToTarget({targetId:t,flatten:!0})).sessionId,i=new Vr(r.connection(),s);return r.registerSession(e,s,i),i.setOnDisconnect((()=>{r.unregisterSession(s),n.invoke_detachFromTarget({sessionId:s})})),{connection:i,sessionId:s}}targetInfos(){return Array.from(this.#Ha.values())}static lastAnonymousTargetId=0;static attachCallback}!function(e){e.TargetCreated="TargetCreated",e.TargetDestroyed="TargetDestroyed",e.TargetInfoChanged="TargetInfoChanged"}(Kr||(Kr={}));var Xr,Jr,Yr=Object.freeze({__proto__:null,ChildTargetManager:$r,get Events(){return Kr}});!function(e){e.Result="result",e.Command="command",e.System="system",e.QueryObjectResult="queryObjectResult"}(Xr||(Xr={})),function(e){e.CSS="css",e.ConsoleAPI="console-api"}(Jr||(Jr={}));const Zr={profileD:"Profile {PH1}"},es=r.i18n.registerUIStrings("core/sdk/CPUProfilerModel.ts",Zr),ts=r.i18n.getLocalizedString.bind(void 0,es);class ns extends l{#Wa;#Va;#Ga;#Ka;#Qa;#$a;registeredConsoleProfileMessages=[];constructor(e){super(e),this.#Wa=!1,this.#Va=1,this.#Ga=new Map,this.#Ka=e.profilerAgent(),this.#Qa=null,e.registerProfilerDispatcher(this),this.#Ka.invoke_enable(),this.#$a=e.model(ur)}runtimeModel(){return this.#$a.runtimeModel()}debuggerModel(){return this.#$a}consoleProfileStarted({id:e,location:t,title:n}){n||(n=ts(Zr.profileD,{PH1:this.#Va++}),this.#Ga.set(e,n));const r=this.createEventDataFrom(e,t,n);this.dispatchEventToListeners(rs.ConsoleProfileStarted,r)}consoleProfileFinished({id:e,location:t,profile:n,title:r}){r||(r=this.#Ga.get(e),this.#Ga.delete(e));const s={...this.createEventDataFrom(e,t,r),cpuProfile:n};this.registeredConsoleProfileMessages.push(s),this.dispatchEventToListeners(rs.ConsoleProfileFinished,s)}createEventDataFrom(e,t,n){const r=fr.fromPayload(this.#$a,t);return{id:this.target().id()+"."+e,scriptLocation:r,title:n||"",cpuProfilerModel:this}}isRecordingProfile(){return this.#Wa}startRecording(){this.#Wa=!0;return this.#Ka.invoke_setSamplingInterval({interval:100}),this.#Ka.invoke_start()}stopRecording(){return this.#Wa=!1,this.#Ka.invoke_stop().then((e=>e.profile||null))}startPreciseCoverage(e,t){this.#Qa=t;return this.#Ka.invoke_startPreciseCoverage({callCount:!1,detailed:e,allowTriggeredUpdates:!0})}async takePreciseCoverage(){const e=await this.#Ka.invoke_takePreciseCoverage();return{timestamp:e&&e.timestamp||0,coverage:e&&e.result||[]}}stopPreciseCoverage(){return this.#Qa=null,this.#Ka.invoke_stopPreciseCoverage()}preciseCoverageDeltaUpdate({timestamp:e,occasion:t,result:n}){this.#Qa&&this.#Qa(e,t,n)}}var rs;!function(e){e.ConsoleProfileStarted="ConsoleProfileStarted",e.ConsoleProfileFinished="ConsoleProfileFinished"}(rs||(rs={})),l.register(ns,{capabilities:_.JS,autostart:!0});var ss,is=Object.freeze({__proto__:null,CPUProfilerModel:ns,get Events(){return rs}});class as extends l{#Xa;constructor(e){super(e),e.registerLogDispatcher(this),this.#Xa=e.logAgent(),this.#Xa.invoke_enable(),s.InspectorFrontendHost.isUnderTest()||this.#Xa.invoke_startViolationsReport({config:[{name:"longTask",threshold:200},{name:"longLayout",threshold:30},{name:"blockedEvent",threshold:100},{name:"blockedParser",threshold:-1},{name:"handler",threshold:150},{name:"recurringHandler",threshold:50},{name:"discouragedAPIUse",threshold:-1}]})}entryAdded({entry:e}){this.dispatchEventToListeners(ss.EntryAdded,{logModel:this,entry:e})}requestClear(){this.#Xa.invoke_clear()}}(ss||(ss={})).EntryAdded="EntryAdded",l.register(as,{capabilities:_.Log,autostart:!0});var os=Object.freeze({__proto__:null,LogModel:as,get Events(){return ss}});const ls={navigatedToS:"Navigated to {PH1}",profileSStarted:"Profile ''{PH1}'' started.",profileSFinished:"Profile ''{PH1}'' finished.",failedToSaveToTempVariable:"Failed to save to temp variable."},ds=r.i18n.registerUIStrings("core/sdk/ConsoleModel.ts",ls),cs=r.i18n.getLocalizedString.bind(void 0,ds);let hs;class us extends e.ObjectWrapper.ObjectWrapper{#Ja;#Ya;#Za;#eo;#to;#no;#ro;constructor(){super(),this.#Ja=[],this.#Ya=new Map,this.#Za=0,this.#eo=0,this.#to=0,this.#no=0,this.#ro=new WeakMap,G.instance().observeTargets(this)}static instance(e={forceNew:null}){const{forceNew:t}=e;return hs&&!t||(hs=new us),hs}targetAdded(t){const n=t.model(Xn);if(!n||n.cachedResourcesLoaded())return void this.initTarget(t);const r=n.addEventListener(Qn.CachedResourcesLoaded,(()=>{e.EventTarget.removeEventListeners([r]),this.initTarget(t)}))}initTarget(e){const t=[],n=e.model(ns);n&&(t.push(n.addEventListener(rs.ConsoleProfileStarted,this.consoleProfileStarted.bind(this,n))),t.push(n.addEventListener(rs.ConsoleProfileFinished,this.consoleProfileFinished.bind(this,n))));const r=e.model(Xn);r&&!e.parentTarget()&&t.push(r.addEventListener(Qn.MainFrameNavigated,this.mainFrameNavigated,this));const s=e.model(Pr);s&&(t.push(s.addEventListener(Er.ExceptionThrown,this.exceptionThrown.bind(this,s))),t.push(s.addEventListener(Er.ExceptionRevoked,this.exceptionRevoked.bind(this,s))),t.push(s.addEventListener(Er.ConsoleAPICalled,this.consoleAPICalled.bind(this,s))),e.parentTarget()||t.push(s.debuggerModel().addEventListener(mr.GlobalObjectCleared,this.clearIfNecessary,this)),t.push(s.addEventListener(Er.QueryObjectRequested,this.queryObjectRequested.bind(this,s)))),this.#ro.set(e,t)}targetRemoved(t){const n=t.model(Pr);n&&this.#Ya.delete(n),e.EventTarget.removeEventListeners(this.#ro.get(t)||[])}async evaluateCommandInConsole(t,n,r,i){const a=await t.evaluate({expression:r,objectGroup:"console",includeCommandLineAPI:i,silent:!1,returnByValue:!1,generatePreview:!0,replMode:!0,allowUnsafeEvalBlockedByCSP:!1,disableBreaks:void 0,throwOnSideEffect:void 0,timeout:void 0},e.Settings.Settings.instance().moduleSetting("consoleUserActivationEval").get(),!1);s.userMetrics.actionTaken(s.UserMetrics.Action.ConsoleEvaluated),"error"in a||(await e.Console.Console.instance().showPromise(),this.dispatchEventToListeners(gs.CommandEvaluated,{result:a.object,commandMessage:n,exceptionDetails:a.exceptionDetails}))}addCommandMessage(e,t){const n=new ms(e.runtimeModel,"javascript",null,t,{type:Xr.Command});return n.setExecutionContextId(e.id),this.addMessage(n),n}addMessage(e){e.setPageLoadSequenceNumber(this.#no),e.source===Jr.ConsoleAPI&&"clear"===e.type&&this.clearIfNecessary(),this.#Ja.push(e);const t=e.runtimeModel(),n=e.getExceptionId();if(n&&t){let r=this.#Ya.get(t);r||(r=new Map,this.#Ya.set(t,r)),r.set(n,e)}this.incrementErrorWarningCount(e),this.dispatchEventToListeners(gs.MessageAdded,e)}exceptionThrown(e,t){const n=t.data,r=function(e){if(!e)return;return{requestId:e.requestId||void 0,issueId:e.issueId||void 0}}(n.details.exceptionMetaData),s=ms.fromException(e,n.details,void 0,n.timestamp,void 0,r);s.setExceptionId(n.details.exceptionId),this.addMessage(s)}exceptionRevoked(e,t){const n=t.data,r=this.#Ya.get(e),s=r?r.get(n):null;s&&(this.#eo--,s.level="verbose",this.dispatchEventToListeners(gs.MessageUpdated,s))}consoleAPICalled(e,t){const n=t.data;let r="info";"debug"===n.type?r="verbose":"error"===n.type||"assert"===n.type?r="error":"warning"===n.type?r="warning":"info"!==n.type&&"log"!==n.type||(r="info");let s="";n.args.length&&n.args[0].unserializableValue?s=n.args[0].unserializableValue:!n.args.length||"object"==typeof n.args[0].value&&null!==n.args[0].value?n.args.length&&n.args[0].description&&(s=n.args[0].description):s=String(n.args[0].value);const i=n.stackTrace&&n.stackTrace.callFrames.length?n.stackTrace.callFrames[0]:null,a={type:n.type,url:i?.url,line:i?.lineNumber,column:i?.columnNumber,parameters:n.args,stackTrace:n.stackTrace,timestamp:n.timestamp,executionContextId:n.executionContextId,context:n.context},o=new ms(e,Jr.ConsoleAPI,r,s,a);this.addMessage(o)}queryObjectRequested(e,t){const{objects:n,executionContextId:r}=t.data,s={type:Xr.QueryObjectResult,parameters:[n],executionContextId:r},i=new ms(e,Jr.ConsoleAPI,"info","",s);this.addMessage(i)}clearIfNecessary(){e.Settings.Settings.instance().moduleSetting("preserveConsoleLog").get()||this.clear(),++this.#no}mainFrameNavigated(t){e.Settings.Settings.instance().moduleSetting("preserveConsoleLog").get()&&e.Console.Console.instance().log(cs(ls.navigatedToS,{PH1:t.data.url}))}consoleProfileStarted(e,t){const{data:n}=t;this.addConsoleProfileMessage(e,"profile",n.scriptLocation,cs(ls.profileSStarted,{PH1:n.title}))}consoleProfileFinished(e,t){const{data:n}=t;this.addConsoleProfileMessage(e,"profileEnd",n.scriptLocation,cs(ls.profileSFinished,{PH1:n.title}))}addConsoleProfileMessage(e,t,n,r){const s=n.script(),i=[{functionName:"",scriptId:n.scriptId,url:s?s.contentURL():"",lineNumber:n.lineNumber,columnNumber:n.columnNumber||0}];this.addMessage(new ms(e.runtimeModel(),Jr.ConsoleAPI,"info",r,{type:t,stackTrace:{callFrames:i}}))}incrementErrorWarningCount(e){if("violation"!==e.source)switch(e.level){case"warning":this.#Za++;break;case"error":this.#eo++}else this.#to++}messages(){return this.#Ja}requestClearMessages(){for(const e of G.instance().models(as))e.requestClear();for(const e of G.instance().models(Pr))e.discardConsoleEntries();this.clear()}clear(){this.#Ja=[],this.#Ya.clear(),this.#eo=0,this.#Za=0,this.#to=0,this.dispatchEventToListeners(gs.ConsoleCleared)}errors(){return this.#eo}warnings(){return this.#Za}violations(){return this.#to}async saveToTempVariable(t,n){if(!n||!t)return void o(null);const r=t,s=await r.globalObject("",!1);if("error"in s||Boolean(s.exceptionDetails)||!s.object)return void o("object"in s&&s.object||null);const i=s.object,a=await i.callFunction((function(e){const t="temp";let n=1;for(;t+n in this;)++n;const r=t+n;return this[r]=e,r}),[Pe.toCallArgument(n)]);if(i.release(),a.wasThrown||!a.object||"string"!==a.object.type)o(a.object||null);else{const e=a.object.value,t=this.addCommandMessage(r,e);this.evaluateCommandInConsole(r,t,e,!1)}function o(t){let n=cs(ls.failedToSaveToTempVariable);t&&(n=n+" "+t.description),e.Console.Console.instance().error(n)}a.object&&a.object.release()}}var gs;function ps(e,t){if(!e!=!t)return!1;if(!e||!t)return!0;const n=e.callFrames,r=t.callFrames;if(n.length!==r.length)return!1;for(let e=0,t=n.length;e<t;++e)if(n[e].scriptId!==r[e].scriptId||n[e].functionName!==r[e].functionName||n[e].lineNumber!==r[e].lineNumber||n[e].columnNumber!==r[e].columnNumber)return!1;return ps(e.parent,t.parent)}!function(e){e.ConsoleCleared="ConsoleCleared",e.MessageAdded="MessageAdded",e.MessageUpdated="MessageUpdated",e.CommandEvaluated="CommandEvaluated"}(gs||(gs={}));class ms{#ra;source;level;messageText;type;url;line;column;parameters;stackTrace;timestamp;#so;scriptId;workerId;context;#io=null;#no=void 0;#ao=void 0;#oo;category;constructor(e,t,n,r,s){if(this.#ra=e,this.source=t,this.level=n,this.messageText=r,this.type=s?.type||"log",this.url=s?.url,this.line=s?.line||0,this.column=s?.column||0,this.parameters=s?.parameters,this.stackTrace=s?.stackTrace,this.timestamp=s?.timestamp||Date.now(),this.#so=s?.executionContextId||0,this.scriptId=s?.scriptId,this.workerId=s?.workerId,this.#oo=s?.affectedResources,this.category=s?.category,!this.#so&&this.#ra&&(this.scriptId?this.#so=this.#ra.executionContextIdForScriptId(this.scriptId):this.stackTrace&&(this.#so=this.#ra.executionContextForStackTrace(this.stackTrace))),s?.context){const e=s?.context.match(/[^#]*/);this.context=e?.[0]}}getAffectedResources(){return this.#oo}setPageLoadSequenceNumber(e){this.#no=e}static fromException(e,t,n,r,s,i){const a={type:n,url:s||t.url,line:t.lineNumber,column:t.columnNumber,parameters:t.exception?[Pe.fromLocalObject(t.text),t.exception]:void 0,stackTrace:t.stackTrace,timestamp:r,executionContextId:t.executionContextId,scriptId:t.scriptId,affectedResources:i};return new ms(e,"javascript","error",Pr.simpleTextFromException(t),a)}runtimeModel(){return this.#ra}target(){return this.#ra?this.#ra.target():null}setOriginatingMessage(e){this.#io=e,this.#so=e.#so}originatingMessage(){return this.#io}setExecutionContextId(e){this.#so=e}getExecutionContextId(){return this.#so}getExceptionId(){return this.#ao}setExceptionId(e){this.#ao=e}isGroupMessage(){return"startGroup"===this.type||"startGroupCollapsed"===this.type||"endGroup"===this.type}isGroupStartMessage(){return"startGroup"===this.type||"startGroupCollapsed"===this.type}isErrorOrWarning(){return"warning"===this.level||"error"===this.level}isGroupable(){const e="error"===this.level&&("javascript"===this.source||"network"===this.source);return this.source!==Jr.ConsoleAPI&&this.type!==Xr.Command&&this.type!==Xr.Result&&this.type!==Xr.System&&!e}groupCategoryKey(){return[this.source,this.level,this.type,this.#no].join(":")}isEqual(e){if(!e)return!1;if(this.parameters){if(!e.parameters||this.parameters.length!==e.parameters.length)return!1;for(let t=0;t<e.parameters.length;++t){const n=e.parameters[t],r=this.parameters[t];if("string"==typeof n||"string"==typeof r)return!1;if("object"===n.type&&"error"!==n.subtype)return!1;if(r.type!==n.type||r.value!==n.value||r.description!==n.description)return!1}}return this.runtimeModel()===e.runtimeModel()&&this.source===e.source&&this.type===e.type&&this.level===e.level&&this.line===e.line&&this.url===e.url&&this.scriptId===e.scriptId&&this.messageText===e.messageText&&this.#so===e.#so&&(t=this.#oo,n=e.#oo,t?.requestId===n?.requestId)&&ps(this.stackTrace,e.stackTrace);var t,n}}const bs=new Map([["xml","xml"],["javascript","javascript"],["network","network"],[Jr.ConsoleAPI,"console-api"],["storage","storage"],["appcache","appcache"],["rendering","rendering"],[Jr.CSS,"css"],["security","security"],["deprecation","deprecation"],["worker","worker"],["violation","violation"],["intervention","intervention"],["recommendation","recommendation"],["other","other"]]);var fs=Object.freeze({__proto__:null,ConsoleModel:us,get Events(){return gs},ConsoleMessage:ms,MessageSourceDisplayName:bs,get FrontendMessageSource(){return Jr},get FrontendMessageType(){return Xr}});class Is extends l{#lo;#do;constructor(e){super(e),this.#lo=new Map,this.#do=new Map}addBlockedCookie(e,t){const n=e.key(),r=this.#lo.get(n);this.#lo.set(n,e),t?this.#do.set(e,t):this.#do.delete(e),r&&this.#do.delete(r)}getCookieToBlockedReasonsMap(){return this.#do}async getCookies(e){const t=await this.target().networkAgent().invoke_getCookies({urls:e});if(t.getError())return[];return t.cookies.map(N.fromProtocolCookie).concat(Array.from(this.#lo.values()))}async deleteCookie(e){await this.deleteCookies([e])}async clear(e,t){const n=await this.getCookiesForDomain(e||null);if(t){const e=n.filter((e=>e.matchesSecurityOrigin(t)));await this.deleteCookies(e)}else await this.deleteCookies(n)}async saveCookie(e){let t,n=e.domain();n.startsWith(".")||(n=""),e.expires()&&(t=Math.floor(Date.parse(`${e.expires()}`)/1e3));const r=a.Runtime.experiments.isEnabled("experimentalCookieFeatures"),s={name:e.name(),value:e.value(),url:e.url()||void 0,domain:n,path:e.path(),secure:e.secure(),httpOnly:e.httpOnly(),sameSite:e.sameSite(),expires:t,priority:e.priority(),sameParty:e.sameParty(),partitionKey:e.partitionKey(),sourceScheme:r?e.sourceScheme():(i=e.sourceScheme(),"Unset"===i?i:void 0),sourcePort:r?e.sourcePort():void 0};var i;const o=await this.target().networkAgent().invoke_setCookie(s);return!(o.getError()||!o.success)&&o.success}getCookiesForDomain(t){const n=[];const r=this.target().model(Xn);return r&&(r.mainFrame&&r.mainFrame.unreachableUrl()&&n.push(r.mainFrame.unreachableUrl()),r.forAllResources((function(r){const s=e.ParsedURL.ParsedURL.fromString(r.documentURL);return!s||t&&s.securityOrigin()!==t||n.push(r.url),!1}))),this.getCookies(n)}async deleteCookies(e){const t=this.target().networkAgent();this.#lo.clear(),this.#do.clear(),await Promise.all(e.map((e=>t.invoke_deleteCookies({name:e.name(),url:void 0,domain:e.domain(),path:e.path()}))))}}l.register(Is,{capabilities:_.Network,autostart:!1});var vs=Object.freeze({__proto__:null,CookieModel:Is});const ys={devtoolsCpuProfileParserIsFixing:"`DevTools`: `CPU` profile parser is fixing {PH1} missing samples."},Ss=r.i18n.registerUIStrings("core/sdk/CPUProfileDataModel.ts",ys),ks=r.i18n.getLocalizedString.bind(void 0,Ss);class ws extends E{id;self;positionTicks;deoptReason;constructor(e,t){super(e.callFrame||{functionName:e.functionName,scriptId:e.scriptId,url:e.url,lineNumber:e.lineNumber-1,columnNumber:e.columnNumber-1}),this.id=e.id,this.self=(e.hitCount||0)*t,this.positionTicks=e.positionTicks,this.deoptReason=e.deoptReason&&"no reason"!==e.deoptReason?e.deoptReason:null}}var Cs=Object.freeze({__proto__:null,CPUProfileNode:ws,CPUProfileDataModel:class extends A{profileStartTime;profileEndTime;timestamps;samples;lines;totalHitCount;profileHead;#co;gcNode;programNode;idleNode;#ho;#uo;constructor(e,t){super(t);Boolean(e.head)?(this.profileStartTime=1e3*e.startTime,this.profileEndTime=1e3*e.endTime,this.timestamps=e.timestamps,this.compatibilityConversionHeadToNodes(e)):(this.profileStartTime=e.startTime/1e3,this.profileEndTime=e.endTime/1e3,this.timestamps=this.convertTimeDeltas(e)),this.samples=e.samples,this.lines=e.lines,this.totalHitCount=0,this.profileHead=this.translateProfileTree(e.nodes),this.initialize(this.profileHead),this.extractMetaNodes(),this.samples&&(this.buildIdToNodeMap(),this.sortSamples(),this.normalizeTimestamps(),this.fixMissingSamples())}compatibilityConversionHeadToNodes(e){if(!e.head||e.nodes)return;const t=[];!function e(n){return t.push(n),n.children=n.children.map(e),n.id}(e.head),e.nodes=t,delete e.head}convertTimeDeltas(e){if(!e.timeDeltas)return[];let t=e.startTime;const n=new Array(e.timeDeltas.length);for(let r=0;r<e.timeDeltas.length;++r)t+=e.timeDeltas[r],n[r]=t;return n}translateProfileTree(t){const n=new Map;for(let e=0;e<t.length;++e){const r=t[e];n.set(r.id,r)}!function(e,t){if("number"!=typeof e[0].hitCount){if(!t)throw new Error("Error: Neither hitCount nor samples are present in profile.");for(let t=0;t<e.length;++t)e[t].hitCount=0;for(let e=0;e<t.length;++e)++n.get(t[e]).hitCount}}(t,this.samples),function(e){if(!e[0].children){e[0].children=[];for(let t=1;t<e.length;++t){const r=e[t],s=n.get(r.parent);s.children?s.children.push(r.id):s.children=[r.id]}}}(t),this.totalHitCount=t.reduce(((e,t)=>e+(t.hitCount||0)),0);const r=(this.profileEndTime-this.profileStartTime)/this.totalHitCount,s=Boolean(e.Settings.Settings.instance().moduleSetting("showNativeFunctionsInJSProfile").get()),i=t[0],a=new Map([[i.id,i.id]]),o=new ws(i,r);if(!i.children)throw new Error("Missing children for root");const l=i.children.map((()=>o)),d=i.children.map((e=>n.get(e)));for(;d.length;){let e=l.pop();const t=d.pop();if(!t||!e)continue;t.children||(t.children=[]);const i=new ws(t,r);s||!((c=t).callFrame?Boolean(c.callFrame.url)&&c.callFrame.url.startsWith("native "):Boolean(c.url)&&c.url.startsWith("native "))?(e.children.push(i),e=i):e.self+=i.self,a.set(t.id,e.id),l.push.apply(l,t.children.map((()=>e))),d.push.apply(d,t.children.map((e=>n.get(e))))}var c;return this.samples&&(this.samples=this.samples.map((e=>a.get(e)))),o}sortSamples(){const e=this.timestamps;if(!e)return;const t=this.samples;if(!t)return;const n=e.map(((e,t)=>t));n.sort(((t,n)=>e[t]-e[n]));for(let r=0;r<e.length;++r){let s=n[r];if(s===r)continue;const i=e[r],a=t[r];let o=r;for(;s!==r;)t[o]=t[s],e[o]=e[s],o=s,s=n[s],n[o]=o;t[o]=a,e[o]=i}}normalizeTimestamps(){if(!this.samples)return;let e=this.timestamps;if(e){for(let t=0;t<e.length;++t)e[t]/=1e3;if(this.samples.length===e.length){const t=((e[e.length-1]||0)-e[0])/(e.length-1);this.timestamps.push((e[e.length-1]||0)+t)}this.profileStartTime=e[0],this.profileEndTime=e[e.length-1]}else{const t=this.profileStartTime,n=(this.profileEndTime-t)/this.samples.length;e=new Float64Array(this.samples.length+1);for(let r=0;r<e.length;++r)e[r]=t+r*n;this.timestamps=e}}buildIdToNodeMap(){this.#co=new Map;const e=this.#co,t=[this.profileHead];for(;t.length;){const n=t.pop();e.set(n.id,n),t.push.apply(t,n.children)}}extractMetaNodes(){const e=this.profileHead.children;for(let t=0;t<e.length&&!(this.gcNode&&this.programNode&&this.idleNode);t++){const n=e[t];"(garbage collector)"===n.functionName?this.gcNode=n:"(program)"===n.functionName?this.programNode=n:"(idle)"===n.functionName&&(this.idleNode=n)}}fixMissingSamples(){const t=this.samples;if(!t)return;const n=t.length;if(!this.programNode||n<3)return;const r=this.#co,s=this.programNode.id,i=this.gcNode?this.gcNode.id:-1,a=this.idleNode?this.idleNode.id:-1;let o=t[0],l=t[1],d=0;for(let e=1;e<n-1;e++){const n=t[e+1];l!==s||h(o)||h(n)||c(r.get(o))!==c(r.get(n))||(++d,t[e]=o),o=l,l=n}function c(e){for(;e.parent&&e.parent.parent;)e=e.parent;return e}function h(e){return e===s||e===i||e===a}d&&e.Console.Console.instance().warn(ks(ys.devtoolsCpuProfileParserIsFixing,{PH1:d}))}forEachFrame(e,n,r,s){if(!this.profileHead||!this.samples)return;r=r||0,s=s||1/0;const i=this.samples,a=this.timestamps,o=this.#co,l=this.gcNode,d=i.length,c=t.ArrayUtilities.lowerBound(a,r,t.ArrayUtilities.DEFAULT_COMPARATOR);let h=0;const u=[];let g,p=this.profileHead.id,m=null;const b=this.maxDepth+3;this.#ho||(this.#ho=new Float64Array(b));const f=this.#ho;this.#uo||(this.#uo=new Float64Array(b));const I=this.#uo;let v,y;for(y=c;y<d&&(g=a[y],!(g>=s));y++){const t=i[y];if(t===p)continue;v=o.get(t);let r=o.get(p);if(v!==l){if(r===l&&m){const e=f[h],t=g-e;I[h-1]+=t,n(m.depth+1,l,e,t,t-I[h]),--h,r=m,p=r.id,m=null}for(;v&&v.depth>r.depth;)u.push(v),v=v.parent;for(;r!==v;){const e=f[h],t=g-e;I[h-1]+=t,n(r.depth,r,e,t,t-I[h]),--h,v&&v.depth===r.depth&&(u.push(v),v=v.parent),r=r.parent}for(;u.length;){const t=u.pop();v=t,e(t.depth,t,g),f[++h]=g,I[h]=0}p=t}else m=r,e(m.depth+1,l,g),f[++h]=g,I[h]=0,p=t}if(g=a[y]||this.profileEndTime,m&&o.get(p)===l){const e=f[h],t=g-e;I[h-1]+=t,n(m.depth+1,v,e,t,t-I[h]),--h,p=m.id}for(let e=o.get(p);e&&e.parent;e=e.parent){const t=f[h],r=g-t;I[h-1]+=r,n(e.depth,e,t,r,r-I[h]),--h}}nodeByIndex(e){return this.samples&&this.#co.get(this.samples[e])||null}}});class Ts extends l{#go;#po;#xr;#mo;#bo;#fo;#Io;#vo;#yo;#So;constructor(t){super(t),this.#go=t.emulationAgent(),this.#po=t.deviceOrientationAgent(),this.#xr=t.model(ln),this.#mo=t.model(Rn),this.#mo&&this.#mo.addEventListener(Mn.InspectModeWillBeToggled,(()=>{this.updateTouch()}),this);const n=e.Settings.Settings.instance().moduleSetting("javaScriptDisabled");n.addChangeListener((async()=>await this.#go.invoke_setScriptExecutionDisabled({value:n.get()}))),n.get()&&this.#go.invoke_setScriptExecutionDisabled({value:!0});const r=e.Settings.Settings.instance().moduleSetting("emulation.touch");r.addChangeListener((()=>{const e=r.get();this.overrideEmulateTouch("force"===e)}));const s=e.Settings.Settings.instance().moduleSetting("emulation.idleDetection");s.addChangeListener((async()=>{const e=s.get();if("none"===e)return void await this.clearIdleOverride();const t=JSON.parse(e);await this.setIdleOverride(t)}));const i=e.Settings.Settings.instance().moduleSetting("emulatedCSSMedia"),a=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeatureColorGamut"),o=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeaturePrefersColorScheme"),l=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeatureForcedColors"),d=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeaturePrefersContrast"),c=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeaturePrefersReducedData"),h=e.Settings.Settings.instance().moduleSetting("emulatedCSSMediaFeaturePrefersReducedMotion");this.#bo=new Map([["type",i.get()],["color-gamut",a.get()],["prefers-color-scheme",o.get()],["forced-colors",l.get()],["prefers-contrast",d.get()],["prefers-reduced-data",c.get()],["prefers-reduced-motion",h.get()]]),i.addChangeListener((()=>{this.#bo.set("type",i.get()),this.updateCssMedia()})),a.addChangeListener((()=>{this.#bo.set("color-gamut",a.get()),this.updateCssMedia()})),o.addChangeListener((()=>{this.#bo.set("prefers-color-scheme",o.get()),this.updateCssMedia()})),l.addChangeListener((()=>{this.#bo.set("forced-colors",l.get()),this.updateCssMedia()})),d.addChangeListener((()=>{this.#bo.set("prefers-contrast",d.get()),this.updateCssMedia()})),c.addChangeListener((()=>{this.#bo.set("prefers-reduced-data",c.get()),this.updateCssMedia()})),h.addChangeListener((()=>{this.#bo.set("prefers-reduced-motion",h.get()),this.updateCssMedia()})),this.updateCssMedia();const u=e.Settings.Settings.instance().moduleSetting("emulateAutoDarkMode");u.addChangeListener((()=>{const e=u.get();o.setDisabled(e),o.set(e?"dark":""),this.emulateAutoDarkMode(e)})),u.get()&&(o.setDisabled(!0),o.set("dark"),this.emulateAutoDarkMode(!0));const g=e.Settings.Settings.instance().moduleSetting("emulatedVisionDeficiency");g.addChangeListener((()=>this.emulateVisionDeficiency(g.get()))),g.get()&&this.emulateVisionDeficiency(g.get());const p=e.Settings.Settings.instance().moduleSetting("localFontsDisabled");p.addChangeListener((()=>this.setLocalFontsDisabled(p.get()))),p.get()&&this.setLocalFontsDisabled(p.get());const m=e.Settings.Settings.instance().moduleSetting("avifFormatDisabled"),b=e.Settings.Settings.instance().moduleSetting("jpegXlFormatDisabled"),f=e.Settings.Settings.instance().moduleSetting("webpFormatDisabled"),I=()=>{const e=[];m.get()&&e.push("avif"),b.get()&&e.push("jxl"),f.get()&&e.push("webp"),this.setDisabledImageTypes(e)};m.addChangeListener(I),f.addChangeListener(I),b.addChangeListener(I),(m.get()||b.get()||f.get())&&I(),this.#vo=!0,this.#fo=!1,this.#Io=!1,this.#yo=!1,this.#So={enabled:!1,configuration:"mobile"}}setTouchEmulationAllowed(e){this.#vo=e}supportsDeviceEmulation(){return this.target().hasAllCapabilities(_.DeviceEmulation)}async resetPageScaleFactor(){await this.#go.invoke_resetPageScaleFactor()}async emulateDevice(e){e?await this.#go.invoke_setDeviceMetricsOverride(e):await this.#go.invoke_clearDeviceMetricsOverride()}overlayModel(){return this.#mo}async emulateLocation(e){if(!e||e.error)await Promise.all([this.#go.invoke_clearGeolocationOverride(),this.#go.invoke_setTimezoneOverride({timezoneId:""}),this.#go.invoke_setLocaleOverride({locale:""}),this.#go.invoke_setUserAgentOverride({userAgent:he.instance().currentUserAgent()})]);else{function t(e,t){const n=t.getError();return n?Promise.reject({type:e,message:n}):Promise.resolve()}await Promise.all([this.#go.invoke_setGeolocationOverride({latitude:e.latitude,longitude:e.longitude,accuracy:Rs.defaultGeoMockAccuracy}).then((e=>t("emulation-set-location",e))),this.#go.invoke_setTimezoneOverride({timezoneId:e.timezoneId}).then((e=>t("emulation-set-timezone",e))),this.#go.invoke_setLocaleOverride({locale:e.locale}).then((e=>t("emulation-set-locale",e))),this.#go.invoke_setUserAgentOverride({userAgent:he.instance().currentUserAgent(),acceptLanguage:e.locale}).then((e=>t("emulation-set-user-agent",e)))])}}async emulateDeviceOrientation(e){e?await this.#po.invoke_setDeviceOrientationOverride({alpha:e.alpha,beta:e.beta,gamma:e.gamma}):await this.#po.invoke_clearDeviceOrientationOverride()}async setIdleOverride(e){await this.#go.invoke_setIdleOverride(e)}async clearIdleOverride(){await this.#go.invoke_clearIdleOverride()}async emulateCSSMedia(e,t){await this.#go.invoke_setEmulatedMedia({media:e,features:t}),this.#xr&&this.#xr.mediaQueryResultChanged()}async emulateAutoDarkMode(e){e&&(this.#bo.set("prefers-color-scheme","dark"),await this.updateCssMedia()),await this.#go.invoke_setAutoDarkModeOverride({enabled:e||void 0})}async emulateVisionDeficiency(e){await this.#go.invoke_setEmulatedVisionDeficiency({type:e})}setLocalFontsDisabled(e){this.#xr&&this.#xr.setLocalFontsEnabled(!e)}setDisabledImageTypes(e){this.#go.invoke_setDisabledImageTypes({imageTypes:e})}async setCPUThrottlingRate(e){await this.#go.invoke_setCPUThrottlingRate({rate:e})}async setHardwareConcurrency(e){if(e<1)throw new Error("hardwareConcurrency must be a positive value");await this.#go.invoke_setHardwareConcurrencyOverride({hardwareConcurrency:e})}async emulateTouch(e,t){this.#fo=e&&this.#vo,this.#Io=t&&this.#vo,await this.updateTouch()}async overrideEmulateTouch(e){this.#yo=e&&this.#vo,await this.updateTouch()}async updateTouch(){let e={enabled:this.#fo,configuration:this.#Io?"mobile":"desktop"};this.#yo&&(e={enabled:!0,configuration:"mobile"}),this.#mo&&this.#mo.inspectModeEnabled()&&(e={enabled:!1,configuration:"mobile"}),(this.#So.enabled||e.enabled)&&(this.#So.enabled&&e.enabled&&this.#So.configuration===e.configuration||(this.#So=e,await this.#go.invoke_setTouchEmulationEnabled({enabled:e.enabled,maxTouchPoints:1}),await this.#go.invoke_setEmitTouchEventsForMouse({enabled:e.enabled,configuration:e.configuration})))}async updateCssMedia(){const e=this.#bo.get("type")??"",t=[{name:"color-gamut",value:this.#bo.get("color-gamut")??""},{name:"prefers-color-scheme",value:this.#bo.get("prefers-color-scheme")??""},{name:"forced-colors",value:this.#bo.get("forced-colors")??""},{name:"prefers-contrast",value:this.#bo.get("prefers-contrast")??""},{name:"prefers-reduced-data",value:this.#bo.get("prefers-reduced-data")??""},{name:"prefers-reduced-motion",value:this.#bo.get("prefers-reduced-motion")??""}];return this.emulateCSSMedia(e,t)}}class Rs{latitude;longitude;timezoneId;locale;error;constructor(e,t,n,r,s){this.latitude=e,this.longitude=t,this.timezoneId=n,this.locale=r,this.error=s}static parseSetting(e){if(e){const[t,n,r,s]=e.split(":"),[i,a]=t.split("@");return new Rs(parseFloat(i),parseFloat(a),n,r,Boolean(s))}return new Rs(0,0,"","",!1)}static parseUserInput(e,t,n,r){if(!e&&!t)return null;const{valid:s}=Rs.latitudeValidator(e),{valid:i}=Rs.longitudeValidator(t);if(!s&&!i)return null;const a=s?parseFloat(e):-1,o=i?parseFloat(t):-1;return new Rs(a,o,n,r,!1)}static latitudeValidator(e){const t=parseFloat(e);return{valid:/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-90&&t<=90,errorMessage:void 0}}static longitudeValidator(e){const t=parseFloat(e);return{valid:/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&t>=-180&&t<=180,errorMessage:void 0}}static timezoneIdValidator(e){return{valid:""===e||/[a-zA-Z]/.test(e),errorMessage:void 0}}static localeValidator(e){return{valid:""===e||/[a-zA-Z]{2}/.test(e),errorMessage:void 0}}toSetting(){return`${this.latitude}@${this.longitude}:${this.timezoneId}:${this.locale}:${this.error||""}`}static defaultGeoMockAccuracy=150}class Ms{alpha;beta;gamma;constructor(e,t,n){this.alpha=e,this.beta=t,this.gamma=n}static parseSetting(e){if(e){const t=JSON.parse(e);return new Ms(t.alpha,t.beta,t.gamma)}return new Ms(0,0,0)}static parseUserInput(e,t,n){if(!e&&!t&&!n)return null;const{valid:r}=Ms.alphaAngleValidator(e),{valid:s}=Ms.betaAngleValidator(t),{valid:i}=Ms.gammaAngleValidator(n);if(!r&&!s&&!i)return null;const a=r?parseFloat(e):-1,o=s?parseFloat(t):-1,l=i?parseFloat(n):-1;return new Ms(a,o,l)}static angleRangeValidator(e,t){const n=parseFloat(e);return{valid:/^([+-]?[\d]+(\.\d+)?|[+-]?\.\d+)$/.test(e)&&n>=t.minimum&&n<t.maximum,errorMessage:void 0}}static alphaAngleValidator(e){return Ms.angleRangeValidator(e,{minimum:-180,maximum:180})}static betaAngleValidator(e){return Ms.angleRangeValidator(e,{minimum:-180,maximum:180})}static gammaAngleValidator(e){return Ms.angleRangeValidator(e,{minimum:-90,maximum:90})}toSetting(){return JSON.stringify(this)}}l.register(Ts,{capabilities:_.Emulation,autostart:!0});var xs=Object.freeze({__proto__:null,EmulationModel:Ts,Location:Rs,DeviceOrientation:Ms});let Ps;class Ls extends e.ObjectWrapper.ObjectWrapper{#ko;#wo;#Co;constructor(){super(),this.#ko=As.NoThrottling,G.instance().observeModels(Ts,this)}static instance(e={forceNew:null}){const{forceNew:t}=e;return Ps&&!t||(Ps=new Ls),Ps}cpuThrottlingRate(){return this.#ko}setCPUThrottlingRate(e){this.#ko=e;for(const e of G.instance().models(Ts))e.setCPUThrottlingRate(this.#ko);this.dispatchEventToListeners(Es.RateChanged,this.#ko)}setHardwareConcurrency(e){this.#wo=e;for(const t of G.instance().models(Ts))t.setHardwareConcurrency(e);this.dispatchEventToListeners(Es.HardwareConcurrencyChanged,this.#wo)}async getHardwareConcurrency(){const e=G.instance().mainTarget(),t=this.#Co;if(!e)return new Promise(t?e=>{this.#Co=n=>{e(n),t(n)}}:e=>{this.#Co=e});const n=await e.runtimeAgent().invoke_evaluate({expression:"navigator.hardwareConcurrency",returnByValue:!0,silent:!0,throwOnSideEffect:!0}),r=n.getError();if(r)throw new Error(r);const{result:s,exceptionDetails:i}=n;if(i)throw new Error(i.text);return s.value}modelAdded(e){if(this.#ko!==As.NoThrottling&&e.setCPUThrottlingRate(this.#ko),void 0!==this.#wo&&e.setHardwareConcurrency(this.#wo),this.#Co){const e=this.#Co;this.#Co=void 0,this.getHardwareConcurrency().then(e)}}modelRemoved(e){}}var Es,As;!function(e){e.RateChanged="RateChanged",e.HardwareConcurrencyChanged="HardwareConcurrencyChanged"}(Es||(Es={})),function(e){e[e.NoThrottling=1]="NoThrottling",e[e.MidTierMobile=4]="MidTierMobile",e[e.LowEndMobile=6]="LowEndMobile"}(As||(As={}));var Os=Object.freeze({__proto__:null,CPUThrottlingManager:Ls,get Events(){return Es},throttlingManager:function(){return Ls.instance()},get CPUThrottlingRates(){return As}});const Ns=new Set(["inherit","initial","unset"]),Fs=/[\x20-\x7E]{4}/,Ds=new RegExp(`(?:'(${Fs.source})')|(?:"(${Fs.source})")\\s+(${/[+-]?(?:\d*\.)?\d+(?:[eE]\d+)?/.source})`);const Bs=/^"(.+)"|'(.+)'$/;function Us(e){return e.split(",").map((e=>e.trim()))}function Hs(e){return e.replaceAll(/(\/\*(?:.|\s)*?\*\/)/g,"")}var qs=Object.freeze({__proto__:null,parseFontVariationSettings:function(e){if(Ns.has(e.trim())||"normal"===e.trim())return[];const t=[];for(const n of Us(Hs(e))){const e=n.match(Ds);e&&t.push({tag:e[1]||e[2],value:parseFloat(e[3])})}return t},parseFontFamily:function(e){if(Ns.has(e.trim()))return[];const t=[];for(const n of Us(Hs(e))){const e=n.match(Bs);e?t.push(e[1]||e[2]):t.push(n)}return t},splitByComma:Us,stripComments:Hs});const _s={trustedTypeViolations:"Trusted Type Violations",sinkViolations:"Sink Violations",policyViolations:"Policy Violations",animation:"Animation",canvas:"Canvas",geolocation:"Geolocation",notification:"Notification",parse:"Parse",script:"Script",timer:"Timer",window:"Window",webaudio:"WebAudio",media:"Media",pictureinpicture:"Picture-in-Picture",clipboard:"Clipboard",control:"Control",device:"Device",domMutation:"DOM Mutation",dragDrop:"Drag / drop",keyboard:"Keyboard",load:"Load",mouse:"Mouse",pointer:"Pointer",touch:"Touch",xhr:"XHR",setTimeoutOrIntervalFired:"{PH1} fired",scriptFirstStatement:"Script First Statement",scriptBlockedByContentSecurity:"Script Blocked by Content Security Policy",requestAnimationFrame:"Request Animation Frame",cancelAnimationFrame:"Cancel Animation Frame",animationFrameFired:"Animation Frame Fired",webglErrorFired:"WebGL Error Fired",webglWarningFired:"WebGL Warning Fired",setInnerhtml:"Set `innerHTML`",createCanvasContext:"Create canvas context",createAudiocontext:"Create `AudioContext`",closeAudiocontext:"Close `AudioContext`",resumeAudiocontext:"Resume `AudioContext`",suspendAudiocontext:"Suspend `AudioContext`",webglErrorFiredS:"WebGL Error Fired ({PH1})",scriptBlockedDueToContent:"Script blocked due to Content Security Policy directive: {PH1}",worker:"Worker"},zs=r.i18n.registerUIStrings("core/sdk/DOMDebuggerModel.ts",_s),js=r.i18n.getLocalizedString.bind(void 0,zs);class Ws extends l{agent;#ra;#gr;#To;#Ro;suspended=!1;constructor(t){super(t),this.agent=t.domdebuggerAgent(),this.#ra=t.model(Pr),this.#gr=t.model(Dn),this.#gr.addEventListener(Ln.DocumentUpdated,this.documentUpdated,this),this.#gr.addEventListener(Ln.NodeRemoved,this.nodeRemoved,this),this.#To=[],this.#Ro=e.Settings.Settings.instance().createLocalSetting("domBreakpoints",[]),this.#gr.existingDocument()&&this.documentUpdated()}runtimeModel(){return this.#ra}async suspendModel(){this.suspended=!0}async resumeModel(){this.suspended=!1}async eventListeners(e){if(console.assert(e.runtimeModel()===this.#ra),!e.objectId)return[];const t=await this.agent.invoke_getEventListeners({objectId:e.objectId}),n=[];for(const r of t.listeners||[]){const t=this.#ra.debuggerModel().createRawLocationByScriptId(r.scriptId,r.lineNumber,r.columnNumber);t&&n.push(new Qs(this,e,r.type,r.useCapture,r.passive,r.once,r.handler?this.#ra.createRemoteObject(r.handler):null,r.originalHandler?this.#ra.createRemoteObject(r.originalHandler):null,t,null))}return n}retrieveDOMBreakpoints(){this.#gr.requestDocument()}domBreakpoints(){return this.#To.slice()}hasDOMBreakpoint(e,t){return this.#To.some((n=>n.node===e&&n.type===t))}setDOMBreakpoint(e,t){for(const n of this.#To)if(n.node===e&&n.type===t)return this.toggleDOMBreakpoint(n,!0),n;const n=new Ks(this,e,t,!0);return this.#To.push(n),this.saveDOMBreakpoints(),this.enableDOMBreakpoint(n),this.dispatchEventToListeners(Vs.DOMBreakpointAdded,n),n}removeDOMBreakpoint(e,t){this.removeDOMBreakpoints((n=>n.node===e&&n.type===t))}removeAllDOMBreakpoints(){this.removeDOMBreakpoints((e=>!0))}toggleDOMBreakpoint(e,t){t!==e.enabled&&(e.enabled=t,t?this.enableDOMBreakpoint(e):this.disableDOMBreakpoint(e),this.dispatchEventToListeners(Vs.DOMBreakpointToggled,e))}enableDOMBreakpoint(e){e.node.id&&(this.agent.invoke_setDOMBreakpoint({nodeId:e.node.id,type:e.type}),e.node.setMarker(Gs,!0))}disableDOMBreakpoint(e){e.node.id&&(this.agent.invoke_removeDOMBreakpoint({nodeId:e.node.id,type:e.type}),e.node.setMarker(Gs,!!this.nodeHasBreakpoints(e.node)||null))}nodeHasBreakpoints(e){for(const t of this.#To)if(t.node===e&&t.enabled)return!0;return!1}resolveDOMBreakpointData(e){const t=e.type,n=this.#gr.nodeForId(e.nodeId);if(!t||!n)return null;let r=null,s=!1;return"subtree-modified"===t&&(s=e.insertion||!1,r=this.#gr.nodeForId(e.targetNodeId)),{type:t,node:n,targetNode:r,insertion:s}}currentURL(){const e=this.#gr.existingDocument();return e?e.documentURL:t.DevToolsPath.EmptyUrlString}async documentUpdated(){if(this.suspended)return;const e=this.#To;this.#To=[],this.dispatchEventToListeners(Vs.DOMBreakpointsRemoved,e);const n=await this.#gr.requestDocument(),r=n?n.documentURL:t.DevToolsPath.EmptyUrlString;for(const e of this.#Ro.get())e.url===r&&this.#gr.pushNodeByPathToFrontend(e.path).then(s.bind(this,e));function s(e,t){const n=t?this.#gr.nodeForId(t):null;if(!n)return;const r=new Ks(this,n,e.type,e.enabled);this.#To.push(r),e.enabled&&this.enableDOMBreakpoint(r),this.dispatchEventToListeners(Vs.DOMBreakpointAdded,r)}}removeDOMBreakpoints(e){const t=[],n=[];for(const r of this.#To)e(r)?(t.push(r),r.enabled&&(r.enabled=!1,this.disableDOMBreakpoint(r))):n.push(r);t.length&&(this.#To=n,this.saveDOMBreakpoints(),this.dispatchEventToListeners(Vs.DOMBreakpointsRemoved,t))}nodeRemoved(e){if(this.suspended)return;const{node:t}=e.data,n=t.children()||[];this.removeDOMBreakpoints((e=>e.node===t||-1!==n.indexOf(e.node)))}saveDOMBreakpoints(){const e=this.currentURL(),t=this.#Ro.get().filter((t=>t.url!==e));for(const n of this.#To)t.push({url:e,path:n.node.path(),type:n.type,enabled:n.enabled});this.#Ro.set(t)}}var Vs;!function(e){e.DOMBreakpointAdded="DOMBreakpointAdded",e.DOMBreakpointToggled="DOMBreakpointToggled",e.DOMBreakpointsRemoved="DOMBreakpointsRemoved"}(Vs||(Vs={}));const Gs="breakpoint-marker";class Ks{domDebuggerModel;node;type;enabled;constructor(e,t,n,r){this.domDebuggerModel=e,this.node=t,this.type=n,this.enabled=r}}class Qs{#Mo;#xo;#g;#Po;#Lo;#Eo;#Ao;#Oo;#zi;#No;#Fo;#Do;constructor(e,n,r,s,i,a,o,l,d,c,h){this.#Mo=e,this.#xo=n,this.#g=r,this.#Po=s,this.#Lo=i,this.#Eo=a,this.#Ao=o,this.#Oo=l||o,this.#zi=d;const u=d.script();this.#No=u?u.contentURL():t.DevToolsPath.EmptyUrlString,this.#Fo=c,this.#Do=h||Qs.Origin.Raw}domDebuggerModel(){return this.#Mo}type(){return this.#g}useCapture(){return this.#Po}passive(){return this.#Lo}once(){return this.#Eo}handler(){return this.#Ao}location(){return this.#zi}sourceURL(){return this.#No}originalHandler(){return this.#Oo}canRemove(){return Boolean(this.#Fo)||this.#Do!==Qs.Origin.FrameworkUser}remove(){if(!this.canRemove())return Promise.resolve(void 0);if(this.#Do!==Qs.Origin.FrameworkUser){function e(e,t,n){this.removeEventListener(e,t,n),this["on"+e]&&(this["on"+e]=void 0)}return this.#xo.callFunction(e,[Pe.toCallArgument(this.#g),Pe.toCallArgument(this.#Oo),Pe.toCallArgument(this.#Po)]).then((()=>{}))}if(this.#Fo){function e(e,t,n,r){this.call(null,e,t,n,r)}return this.#Fo.callFunction(e,[Pe.toCallArgument(this.#g),Pe.toCallArgument(this.#Oo),Pe.toCallArgument(this.#Po),Pe.toCallArgument(this.#Lo)]).then((()=>{}))}return Promise.resolve(void 0)}canTogglePassive(){return this.#Do!==Qs.Origin.FrameworkUser}togglePassive(){return this.#xo.callFunction((function(e,t,n,r){this.removeEventListener(e,t,{capture:n}),this.addEventListener(e,t,{capture:n,passive:!r})}),[Pe.toCallArgument(this.#g),Pe.toCallArgument(this.#Oo),Pe.toCallArgument(this.#Po),Pe.toCallArgument(this.#Lo)]).then((()=>{}))}origin(){return this.#Do}markAsFramework(){this.#Do=Qs.Origin.Framework}isScrollBlockingType(){return"touchstart"===this.#g||"touchmove"===this.#g||"mousewheel"===this.#g||"wheel"===this.#g}}!function(e){let t;!function(e){e.Raw="Raw",e.Framework="Framework",e.FrameworkUser="FrameworkUser"}(t=e.Origin||(e.Origin={}))}(Qs||(Qs={}));class $s extends qr{#g;constructor(e,t,n){super(e,t),this.#g=n}type(){return this.#g}}class Xs extends qr{instrumentationName;eventName;eventTargetNames;constructor(e,t,n,r,s){super(r,s),this.instrumentationName=e,this.eventName=t,this.eventTargetNames=n}setEnabled(e){if(this.enabled()!==e){super.setEnabled(e);for(const e of G.instance().models(Ws))this.updateOnModel(e)}}updateOnModel(e){if(this.instrumentationName)this.enabled()?e.agent.invoke_setInstrumentationBreakpoint({eventName:this.instrumentationName}):e.agent.invoke_removeInstrumentationBreakpoint({eventName:this.instrumentationName});else for(const t of this.eventTargetNames)this.enabled()?e.agent.invoke_setEventListenerBreakpoint({eventName:this.eventName,targetName:t}):e.agent.invoke_removeEventListenerBreakpoint({eventName:this.eventName,targetName:t})}static listener="listener:";static instrumentation="instrumentation:"}let Js;class Ys{#Bo;#Uo;#Ho;#qo;constructor(){this.#Bo=e.Settings.Settings.instance().createLocalSetting("xhrBreakpoints",[]),this.#Uo=new Map;for(const e of this.#Bo.get())this.#Uo.set(e.url,e.enabled);this.#Ho=[],this.#Ho.push(new $s(js(_s.trustedTypeViolations),js(_s.sinkViolations),"trustedtype-sink-violation")),this.#Ho.push(new $s(js(_s.trustedTypeViolations),js(_s.policyViolations),"trustedtype-policy-violation")),this.#qo=[],this.createInstrumentationBreakpoints(js(_s.animation),["requestAnimationFrame","cancelAnimationFrame","requestAnimationFrame.callback"]),this.createInstrumentationBreakpoints(js(_s.canvas),["canvasContextCreated","webglErrorFired","webglWarningFired"]),this.createInstrumentationBreakpoints(js(_s.geolocation),["Geolocation.getCurrentPosition","Geolocation.watchPosition"]),this.createInstrumentationBreakpoints(js(_s.notification),["Notification.requestPermission"]),this.createInstrumentationBreakpoints(js(_s.parse),["Element.setInnerHTML","Document.write"]),this.createInstrumentationBreakpoints(js(_s.script),["scriptFirstStatement","scriptBlockedByCSP"]),this.createInstrumentationBreakpoints(js(_s.timer),["setTimeout","clearTimeout","setInterval","clearInterval","setTimeout.callback","setInterval.callback"]),this.createInstrumentationBreakpoints(js(_s.window),["DOMWindow.close"]),this.createInstrumentationBreakpoints(js(_s.webaudio),["audioContextCreated","audioContextClosed","audioContextResumed","audioContextSuspended"]),this.createEventListenerBreakpoints(js(_s.media),["play","pause","playing","canplay","canplaythrough","seeking","seeked","timeupdate","ended","ratechange","durationchange","volumechange","loadstart","progress","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","waiting"],["audio","video"]),this.createEventListenerBreakpoints(js(_s.pictureinpicture),["enterpictureinpicture","leavepictureinpicture"],["video"]),this.createEventListenerBreakpoints(js(_s.pictureinpicture),["resize"],["PictureInPictureWindow"]),this.createEventListenerBreakpoints(js(_s.clipboard),["copy","cut","paste","beforecopy","beforecut","beforepaste"],["*"]),this.createEventListenerBreakpoints(js(_s.control),["resize","scroll","zoom","focus","blur","select","change","submit","reset"],["*"]),this.createEventListenerBreakpoints(js(_s.device),["deviceorientation","devicemotion"],["*"]),this.createEventListenerBreakpoints(js(_s.domMutation),["DOMActivate","DOMFocusIn","DOMFocusOut","DOMAttrModified","DOMCharacterDataModified","DOMNodeInserted","DOMNodeInsertedIntoDocument","DOMNodeRemoved","DOMNodeRemovedFromDocument","DOMSubtreeModified","DOMContentLoaded"],["*"]),this.createEventListenerBreakpoints(js(_s.dragDrop),["drag","dragstart","dragend","dragenter","dragover","dragleave","drop"],["*"]),this.createEventListenerBreakpoints(js(_s.keyboard),["keydown","keyup","keypress","input"],["*"]),this.createEventListenerBreakpoints(js(_s.load),["load","beforeunload","unload","abort","error","hashchange","popstate","navigate","navigatesuccess","navigateerror","currentchange","navigateto","navigatefrom","finish","dispose"],["*"]),this.createEventListenerBreakpoints(js(_s.mouse),["auxclick","click","dblclick","mousedown","mouseup","mouseover","mousemove","mouseout","mouseenter","mouseleave","mousewheel","wheel","contextmenu"],["*"]),this.createEventListenerBreakpoints(js(_s.pointer),["pointerover","pointerout","pointerenter","pointerleave","pointerdown","pointerup","pointermove","pointercancel","gotpointercapture","lostpointercapture","pointerrawupdate"],["*"]),this.createEventListenerBreakpoints(js(_s.touch),["touchstart","touchmove","touchend","touchcancel"],["*"]),this.createEventListenerBreakpoints(js(_s.worker),["message","messageerror"],["*"]),this.createEventListenerBreakpoints(js(_s.xhr),["readystatechange","load","loadstart","loadend","abort","error","progress","timeout"],["xmlhttprequest","xmlhttprequestupload"]);for(const[e,t]of[["setTimeout.callback",js(_s.setTimeoutOrIntervalFired,{PH1:"setTimeout"})],["setInterval.callback",js(_s.setTimeoutOrIntervalFired,{PH1:"setInterval"})],["scriptFirstStatement",js(_s.scriptFirstStatement)],["scriptBlockedByCSP",js(_s.scriptBlockedByContentSecurity)],["requestAnimationFrame",js(_s.requestAnimationFrame)],["cancelAnimationFrame",js(_s.cancelAnimationFrame)],["requestAnimationFrame.callback",js(_s.animationFrameFired)],["webglErrorFired",js(_s.webglErrorFired)],["webglWarningFired",js(_s.webglWarningFired)],["Element.setInnerHTML",js(_s.setInnerhtml)],["canvasContextCreated",js(_s.createCanvasContext)],["Geolocation.getCurrentPosition","getCurrentPosition"],["Geolocation.watchPosition","watchPosition"],["Notification.requestPermission","requestPermission"],["DOMWindow.close","window.close"],["Document.write","document.write"],["audioContextCreated",js(_s.createAudiocontext)],["audioContextClosed",js(_s.closeAudiocontext)],["audioContextResumed",js(_s.resumeAudiocontext)],["audioContextSuspended",js(_s.suspendAudiocontext)]]){const n=this.resolveEventListenerBreakpointInternal("instrumentation:"+e);n&&n.setTitle(t)}G.instance().observeModels(Ws,this)}static instance(e={forceNew:null}){const{forceNew:t}=e;return Js&&!t||(Js=new Ys),Js}cspViolationBreakpoints(){return this.#Ho.slice()}createInstrumentationBreakpoints(e,t){for(const n of t)this.#qo.push(new Xs(n,"",[],e,n))}createEventListenerBreakpoints(e,t,n){for(const r of t)this.#qo.push(new Xs("",r,n,e,r))}resolveEventListenerBreakpointInternal(e,t){const n="instrumentation:",r="listener:";let s="";if(e.startsWith(n))s=e.substring(n.length),e="";else{if(!e.startsWith(r))return null;e=e.substring(r.length)}t=(t||"*").toLowerCase();let i=null;for(const n of this.#qo)s&&n.instrumentationName===s&&(i=n),e&&n.eventName===e&&-1!==n.eventTargetNames.indexOf(t)&&(i=n),!i&&e&&n.eventName===e&&-1!==n.eventTargetNames.indexOf("*")&&(i=n);return i}eventListenerBreakpoints(){return this.#qo.slice()}resolveEventListenerBreakpointTitle(e){const t=e.eventName;if("instrumentation:webglErrorFired"===t&&e.webglErrorName){let t=e.webglErrorName;return t=t.replace(/^.*(0x[0-9a-f]+).*$/i,"$1"),js(_s.webglErrorFiredS,{PH1:t})}if("instrumentation:scriptBlockedByCSP"===t&&e.directiveText)return js(_s.scriptBlockedDueToContent,{PH1:e.directiveText});const n=this.resolveEventListenerBreakpointInternal(t,e.targetName);return n?e.targetName?e.targetName+"."+n.title():n.title():""}resolveEventListenerBreakpoint(e){return this.resolveEventListenerBreakpointInternal(e.eventName,e.targetName)}updateCSPViolationBreakpoints(){const e=this.#Ho.filter((e=>e.enabled())).map((e=>e.type()));for(const t of G.instance().models(Ws))this.updateCSPViolationBreakpointsForModel(t,e)}updateCSPViolationBreakpointsForModel(e,t){e.agent.invoke_setBreakOnCSPViolation({violationTypes:t})}xhrBreakpoints(){return this.#Uo}saveXHRBreakpoints(){const e=[];for(const t of this.#Uo.keys())e.push({url:t,enabled:this.#Uo.get(t)||!1});this.#Bo.set(e)}addXHRBreakpoint(e,t){if(this.#Uo.set(e,t),t)for(const t of G.instance().models(Ws))t.agent.invoke_setXHRBreakpoint({url:e});this.saveXHRBreakpoints()}removeXHRBreakpoint(e){const t=this.#Uo.get(e);if(this.#Uo.delete(e),t)for(const t of G.instance().models(Ws))t.agent.invoke_removeXHRBreakpoint({url:e});this.saveXHRBreakpoints()}toggleXHRBreakpoint(e,t){this.#Uo.set(e,t);for(const n of G.instance().models(Ws))t?n.agent.invoke_setXHRBreakpoint({url:e}):n.agent.invoke_removeXHRBreakpoint({url:e});this.saveXHRBreakpoints()}modelAdded(e){for(const t of this.#Uo.keys())this.#Uo.get(t)&&e.agent.invoke_setXHRBreakpoint({url:t});for(const t of this.#qo)t.enabled()&&t.updateOnModel(e);const t=this.#Ho.filter((e=>e.enabled())).map((e=>e.type()));this.updateCSPViolationBreakpointsForModel(e,t)}modelRemoved(e){}}l.register(Ws,{capabilities:_.DOM,autostart:!1});var Zs=Object.freeze({__proto__:null,DOMDebuggerModel:Ws,get Events(){return Vs},DOMBreakpoint:Ks,get EventListener(){return Qs},CSPViolationBreakpoint:$s,DOMEventListenerBreakpoint:Xs,DOMDebuggerManager:Ys});const ei={auctionWorklet:"Ad Auction Worklet",beforeBidderWorkletBiddingStart:"Bidder Bidding Phase Start",beforeBidderWorkletReportingStart:"Bidder Reporting Phase Start",beforeSellerWorkletScoringStart:"Seller Scoring Phase Start",beforeSellerWorkletReportingStart:"Seller Reporting Phase Start"},ti=r.i18n.registerUIStrings("core/sdk/EventBreakpointsModel.ts",ei),ni=r.i18n.getLocalizedString.bind(void 0,ti);class ri extends l{agent;constructor(e){super(e),this.agent=e.eventBreakpointsAgent()}}class si extends qr{instrumentationName;constructor(e,t){super(t,function(e){switch(e){case"beforeBidderWorkletBiddingStart":return ni(ei.beforeBidderWorkletBiddingStart);case"beforeBidderWorkletReportingStart":return ni(ei.beforeBidderWorkletReportingStart);case"beforeSellerWorkletScoringStart":return ni(ei.beforeSellerWorkletScoringStart);case"beforeSellerWorkletReportingStart":return ni(ei.beforeSellerWorkletReportingStart)}}(e)),this.instrumentationName=e}setEnabled(e){if(this.enabled()!==e){super.setEnabled(e);for(const e of G.instance().models(ri))this.updateOnModel(e)}}updateOnModel(e){this.enabled()?e.agent.invoke_setInstrumentationBreakpoint({eventName:this.instrumentationName}):e.agent.invoke_removeInstrumentationBreakpoint({eventName:this.instrumentationName})}static instrumentationPrefix="instrumentation:"}let ii;class ai{#qo=[];constructor(){this.createInstrumentationBreakpoints(ni(ei.auctionWorklet),["beforeBidderWorkletBiddingStart","beforeBidderWorkletReportingStart","beforeSellerWorkletScoringStart","beforeSellerWorkletReportingStart"]),G.instance().observeModels(ri,this)}static instance(e={forceNew:null}){const{forceNew:t}=e;return ii&&!t||(ii=new ai),ii}createInstrumentationBreakpoints(e,t){for(const n of t)this.#qo.push(new si(n,e))}eventListenerBreakpoints(){return this.#qo.slice()}resolveEventListenerBreakpointTitle(e){const t=this.resolveEventListenerBreakpoint(e);return t?t.title():null}resolveEventListenerBreakpoint(e){const t=e.eventName;if(!t.startsWith(si.instrumentationPrefix))return null;const n=t.substring(si.instrumentationPrefix.length);return this.#qo.find((e=>e.instrumentationName===n))||null}modelAdded(e){for(const t of this.#qo)t.enabled()&&t.updateOnModel(e)}modelRemoved(e){}}l.register(ri,{capabilities:_.EventBreakpoints,autostart:!1});var oi,li=Object.freeze({__proto__:null,EventBreakpointsModel:ri,EventBreakpointsManager:ai});class di{#_o;#zo;#jo;#Wo;#Vo;#Go;#Ko;#Qo;#$o;#Xo;#Jo;#Yo;#Zo;constructor(e){this.#_o=e,this.#zo=!0,this.#jo=new Map,this.#Wo=new Map,this.#Vo=Number(1/0),this.#Go=Number(-1/0),this.#Ko=[],this.#Qo=[],this.#$o=new Map,this.#Xo=new Map,this.#Jo=new Map,this.#Yo=new Map,this.#Zo=new Map}static isNestableAsyncPhase(e){return"b"===e||"e"===e||"n"===e}static isAsyncBeginPhase(e){return"S"===e||"b"===e}static isAsyncPhase(e){return di.isNestableAsyncPhase(e)||"S"===e||"T"===e||"F"===e||"p"===e}static isFlowPhase(e){return"s"===e||"t"===e||"f"===e}static isCompletePhase(e){return"X"===e}static isTopLevelEvent(e){return e.hasCategory(gi)&&"RunTask"===e.name||e.hasCategory(hi)||e.hasCategory(ui)&&"Program"===e.name}static extractId(e){const t=e.scope||"";if(void 0===e.id2)return t&&e.id?`${t}@${e.id}`:e.id;const n=e.id2;if("object"==typeof n&&"global"in n!="local"in n)return void 0!==n.global?`:${t}:${n.global}`:`:${t}:${e.pid}:${n.local}`;console.error(`Unexpected id2 field at ${e.ts/1e3}, one and only one of 'local' and 'global' should be present.`)}static browserMainThread(t){const n=t.sortedProcesses();if(!n.length)return null;const r="CrBrowserMain",s=[],i=[];for(const e of n)e.name().toLowerCase().endsWith("browser")&&s.push(e),i.push(...e.sortedThreads().filter((e=>e.name()===r)));if(1===i.length)return i[0];if(1===s.length)return s[0].threadByName(r);const a=t.devToolsMetadataEvents().filter((e=>"TracingStartedInBrowser"===e.name));return 1===a.length?a[0].thread:(e.Console.Console.instance().error("Failed to find browser main thread in trace, some timeline features may be unavailable"),null)}devToolsMetadataEvents(){return this.#Ko}addEvents(e){for(let t=0;t<e.length;++t)this.addEvent(e[t])}tracingComplete(){this.processPendingAsyncEvents(),this.#_o.appendString(this.#zo?"[]":"]"),this.#_o.finishWriting(),this.#zo=!1;for(const e of this.#jo.values())for(const t of e.threads.values())t.tracingComplete()}dispose(){this.#zo||this.#_o.reset()}adjustTime(e){this.#Vo+=e,this.#Go+=e;for(const t of this.#jo.values())for(const n of t.threads.values()){for(const t of n.events())t.startTime+=e,"number"==typeof t.endTime&&(t.endTime+=e);for(const t of n.asyncEvents())t.startTime+=e,"number"==typeof t.endTime&&(t.endTime+=e)}}addEvent(e){let t=this.#jo.get(e.pid);t||(t=new vi(this,e.pid),this.#jo.set(e.pid,t));const n=oi;this.#_o.appendString(this.#zo?"[":",\n"),this.#zo=!1;const r=JSON.stringify(e);let s=null;e.ph===n.SnapshotObject&&r.length>1e4?s=this.#_o.appendAccessibleString(r):this.#_o.appendString(r);const i=e.ts/1e3;if(i&&i<this.#Vo&&(e.ph===n.Begin||e.ph===n.Complete||e.ph===n.Instant)&&!e.name.endsWith("::UMA")&&(this.#Vo=i),"TracingStartedInBrowser"===e.name&&(this.#Vo=i),"navigationStart"===e.name){const n=e.args.data;if(n){const{isLoadingMainFrame:r,documentLoaderURL:s,navigationId:i,isOutermostMainFrame:a}=n;if((a??r)&&""!==s){const n=t.threadById(e.tid),r=pi.fromPayload(e,n);this.#Zo.set(i,r)}}}const a=(e.ts+(e.dur||0))/1e3;this.#Go=Math.max(this.#Go,a);const o=t.addEvent(e);if(o)if(e.ph!==n.Sample){if(di.isAsyncPhase(e.ph)&&this.#Qo.push(o),o.setBackingStorage(s),o.hasCategory(ui)&&this.#Ko.push(o),e.ph===n.Metadata)switch(e.name){case ci.ProcessSortIndex:t.setSortIndex(e.args.sort_index);break;case ci.ProcessName:{const n=e.args.name;t.setName(n),this.#Wo.set(n,t);break}case ci.ThreadSortIndex:t.threadById(e.tid).setSortIndex(e.args.sort_index);break;case ci.ThreadName:t.threadById(e.tid).setName(e.args.name)}}else this.addSampleEvent(o)}addSampleEvent(e){const t=`${e.thread.process().id()}:${e.id}`,n=this.#Jo.get(t);n?n.addChild(e):this.#Jo.set(t,new fi(e))}profileGroup(e){return this.#Jo.get(`${e.thread.process().id()}:${e.id}`)||null}minimumRecordTime(){return this.#Vo}maximumRecordTime(){return this.#Go}navStartTimes(){return this.#Zo}sortedProcesses(){return Ii.sort([...this.#jo.values()])}getProcessByName(e){return this.#Wo.get(e)??null}getProcessById(e){return this.#jo.get(e)||null}getThreadByName(e,t){const n=this.getProcessByName(e);return n&&n.threadByName(t)}processPendingAsyncEvents(){this.#Qo.sort(pi.compareStartTime);for(let e=0;e<this.#Qo.length;++e){const t=this.#Qo[e];di.isNestableAsyncPhase(t.phase)?this.addNestableAsyncEvent(t):this.addAsyncEvent(t)}this.#Qo=[],this.closeOpenAsyncEvents()}closeOpenAsyncEvents(){for(const e of this.#$o.values())e.setEndTime(this.#Go),e.steps[0].setEndTime(this.#Go);this.#$o.clear();for(const e of this.#Xo.values())for(;e.length;){const t=e.pop();t&&t.setEndTime(this.#Go)}this.#Xo.clear()}addNestableAsyncEvent(e){const t=oi,n=e.categoriesString+"."+e.id;let r=this.#Xo.get(n);switch(e.phase){case t.NestableAsyncBegin:{r||(r=[],this.#Xo.set(n,r));const t=new bi(e);r.push(t),e.thread.addAsyncEvent(t);break}case t.NestableAsyncInstant:if(r&&r.length){const e=r[r.length-1];e&&e.addStep(e)}break;case t.NestableAsyncEnd:{if(!r||!r.length)break;const t=r.pop();if(!t)break;if(t.name!==e.name){console.error(`Begin/end event mismatch for nestable async event, ${t.name} vs. ${e.name}, key: ${n}`);break}t.addStep(e)}}}addAsyncEvent(e){const t=oi,n=e.categoriesString+"."+e.name+"."+e.id;let r=this.#$o.get(n);if(e.phase===t.AsyncBegin)return r?void console.error(`Event ${e.name} has already been started`):(r=new bi(e),this.#$o.set(n,r),void e.thread.addAsyncEvent(r));if(r){if(e.phase===t.AsyncEnd)return r.addStep(e),void this.#$o.delete(n);if(e.phase===t.AsyncStepInto||e.phase===t.AsyncStepPast){const n=r.steps[r.steps.length-1];return n&&n.phase!==t.AsyncBegin&&n.phase!==e.phase?void console.assert(!1,"Async event step phase mismatch: "+n.phase+" at "+n.startTime+" vs. "+e.phase+" at "+e.startTime):void r.addStep(e)}console.assert(!1,"Invalid async event phase")}}backingStorage(){return this.#_o}parsedCategoriesForString(e){let t=this.#Yo.get(e);return t||(t=new Set(e?e.split(","):[]),this.#Yo.set(e,t)),t}}!function(e){e.Begin="B",e.End="E",e.Complete="X",e.Instant="I",e.AsyncBegin="S",e.AsyncStepInto="T",e.AsyncStepPast="p",e.AsyncEnd="F",e.NestableAsyncBegin="b",e.NestableAsyncEnd="e",e.NestableAsyncInstant="n",e.FlowBegin="s",e.FlowStep="t",e.FlowEnd="f",e.Metadata="M",e.Counter="C",e.Sample="P",e.CreateObject="N",e.SnapshotObject="O",e.DeleteObject="D"}(oi||(oi={}));const ci={ProcessSortIndex:"process_sort_index",ProcessName:"process_name",ThreadSortIndex:"thread_sort_index",ThreadName:"thread_name"},hi="toplevel",ui="disabled-by-default-devtools.timeline",gi="disabled-by-default-devtools.timeline";class pi{categoriesString;#Yo;name;phase;startTime;thread;args;id;bind_id;ordinal;selfTime;endTime;duration;constructor(e,t,n,r,s){this.categoriesString=e||"",this.#Yo=s.getModel().parsedCategoriesForString(this.categoriesString),this.name=t,this.phase=n,this.startTime=r,this.thread=s,this.args={},this.ordinal=0,this.selfTime=0}static fromPayload(e,t){const n=new pi(e.cat,e.name,e.ph,e.ts/1e3,t);e.args&&n.addArgs(e.args),"number"==typeof e.dur&&n.setEndTime((e.ts+e.dur)/1e3);const r=di.extractId(e);return void 0!==r&&(n.id=r),e.bind_id&&(n.bind_id=e.bind_id),n}static compareStartTime(e,t){return e&&t?e.startTime-t.startTime:0}static orderedCompareStartTime(e,t){return e.startTime-t.startTime||e.ordinal-t.ordinal||-1}hasCategory(e){return this.#Yo.has(e)}setEndTime(e){e<this.startTime?console.assert(!1,"Event out of order: "+this.name):(this.endTime=e,this.duration=e-this.startTime)}addArgs(e){for(const t in e)t in this.args&&console.error("Same argument name ("+t+") is used for begin and end phases of "+this.name),this.args[t]=e[t]}complete(e){e.args?this.addArgs(e.args):console.error("Missing mandatory event argument 'args' at "+e.startTime),this.setEndTime(e.startTime)}setBackingStorage(e){}}class mi extends pi{#el;#tl;constructor(e,t,n,r){super(e,t,oi.SnapshotObject,n,r),this.#el=null,this.#tl=null}static fromPayload(e,t){const n=new mi(e.cat,e.name,e.ts/1e3,t),r=di.extractId(e);return void 0!==r&&(n.id=r),e.args&&e.args.snapshot?(e.args&&n.addArgs(e.args),n):(console.error("Missing mandatory 'snapshot' argument at "+e.ts/1e3),n)}requestObject(t){const n=this.args.snapshot;if(n)return void t(n);const r=this.#el;r&&r().then((function(n){if(!n)return void t(null);try{const e=JSON.parse(n);t(e.args.snapshot)}catch(n){e.Console.Console.instance().error("Malformed event data in backing storage"),t(null)}}),t.bind(null,null))}objectPromise(){return this.#tl||(this.#tl=new Promise(this.requestObject.bind(this))),this.#tl}setBackingStorage(e){e&&(this.#el=e,this.args={})}}class bi extends pi{steps;causedFrame;constructor(e){super(e.categoriesString,e.name,e.phase,e.startTime,e.thread),this.addArgs(e.args),this.steps=[e],this.causedFrame=!1}addStep(e){this.steps.push(e),e.phase!==oi.AsyncEnd&&e.phase!==oi.NestableAsyncEnd||(this.setEndTime(e.startTime),this.steps[0].setEndTime(e.startTime))}}class fi{children;constructor(e){this.children=[e]}addChild(e){this.children.push(e)}}class Ii{model;idInternal;#h;#nl;constructor(e,t){this.model=e,this.idInternal=t,this.#h="",this.#nl=0}static sort(e){return e.sort(((e,t)=>e.#nl!==t.#nl?e.#nl-t.#nl:e.name().localeCompare(t.name())))}setName(e){this.#h=e}name(){return this.#h}id(){return this.idInternal}setSortIndex(e){this.#nl=e}getModel(){return this.model}}class vi extends Ii{threads;#rl;constructor(e,t){super(e,t),this.threads=new Map,this.#rl=new Map}threadById(e){let t=this.threads.get(e);return t||(t=new yi(this,e),this.threads.set(e,t)),t}threadByName(e){return this.#rl.get(e)||null}setThreadByName(e,t){this.#rl.set(e,t)}addEvent(e){return this.threadById(e.tid).addEvent(e)}sortedThreads(){return Ii.sort([...this.threads.values()])}}class yi extends Ii{#sl;#il;#al;#ol;constructor(e,t){super(e.getModel(),t),this.#sl=e,this.#il=[],this.#al=[],this.#ol=null}tracingComplete(){this.#al.sort(pi.compareStartTime),this.#il.sort(pi.compareStartTime);const e=oi,t=[],n=new Set;for(let r=0;r<this.#il.length;++r){const s=this.#il[r];switch(s.ordinal=r,s.phase){case e.End:{if(n.add(r),!t.length)continue;const e=t.pop();if(!e)continue;e.name!==s.name||e.categoriesString!==s.categoriesString?console.error("B/E events mismatch at "+e.startTime+" ("+e.name+") vs. "+s.startTime+" ("+s.name+")"):e.complete(s);break}case e.Begin:t.push(s)}}for(;t.length;){const n=t.pop();n&&(n.phase=e.Instant)}this.#il=this.#il.filter(((e,t)=>!n.has(t)))}addEvent(e){const t=e.ph===oi.SnapshotObject?mi.fromPayload(e,this):pi.fromPayload(e,this);if(di.isTopLevelEvent(t)){const e=this.#ol;if(e&&(e.endTime||0)>t.startTime)return null;this.#ol=t}return this.#il.push(t),t}addAsyncEvent(e){this.#al.push(e)}setName(e){super.setName(e),this.#sl.setThreadByName(e,this)}process(){return this.#sl}events(){return this.#il}asyncEvents(){return this.#al}removeEventsByName(e){const t=[];return this.#il=this.#il.filter((n=>!!n&&(n.name!==e||(t.push(n),!1)))),t}}var Si=Object.freeze({__proto__:null,TracingModel:di,get Phase(){return oi},MetadataEvent:ci,LegacyTopLevelEventCategory:hi,DevToolsMetadataEventCategory:ui,DevToolsTimelineEventCategory:gi,BackingStorage:class{appendString(e){}finishWriting(){}reset(){}},Event:pi,ObjectSnapshot:mi,AsyncEvent:bi,Process:vi,Thread:yi});const ki="disabled-by-default-devtools.screenshot",wi={CaptureFrame:"CaptureFrame",Screenshot:"Screenshot"};class Ci{#ll;timestamp;index;#dl;#cl;constructor(e,t,n){this.#ll=e,this.timestamp=t,this.index=n,this.#dl=null,this.#cl=null}static fromEvent(e,t,n){const r=new Ci(e,t.startTime,n);return r.#dl=t.args.data,r}static fromSnapshot(e,t,n){const r=new Ci(e,t.startTime,n);return r.#cl=t,r}model(){return this.#ll}imageDataPromise(){return this.#dl||!this.#cl?Promise.resolve(this.#dl):this.#cl.objectPromise()}}var Ti=Object.freeze({__proto__:null,FilmStripModel:class{#Ue;#hl;#ul;constructor(e,t){this.#Ue=[],this.#hl=0,this.#ul=0,this.reset(e,t)}reset(e,t){this.#hl=t||e.minimumRecordTime(),this.#ul=e.maximumRecordTime()-this.#hl,this.#Ue=[];const n=di.browserMainThread(e);if(!n)return;const r=n.events();for(let e=0;e<r.length;++e){const t=r[e];if(!(t.startTime<this.#hl)&&t.hasCategory(ki))if(t.name===wi.CaptureFrame){t.args.data&&this.#Ue.push(Ci.fromEvent(this,t,this.#Ue.length))}else t.name===wi.Screenshot&&this.#Ue.push(Ci.fromSnapshot(this,t,this.#Ue.length))}}frames(){return this.#Ue}zeroTime(){return this.#hl}spanTime(){return this.#ul}frameByTimestamp(e){const n=t.ArrayUtilities.upperBound(this.#Ue,e,((e,t)=>e-t.timestamp))-1;return n>=0?this.#Ue[n]:null}},Frame:Ci});let Ri;class Mi extends e.ObjectWrapper.ObjectWrapper{#gl;#pl;#D;#ml;constructor(){super(),this.#gl=new Map,this.#pl=new Map,this.#D=new Set,G.instance().observeModels(Pr,this),this.#ml=0}static instance({forceNew:e}={forceNew:!1}){return Ri&&!e||(Ri=new Mi),Ri}observeIsolates(e){if(this.#D.has(e))throw new Error("Observer can only be registered once");this.#D.size||this.poll(),this.#D.add(e);for(const t of this.#gl.values())e.isolateAdded(t)}unobserveIsolates(e){this.#D.delete(e),this.#D.size||++this.#ml}modelAdded(e){this.modelAddedInternal(e)}async modelAddedInternal(e){this.#pl.set(e,null);const t=await e.isolateId();if(!this.#pl.has(e))return;if(!t)return void this.#pl.delete(e);this.#pl.set(e,t);let n=this.#gl.get(t);if(n||(n=new Li(t),this.#gl.set(t,n)),n.modelsInternal.add(e),1===n.modelsInternal.size)for(const e of this.#D)e.isolateAdded(n);else for(const e of this.#D)e.isolateChanged(n)}modelRemoved(e){const t=this.#pl.get(e);if(this.#pl.delete(e),!t)return;const n=this.#gl.get(t);if(n)if(n.modelsInternal.delete(e),n.modelsInternal.size)for(const e of this.#D)e.isolateChanged(n);else{for(const e of this.#D)e.isolateRemoved(n);this.#gl.delete(t)}}isolateByModel(e){return this.#gl.get(this.#pl.get(e)||"")||null}isolates(){return this.#gl.values()}async poll(){const e=this.#ml;for(;e===this.#ml;)await Promise.all(Array.from(this.isolates(),(e=>e.update()))),await new Promise((e=>window.setTimeout(e,Pi)))}}var xi;(xi||(xi={})).MemoryChanged="MemoryChanged";const Pi=2e3;class Li{#L;modelsInternal;#bl;#fl;constructor(e){this.#L=e,this.modelsInternal=new Set,this.#bl=0;const t=12e4/Pi;this.#fl=new Ei(t)}id(){return this.#L}models(){return this.modelsInternal}runtimeModel(){return this.modelsInternal.values().next().value||null}heapProfilerModel(){const e=this.runtimeModel();return e&&e.heapProfilerModel()}async update(){const e=this.runtimeModel(),t=e&&await e.heapUsage();t&&(this.#bl=t.usedSize,this.#fl.add(this.#bl),Mi.instance().dispatchEventToListeners(xi.MemoryChanged,this))}samplesCount(){return this.#fl.count()}usedHeapSize(){return this.#bl}usedHeapSizeGrowRate(){return this.#fl.fitSlope()}isMainThread(){const e=this.runtimeModel();return!!e&&"main"===e.target().id()}}class Ei{#Il;#vl;#Ar;#yl;#Sl;#kl;#wl;#Cl;#Tl;constructor(e){this.#Il=0|e,this.reset()}reset(){this.#vl=Date.now(),this.#Ar=0,this.#yl=[],this.#Sl=[],this.#kl=0,this.#wl=0,this.#Cl=0,this.#Tl=0}count(){return this.#yl.length}add(e,t){const n="number"==typeof t?t:Date.now()-this.#vl,r=e;if(this.#yl.length===this.#Il){const e=this.#yl[this.#Ar],t=this.#Sl[this.#Ar];this.#kl-=e,this.#wl-=t,this.#Cl-=e*e,this.#Tl-=e*t}this.#kl+=n,this.#wl+=r,this.#Cl+=n*n,this.#Tl+=n*r,this.#yl[this.#Ar]=n,this.#Sl[this.#Ar]=r,this.#Ar=(this.#Ar+1)%this.#Il}fitSlope(){const e=this.count();return e<2?0:(this.#Tl-this.#kl*this.#wl/e)/(this.#Cl-this.#kl*this.#kl/e)}}var Ai=Object.freeze({__proto__:null,IsolateManager:Mi,get Events(){return xi},MemoryTrendWindowMs:12e4,Isolate:Li,MemoryTrend:Ei});class Oi extends l{#Rl=!1;#ta=!1;constructor(e){super(e),this.ensureEnabled()}async ensureEnabled(){if(this.#ta)return;this.#ta=!0,this.target().registerAuditsDispatcher(this);const e=this.target().auditsAgent();await e.invoke_enable()}issueAdded(e){this.dispatchEventToListeners("IssueAdded",{issuesModel:this,inspectorIssue:e.issue})}dispose(){super.dispose(),this.#Rl=!0}getTargetIfNotDisposed(){return this.#Rl?null:this.target()}}l.register(Oi,{capabilities:_.Audits,autostart:!0});var Ni,Fi=Object.freeze({__proto__:null,IssuesModel:Oi});!function(e){let t;!function(e){e.NonFastScrollable="NonFastScrollable",e.TouchEventHandler="TouchEventHandler",e.WheelEventHandler="WheelEventHandler",e.RepaintsOnScroll="RepaintsOnScroll",e.MainThreadScrollingReason="MainThreadScrollingReason"}(t=e.ScrollRectType||(e.ScrollRectType={}))}(Ni||(Ni={}));var Di=Object.freeze({__proto__:null,get Layer(){return Ni},StickyPositionConstraint:class{#Ml;#xl;#Pl;#Ll;constructor(e,t){this.#Ml=t.stickyBoxRect,this.#xl=t.containingBlockRect,this.#Pl=null,e&&t.nearestLayerShiftingStickyBox&&(this.#Pl=e.layerById(t.nearestLayerShiftingStickyBox)),this.#Ll=null,e&&t.nearestLayerShiftingContainingBlock&&(this.#Ll=e.layerById(t.nearestLayerShiftingContainingBlock))}stickyBoxRect(){return this.#Ml}containingBlockRect(){return this.#xl}nearestLayerShiftingStickyBox(){return this.#Pl}nearestLayerShiftingContainingBlock(){return this.#Ll}},LayerTreeBase:class{#e;#gr;layersById;#El;#Al;#Ol;#Nl;constructor(e){this.#e=e,this.#gr=e?e.model(Dn):null,this.layersById=new Map,this.#El=null,this.#Al=null,this.#Ol=new Map}target(){return this.#e}root(){return this.#El}setRoot(e){this.#El=e}contentRoot(){return this.#Al}setContentRoot(e){this.#Al=e}forEachLayer(e,t){return!(!t&&!(t=this.root()))&&(e(t)||t.children().some(this.forEachLayer.bind(this,e)))}layerById(e){return this.layersById.get(e)||null}async resolveBackendNodeIds(e){if(!e.size||!this.#gr)return;const t=await this.#gr.pushNodesByBackendIdsToFrontend(e);if(t)for(const e of t.keys())this.#Ol.set(e,t.get(e)||null)}backendNodeIdToNode(){return this.#Ol}setViewportSize(e){this.#Nl=e}viewportSize(){return this.#Nl}nodeForId(e){return this.#gr?this.#gr.nodeForId(e):null}}});class Bi{id;url;startTime;loadTime;contentLoadTime;mainRequest;constructor(e){this.id=++Bi.lastIdentifier,this.url=e.url(),this.startTime=e.startTime,this.mainRequest=e}static forRequest(e){return Ui.get(e)||null}bindRequest(e){Ui.set(e,this)}static lastIdentifier=0}const Ui=new WeakMap;var Hi=Object.freeze({__proto__:null,PageLoad:Bi});class qi extends l{layerTreeAgent;constructor(e){super(e),this.layerTreeAgent=e.layerTreeAgent()}async loadSnapshotFromFragments(e){const{snapshotId:t}=await this.layerTreeAgent.invoke_loadSnapshot({tiles:e});return t?new _i(this,t):null}loadSnapshot(e){const t={x:0,y:0,picture:e};return this.loadSnapshotFromFragments([t])}async makeSnapshot(e){const{snapshotId:t}=await this.layerTreeAgent.invoke_makeSnapshot({layerId:e});return t?new _i(this,t):null}}class _i{#Fl;#Dl;#Bl;constructor(e,t){this.#Fl=e,this.#Dl=t,this.#Bl=1}release(){console.assert(this.#Bl>0,"release is already called on the object"),--this.#Bl||this.#Fl.layerTreeAgent.invoke_releaseSnapshot({snapshotId:this.#Dl})}addReference(){++this.#Bl,console.assert(this.#Bl>0,"Referencing a dead object")}async replay(e,t,n){return(await this.#Fl.layerTreeAgent.invoke_replaySnapshot({snapshotId:this.#Dl,fromStep:t,toStep:n,scale:e||1})).dataURL}async profile(e){return(await this.#Fl.layerTreeAgent.invoke_profileSnapshot({snapshotId:this.#Dl,minRepeatCount:5,minDuration:1,clipRect:e||void 0})).timings}async commandLog(){const e=await this.#Fl.layerTreeAgent.invoke_snapshotCommandLog({snapshotId:this.#Dl});return e.commandLog?e.commandLog.map(((e,t)=>new zi(e,t))):null}}class zi{method;params;commandIndex;constructor(e,t){this.method=e.method,this.params=e.params,this.commandIndex=t}}l.register(qi,{capabilities:_.DOM,autostart:!1});var ji=Object.freeze({__proto__:null,PaintProfilerModel:qi,PaintProfilerSnapshot:_i,PaintProfilerLogItem:zi});class Wi extends l{#cs;#Ul;#Hl;constructor(e){super(e),this.#cs=e.performanceAgent(),this.#Ul=new Map([["TaskDuration","CumulativeTime"],["ScriptDuration","CumulativeTime"],["LayoutDuration","CumulativeTime"],["RecalcStyleDuration","CumulativeTime"],["LayoutCount","CumulativeCount"],["RecalcStyleCount","CumulativeCount"]]),this.#Hl=new Map}enable(){return this.#cs.invoke_enable({})}disable(){return this.#cs.invoke_disable()}async requestMetrics(){const e=await this.#cs.invoke_getMetrics()||[],n=new Map,r=performance.now();for(const s of e.metrics){let e,i=this.#Hl.get(s.name);switch(i||(i={lastValue:void 0,lastTimestamp:void 0},this.#Hl.set(s.name,i)),this.#Ul.get(s.name)){case"CumulativeTime":e=i.lastTimestamp&&i.lastValue?t.NumberUtilities.clamp(1e3*(s.value-i.lastValue)/(r-i.lastTimestamp),0,1):0,i.lastValue=s.value,i.lastTimestamp=r;break;case"CumulativeCount":e=i.lastTimestamp&&i.lastValue?Math.max(0,1e3*(s.value-i.lastValue)/(r-i.lastTimestamp)):0,i.lastValue=s.value,i.lastTimestamp=r;break;default:e=s.value}n.set(s.name,e)}return{metrics:n,timestamp:r}}}l.register(Wi,{capabilities:_.DOM,autostart:!1});var Vi=Object.freeze({__proto__:null,PerformanceMetricsModel:Wi});class Gi extends l{#cs;#ql;#_l;constructor(e){super(e),this.#cs=e.pageAgent(),this.#ql=null,this.#_l=null,e.registerPageDispatcher(this)}startScreencast(e,t,n,r,s,i,a){this.#ql=i,this.#_l=a,this.#cs.invoke_startScreencast({format:e,quality:t,maxWidth:n,maxHeight:r,everyNthFrame:s})}stopScreencast(){this.#ql=null,this.#_l=null,this.#cs.invoke_stopScreencast()}async captureScreenshot(e,t,n){await Rn.muteHighlight();const r=await this.#cs.invoke_captureScreenshot({format:e,quality:t,clip:n,fromSurface:!0,captureBeyondViewport:!0});return await Rn.unmuteHighlight(),r.data}async fetchLayoutMetrics(){const e=await this.#cs.invoke_getLayoutMetrics();return e.getError()?null:{viewportX:e.cssVisualViewport.pageX,viewportY:e.cssVisualViewport.pageY,viewportScale:e.cssVisualViewport.scale,contentWidth:e.cssContentSize.width,contentHeight:e.cssContentSize.height}}screencastFrame({data:e,metadata:t,sessionId:n}){this.#cs.invoke_screencastFrameAck({sessionId:n}),this.#ql&&this.#ql.call(null,e,t)}screencastVisibilityChanged({visible:e}){this.#_l&&this.#_l.call(null,e)}backForwardCacheNotUsed(e){}domContentEventFired(e){}loadEventFired(e){}lifecycleEvent(e){}navigatedWithinDocument(e){}frameAttached(e){}frameNavigated(e){}documentOpened(e){}frameDetached(e){}frameStartedLoading(e){}frameStoppedLoading(e){}frameRequestedNavigation(e){}frameScheduledNavigation(e){}frameClearedScheduledNavigation(e){}frameResized(){}javascriptDialogOpening(e){}javascriptDialogClosed(e){}interstitialShown(){}interstitialHidden(){}windowOpen(e){}fileChooserOpened(e){}compilationCacheProduced(e){}downloadWillBegin(e){}downloadProgress(){}prerenderAttemptCompleted(e){}}l.register(Gi,{capabilities:_.ScreenCapture,autostart:!1});var Ki=Object.freeze({__proto__:null,ScreenCaptureModel:Gi});const Qi={serviceworkercacheagentError:"`ServiceWorkerCacheAgent` error deleting cache entry {PH1} in cache: {PH2}"},$i=r.i18n.registerUIStrings("core/sdk/ServiceWorkerCacheModel.ts",Qi),Xi=r.i18n.getLocalizedString.bind(void 0,$i);class Ji extends l{cacheAgent;#zl;#Ys;#jl=new Map;#Wl=new Set;#Vl=new e.Throttler.Throttler(2e3);#ta=!1;#Gl=!1;constructor(e){super(e),e.registerStorageDispatcher(this),this.cacheAgent=e.cacheStorageAgent(),this.#zl=e.storageAgent(),this.#Ys=e.model(Wn)}enable(){if(!this.#ta){this.#Ys.addEventListener(zn.SecurityOriginAdded,this.securityOriginAdded,this),this.#Ys.addEventListener(zn.SecurityOriginRemoved,this.securityOriginRemoved,this);for(const e of this.#Ys.securityOrigins())this.addOrigin(e);this.#ta=!0}}clearForOrigin(e){this.removeOrigin(e),this.addOrigin(e)}refreshCacheNames(){for(const e of this.#jl.values())this.cacheRemoved(e);this.#jl.clear();const e=this.#Ys.securityOrigins();for(const t of e)this.loadCacheNames(t)}async deleteCache(e){const t=await this.cacheAgent.invoke_deleteCache({cacheId:e.cacheId});t.getError()?console.error(`ServiceWorkerCacheAgent error deleting cache ${e.toString()}: ${t.getError()}`):(this.#jl.delete(e.cacheId),this.cacheRemoved(e))}async deleteCacheEntry(t,n){const r=await this.cacheAgent.invoke_deleteEntry({cacheId:t.cacheId,request:n});r.getError()&&e.Console.Console.instance().error(Xi(Qi.serviceworkercacheagentError,{PH1:t.toString(),PH2:String(r.getError())}))}loadCacheData(e,t,n,r,s){this.requestEntries(e,t,n,r,s)}loadAllCacheData(e,t,n){this.requestAllEntries(e,t,n)}caches(){const e=new Array;for(const t of this.#jl.values())e.push(t);return e}dispose(){for(const e of this.#jl.values())this.cacheRemoved(e);this.#jl.clear(),this.#ta&&(this.#Ys.removeEventListener(zn.SecurityOriginAdded,this.securityOriginAdded,this),this.#Ys.removeEventListener(zn.SecurityOriginRemoved,this.securityOriginRemoved,this))}addOrigin(e){this.loadCacheNames(e),this.isValidSecurityOrigin(e)&&this.#zl.invoke_trackCacheStorageForOrigin({origin:e})}removeOrigin(e){for(const[t,n]of this.#jl.entries())n.securityOrigin===e&&(this.#jl.delete(t),this.cacheRemoved(n));this.isValidSecurityOrigin(e)&&this.#zl.invoke_untrackCacheStorageForOrigin({origin:e})}isValidSecurityOrigin(t){const n=e.ParsedURL.ParsedURL.fromString(t);return null!==n&&n.scheme.startsWith("http")}async loadCacheNames(e){const t=await this.cacheAgent.invoke_requestCacheNames({securityOrigin:e});t.getError()||this.updateCacheNames(e,t.caches)}updateCacheNames(e,t){const n=new Set,r=new Map,s=new Map;for(const e of t){const t=new Zi(this,e.securityOrigin,e.cacheName,e.cacheId);n.add(t.cacheId),this.#jl.has(t.cacheId)||(r.set(t.cacheId,t),this.#jl.set(t.cacheId,t))}this.#jl.forEach((function(t){t.securityOrigin!==e||n.has(t.cacheId)||(s.set(t.cacheId,t),this.#jl.delete(t.cacheId))}),this),r.forEach(this.cacheAdded,this),s.forEach(this.cacheRemoved,this)}securityOriginAdded(e){this.addOrigin(e.data)}securityOriginRemoved(e){this.removeOrigin(e.data)}cacheAdded(e){this.dispatchEventToListeners(Yi.CacheAdded,{model:this,cache:e})}cacheRemoved(e){this.dispatchEventToListeners(Yi.CacheRemoved,{model:this,cache:e})}async requestEntries(e,t,n,r,s){const i=await this.cacheAgent.invoke_requestEntries({cacheId:e.cacheId,skipCount:t,pageSize:n,pathFilter:r});i.getError()?console.error("ServiceWorkerCacheAgent error while requesting entries: ",i.getError()):s(i.cacheDataEntries,i.returnCount)}async requestAllEntries(e,t,n){const r=await this.cacheAgent.invoke_requestEntries({cacheId:e.cacheId,pathFilter:t});r.getError()?console.error("ServiceWorkerCacheAgent error while requesting entries: ",r.getError()):n(r.cacheDataEntries,r.returnCount)}cacheStorageListUpdated({origin:e}){this.#Wl.add(e),this.#Vl.schedule((()=>{const e=Array.from(this.#Wl,(e=>this.loadCacheNames(e)));return this.#Wl.clear(),Promise.all(e)}),this.#Gl)}cacheStorageContentUpdated({origin:e,cacheName:t}){this.dispatchEventToListeners(Yi.CacheStorageContentUpdated,{origin:e,cacheName:t})}indexedDBListUpdated(e){}indexedDBContentUpdated(e){}interestGroupAccessed(e){}setThrottlerSchedulesAsSoonAsPossibleForTest(){this.#Gl=!0}}var Yi;!function(e){e.CacheAdded="CacheAdded",e.CacheRemoved="CacheRemoved",e.CacheStorageContentUpdated="CacheStorageContentUpdated"}(Yi||(Yi={}));class Zi{#Or;securityOrigin;cacheName;cacheId;constructor(e,t,n,r){this.#Or=e,this.securityOrigin=t,this.cacheName=n,this.cacheId=r}equals(e){return this.cacheId===e.cacheId}toString(){return this.securityOrigin+this.cacheName}async requestCachedResponse(e,t){const n=await this.#Or.cacheAgent.invoke_requestCachedResponse({cacheId:this.cacheId,requestURL:e,requestHeaders:t});return n.getError()?null:n.response}}l.register(Ji,{capabilities:_.Storage,autostart:!1});var ea=Object.freeze({__proto__:null,ServiceWorkerCacheModel:Ji,get Events(){return Yi},Cache:Zi});const ta={running:"running",starting:"starting",stopped:"stopped",stopping:"stopping",activated:"activated",activating:"activating",installed:"installed",installing:"installing",new:"new",redundant:"redundant",sSS:"{PH1} #{PH2} ({PH3})"},na=r.i18n.registerUIStrings("core/sdk/ServiceWorkerManager.ts",ta),ra=r.i18n.getLocalizedString.bind(void 0,na),sa=r.i18n.getLazilyComputedLocalizedString.bind(void 0,na);class ia extends l{#cs;#Kl;#ta;#Ql;serviceWorkerNetworkRequestsPanelStatus;constructor(t){super(t),t.registerServiceWorkerDispatcher(new oa(this)),this.#cs=t.serviceWorkerAgent(),this.#Kl=new Map,this.#ta=!1,this.enable(),this.#Ql=e.Settings.Settings.instance().createSetting("serviceWorkerUpdateOnReload",!1),this.#Ql.get()&&this.forceUpdateSettingChanged(),this.#Ql.addChangeListener(this.forceUpdateSettingChanged,this),new ha(t,this),this.serviceWorkerNetworkRequestsPanelStatus={isOpen:!1,openedAt:0}}async enable(){this.#ta||(this.#ta=!0,await this.#cs.invoke_enable())}async disable(){this.#ta&&(this.#ta=!1,this.#Kl.clear(),await this.#cs.invoke_enable())}registrations(){return this.#Kl}hasRegistrationForURLs(e){for(const t of this.#Kl.values())if(e.filter((e=>e&&e.startsWith(t.scopeURL))).length===e.length)return!0;return!1}findVersion(e){for(const t of this.registrations().values()){const n=t.versions.get(e);if(n)return n}return null}deleteRegistration(e){const t=this.#Kl.get(e);if(t){if(t.isRedundant())return this.#Kl.delete(e),void this.dispatchEventToListeners(aa.RegistrationDeleted,t);t.deleting=!0;for(const e of t.versions.values())this.stopWorker(e.id);this.unregister(t.scopeURL)}}async updateRegistration(e){const t=this.#Kl.get(e);t&&await this.#cs.invoke_updateRegistration({scopeURL:t.scopeURL})}async deliverPushMessage(t,n){const r=this.#Kl.get(t);if(!r)return;const s=e.ParsedURL.ParsedURL.extractOrigin(r.scopeURL);await this.#cs.invoke_deliverPushMessage({origin:s,registrationId:t,data:n})}async dispatchSyncEvent(t,n,r){const s=this.#Kl.get(t);if(!s)return;const i=e.ParsedURL.ParsedURL.extractOrigin(s.scopeURL);await this.#cs.invoke_dispatchSyncEvent({origin:i,registrationId:t,tag:n,lastChance:r})}async dispatchPeriodicSyncEvent(t,n){const r=this.#Kl.get(t);if(!r)return;const s=e.ParsedURL.ParsedURL.extractOrigin(r.scopeURL);await this.#cs.invoke_dispatchPeriodicSyncEvent({origin:s,registrationId:t,tag:n})}async unregister(e){await this.#cs.invoke_unregister({scopeURL:e})}async startWorker(e){await this.#cs.invoke_startWorker({scopeURL:e})}async skipWaiting(e){await this.#cs.invoke_skipWaiting({scopeURL:e})}async stopWorker(e){await this.#cs.invoke_stopWorker({versionId:e})}async inspectWorker(e){await this.#cs.invoke_inspectWorker({versionId:e})}workerRegistrationUpdated(e){for(const t of e){let e=this.#Kl.get(t.registrationId);e?(e.update(t),e.shouldBeRemoved()?(this.#Kl.delete(e.id),this.dispatchEventToListeners(aa.RegistrationDeleted,e)):this.dispatchEventToListeners(aa.RegistrationUpdated,e)):(e=new ca(t),this.#Kl.set(t.registrationId,e),this.dispatchEventToListeners(aa.RegistrationUpdated,e))}}workerVersionUpdated(e){const t=new Set;for(const n of e){const e=this.#Kl.get(n.registrationId);e&&(e.updateVersion(n),t.add(e))}for(const e of t)e.shouldBeRemoved()?(this.#Kl.delete(e.id),this.dispatchEventToListeners(aa.RegistrationDeleted,e)):this.dispatchEventToListeners(aa.RegistrationUpdated,e)}workerErrorReported(e){const t=this.#Kl.get(e.registrationId);t&&(t.errors.push(e),this.dispatchEventToListeners(aa.RegistrationErrorAdded,{registration:t,error:e}))}forceUpdateOnReloadSetting(){return this.#Ql}forceUpdateSettingChanged(){const e=this.#Ql.get();this.#cs.invoke_setForceUpdateOnPageLoad({forceUpdateOnPageLoad:e})}}var aa;!function(e){e.RegistrationUpdated="RegistrationUpdated",e.RegistrationErrorAdded="RegistrationErrorAdded",e.RegistrationDeleted="RegistrationDeleted"}(aa||(aa={}));class oa{#j;constructor(e){this.#j=e}workerRegistrationUpdated({registrations:e}){this.#j.workerRegistrationUpdated(e)}workerVersionUpdated({versions:e}){this.#j.workerVersionUpdated(e)}workerErrorReported({errorMessage:e}){this.#j.workerErrorReported(e)}}class la{runningStatus;status;last_updated_timestamp;previousState;constructor(e,t,n,r){this.runningStatus=e,this.status=t,this.last_updated_timestamp=r,this.previousState=n}}class da{id;scriptURL;parsedURL;securityOrigin;scriptLastModified;scriptResponseTime;controlledClients;targetId;currentState;registration;constructor(e,t){this.registration=e,this.update(t)}update(t){this.id=t.versionId,this.scriptURL=t.scriptURL;const n=new e.ParsedURL.ParsedURL(t.scriptURL);this.securityOrigin=n.securityOrigin(),this.currentState=new la(t.runningStatus,t.status,this.currentState,Date.now()),this.scriptLastModified=t.scriptLastModified,this.scriptResponseTime=t.scriptResponseTime,t.controlledClients?this.controlledClients=t.controlledClients.slice():this.controlledClients=[],this.targetId=t.targetId||null}isStartable(){return!this.registration.isDeleted&&this.isActivated()&&this.isStopped()}isStoppedAndRedundant(){return"stopped"===this.runningStatus&&"redundant"===this.status}isStopped(){return"stopped"===this.runningStatus}isStarting(){return"starting"===this.runningStatus}isRunning(){return"running"===this.runningStatus}isStopping(){return"stopping"===this.runningStatus}isNew(){return"new"===this.status}isInstalling(){return"installing"===this.status}isInstalled(){return"installed"===this.status}isActivating(){return"activating"===this.status}isActivated(){return"activated"===this.status}isRedundant(){return"redundant"===this.status}get status(){return this.currentState.status}get runningStatus(){return this.currentState.runningStatus}mode(){return this.isNew()||this.isInstalling()?da.Modes.Installing:this.isInstalled()?da.Modes.Waiting:this.isActivating()||this.isActivated()?da.Modes.Active:da.Modes.Redundant}}!function(e){let t;e.RunningStatus={running:sa(ta.running),starting:sa(ta.starting),stopped:sa(ta.stopped),stopping:sa(ta.stopping)},e.Status={activated:sa(ta.activated),activating:sa(ta.activating),installed:sa(ta.installed),installing:sa(ta.installing),new:sa(ta.new),redundant:sa(ta.redundant)},function(e){e.Installing="installing",e.Waiting="waiting",e.Active="active",e.Redundant="redundant"}(t=e.Modes||(e.Modes={}))}(da||(da={}));class ca{#$l;id;scopeURL;securityOrigin;isDeleted;versions;deleting;errors;constructor(e){this.update(e),this.versions=new Map,this.deleting=!1,this.errors=[]}update(t){this.#$l=Symbol("fingerprint"),this.id=t.registrationId,this.scopeURL=t.scopeURL;const n=new e.ParsedURL.ParsedURL(t.scopeURL);this.securityOrigin=n.securityOrigin(),this.isDeleted=t.isDeleted}fingerprint(){return this.#$l}versionsByMode(){const e=new Map;for(const t of this.versions.values())e.set(t.mode(),t);return e}updateVersion(e){this.#$l=Symbol("fingerprint");let t=this.versions.get(e.versionId);return t?(t.update(e),t):(t=new da(this,e),this.versions.set(e.versionId,t),t)}isRedundant(){for(const e of this.versions.values())if(!e.isStoppedAndRedundant())return!1;return!0}shouldBeRemoved(){return this.isRedundant()&&(!this.errors.length||this.deleting)}canBeRemoved(){return this.isDeleted||this.deleting}clearErrors(){this.#$l=Symbol("fingerprint"),this.errors=[]}}class ha{#ir;#Xl;#Jl;constructor(e,t){this.#ir=e,this.#Xl=t,this.#Jl=new Map,t.addEventListener(aa.RegistrationUpdated,this.registrationsUpdated,this),t.addEventListener(aa.RegistrationDeleted,this.registrationsUpdated,this),G.instance().addModelListener(Pr,Er.ExecutionContextCreated,this.executionContextCreated,this)}registrationsUpdated(){this.#Jl.clear();const e=this.#Xl.registrations().values();for(const t of e)for(const e of t.versions.values())e.targetId&&this.#Jl.set(e.targetId,e);this.updateAllContextLabels()}executionContextCreated(e){const t=e.data,n=this.serviceWorkerTargetId(t.target());n&&this.updateContextLabel(t,this.#Jl.get(n)||null)}serviceWorkerTargetId(e){return e.parentTarget()!==this.#ir||e.type()!==q.ServiceWorker?null:e.id()}updateAllContextLabels(){for(const e of G.instance().targets()){const t=this.serviceWorkerTargetId(e);if(!t)continue;const n=this.#Jl.get(t)||null,r=e.model(Pr),s=r?r.executionContexts():[];for(const e of s)this.updateContextLabel(e,n)}}updateContextLabel(t,n){if(!n)return void t.setLabel("");const r=e.ParsedURL.ParsedURL.fromString(t.origin),s=r?r.lastPathComponentWithFragment():t.name,i=da.Status[n.status];t.setLabel(ra(ta.sSS,{PH1:s,PH2:n.id,PH3:i()}))}}l.register(ia,{capabilities:_.ServiceWorker,autostart:!0});var ua=Object.freeze({__proto__:null,ServiceWorkerManager:ia,get Events(){return aa},ServiceWorkerVersionState:la,get ServiceWorkerVersion(){return da},ServiceWorkerRegistration:ca});class ga extends l{#Yl;#Zl;#ed;#td;#nd;constructor(e){super(e),this.#Yl=e.tracingAgent(),e.registerTracingDispatcher(new pa(this)),this.#Zl=null,this.#ed=0,this.#td=0}bufferUsage(e,t,n){this.#ed=void 0===t?null:t,this.#Zl&&this.#Zl.tracingBufferUsage(e||n||0)}eventsCollected(e){this.#Zl&&(this.#Zl.traceEventsCollected(e),this.#td+=e.length,this.#ed?(this.#td>this.#ed&&(this.#td=this.#ed),this.#Zl.eventsRetrievalProgress(this.#td/this.#ed)):this.#Zl.eventsRetrievalProgress(0))}tracingComplete(){this.#ed=0,this.#td=0,this.#Zl&&(this.#Zl.tracingComplete(),this.#Zl=null),this.#nd=!1}async start(e,t,n){if(this.#Zl)throw new Error("Tracing is already started");this.#Zl=e;const r={bufferUsageReportingInterval:500,categories:t,options:n,transferMode:"ReportEvents"},s=await this.#Yl.invoke_start(r);return s.getError()&&(this.#Zl=null),s}stop(){if(!this.#Zl)throw new Error("Tracing is not started");if(this.#nd)throw new Error("Tracing is already being stopped");this.#nd=!0,this.#Yl.invoke_end()}}class pa{#rd;constructor(e){this.#rd=e}bufferUsage({value:e,eventCount:t,percentFull:n}){this.#rd.bufferUsage(e,t,n)}dataCollected({value:e}){this.#rd.eventsCollected(e)}tracingComplete(){this.#rd.tracingComplete()}}l.register(ga,{capabilities:_.Tracing,autostart:!1});var ma=Object.freeze({__proto__:null,TracingManager:ga});class ba extends l{#cs;constructor(e){super(e),this.#cs=e.webAuthnAgent()}setVirtualAuthEnvEnabled(e){return e?this.#cs.invoke_enable({enableUI:!0}):this.#cs.invoke_disable()}async addAuthenticator(e){return(await this.#cs.invoke_addVirtualAuthenticator({options:e})).authenticatorId}async removeAuthenticator(e){await this.#cs.invoke_removeVirtualAuthenticator({authenticatorId:e})}async setAutomaticPresenceSimulation(e,t){await this.#cs.invoke_setAutomaticPresenceSimulation({authenticatorId:e,enabled:t})}async getCredentials(e){return(await this.#cs.invoke_getCredentials({authenticatorId:e})).credentials}async removeCredential(e,t){await this.#cs.invoke_removeCredential({authenticatorId:e,credentialId:t})}}l.register(ba,{capabilities:_.WebAuthn,autostart:!1});var fa=Object.freeze({__proto__:null,WebAuthnModel:ba});export{Hr as AccessibilityModel,Cs as CPUProfileDataModel,is as CPUProfilerModel,Os as CPUThrottlingManager,Qe as CSSContainerQuery,_e as CSSFontFace,Xe as CSSLayer,yt as CSSMatchedStyles,et as CSSMedia,L as CSSMetadata,In as CSSModel,ot as CSSProperty,qs as CSSPropertyParser,je as CSSQuery,bt as CSSRule,nt as CSSScope,dt as CSSStyleDeclaration,Tt as CSSStyleSheetHeader,st as CSSSupports,_r as CategorizedBreakpoint,Yr as ChildTargetManager,Wt as CompilerSourceMappingContentProvider,Qr as Connections,fs as ConsoleModel,B as Cookie,vs as CookieModel,z as CookieParser,Zs as DOMDebuggerModel,qn as DOMModel,Tr as DebuggerModel,xs as EmulationModel,li as EventBreakpointsModel,Ti as FilmStripModel,Pt as FrameManager,xr as HeapProfilerModel,Et as IOModel,Ai as IsolateManager,Fi as IssuesModel,Di as LayerTreeBase,os as LogModel,pe as NetworkManager,xe as NetworkRequest,yn as OverlayColorGenerator,En as OverlayModel,kn as OverlayPersistentHighlighter,Hi as PageLoad,Ht as PageResourceLoader,ji as PaintProfiler,Vi as PerformanceMetricsModel,O as ProfileTreeModel,He as RemoteObject,jn as Resource,Zn as ResourceTreeModel,Dr as RuntimeModel,d as SDKModel,Ki as ScreenCaptureModel,ar as Script,Gn as SecurityOriginManager,ve as ServerTiming,ea as ServiceWorkerCacheModel,ua as ServiceWorkerManager,Zt as SourceMap,on as SourceMapManager,$n as StorageKeyManager,W as Target,Q as TargetManager,ma as TracingManager,Si as TracingModel,fa as WebAuthnModel};
