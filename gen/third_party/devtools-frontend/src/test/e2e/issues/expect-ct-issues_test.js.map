{"version":3,"file":"expect-ct-issues_test.js","sourceRoot":"","sources":["../../../../../../../../../third_party/devtools-frontend/src/test/e2e/issues/expect-ct-issues_test.ts"],"names":[],"mappings":";AAAA,4DAA4D;AAC5D,yEAAyE;AACzE,6BAA6B;;AAE7B,sDAAoF;AACpF,0EAA8D;AAC9D,oEAOsC;AAEtC,IAAA,8BAAQ,EAAC,iBAAiB,EAAE,KAAK,IAAI,EAAE;IACrC,IAAA,wBAAE,EAAC,uDAAuD,EAAE,KAAK,IAAI,EAAE;QACrE,MAAM,IAAA,uCAAmB,GAAE,CAAC;QAC5B,MAAM,EAAC,QAAQ,EAAC,GAAG,IAAA,8BAAkB,GAAE,CAAC;QACxC,QAAQ,CAAC,QAAQ,CAAC,GAAG,EAAE;YACrB,MAAM,KAAK,GAAG;gBACZ,IAAI,EAAE,kBAAkB;gBACxB,OAAO,EAAE;oBACP,uBAAuB,EAAE;wBACvB,kBAAkB,EAAE;4BAClB,GAAG,EAAE,YAAY;4BACjB,UAAU,EAAE,CAAC;4BACb,YAAY,EAAE,CAAC;yBAChB;wBACD,IAAI,EAAE,gBAAgB;qBACvB;iBACF;aACF,CAAC;YACF,aAAa;YACb,MAAM,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;QAChC,CAAC,CAAC,CAAC;QAEH,MAAM,IAAA,+BAAW,GAAE,CAAC;QACpB,MAAM,YAAY,GAAG,MAAM,IAAA,mCAAe,EAAC,yBAAyB,CAAC,CAAC;QACtE,IAAA,oCAAwB,EAAC,YAAY,CAAC,CAAC;QACvC,MAAM,OAAO,GAAG,MAAM,IAAA,uCAAmB,EAAC,UAAU,EAAE,YAAY,EAAE,0BAA0B,CAAC,CAAC;QAChG,MAAM,IAAA,mDAA+B,EAAC,OAAO,CAAC,CAAC;QAC/C,MAAM,iBAAiB,GAAG;YACxB,CAAC,cAAc,CAAC;SACjB,CAAC;QACF,MAAM,IAAA,2DAAuC,EAAC,OAAO,CAAC,OAAO,EAAE,iBAAiB,CAAC,CAAC;IACpF,CAAC,CAAC,CAAC;AACL,CAAC,CAAC,CAAC","sourcesContent":["// Copyright 2022 The Chromium Authors. All rights reserved.\n// Use of this source code is governed by a BSD-style license that can be\n// found in the LICENSE file.\n\nimport {assertNotNullOrUndefined, getBrowserAndPages} from '../../shared/helper.js';\nimport {describe, it} from '../../shared/mocha-extensions.js';\nimport {\n  ensureResourceSectionIsExpanded,\n  expandIssue,\n  getIssueByTitle,\n  getResourcesElement,\n  navigateToIssuesTab,\n  waitForTableFromResourceSectionContents,\n} from '../helpers/issues-helpers.js';\n\ndescribe('Expect-CT Issue', async () => {\n  it('should display deprecation issue for Expect-CT header', async () => {\n    await navigateToIssuesTab();\n    const {frontend} = getBrowserAndPages();\n    frontend.evaluate(() => {\n      const issue = {\n        code: 'DeprecationIssue',\n        details: {\n          deprecationIssueDetails: {\n            sourceCodeLocation: {\n              url: 'empty.html',\n              lineNumber: 1,\n              columnNumber: 1,\n            },\n            type: 'ExpectCTHeader',\n          },\n        },\n      };\n      // @ts-ignore\n      window.addIssueForTest(issue);\n    });\n\n    await expandIssue();\n    const issueElement = await getIssueByTitle('Deprecated Feature Used');\n    assertNotNullOrUndefined(issueElement);\n    const section = await getResourcesElement('1 source', issueElement, '.affected-resource-label');\n    await ensureResourceSectionIsExpanded(section);\n    const expectedTableRows = [\n      ['empty.html:2'],\n    ];\n    await waitForTableFromResourceSectionContents(section.content, expectedTableRows);\n  });\n});\n"]}